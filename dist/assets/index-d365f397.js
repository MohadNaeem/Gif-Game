function EG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var SG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ag(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function TG(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var UM={exports:{}},w_={},VM={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=Symbol.for("react.element"),CG=Symbol.for("react.portal"),IG=Symbol.for("react.fragment"),NG=Symbol.for("react.strict_mode"),RG=Symbol.for("react.profiler"),AG=Symbol.for("react.provider"),kG=Symbol.for("react.context"),PG=Symbol.for("react.forward_ref"),DG=Symbol.for("react.suspense"),LG=Symbol.for("react.memo"),OG=Symbol.for("react.lazy"),VP=Symbol.iterator;function MG(t){return t===null||typeof t!="object"?null:(t=VP&&t[VP]||t["@@iterator"],typeof t=="function"?t:null)}var jM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zM=Object.assign,HM={};function mf(t,e,n){this.props=t,this.context=e,this.refs=HM,this.updater=n||jM}mf.prototype.isReactComponent={};mf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WM(){}WM.prototype=mf.prototype;function wI(t,e,n){this.props=t,this.context=e,this.refs=HM,this.updater=n||jM}var _I=wI.prototype=new WM;_I.constructor=wI;zM(_I,mf.prototype);_I.isPureReactComponent=!0;var jP=Array.isArray,GM=Object.prototype.hasOwnProperty,bI={current:null},qM={key:!0,ref:!0,__self:!0,__source:!0};function KM(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)GM.call(e,r)&&!qM.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:kg,type:t,key:s,ref:o,props:i,_owner:bI.current}}function FG(t,e){return{$$typeof:kg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xI(t){return typeof t=="object"&&t!==null&&t.$$typeof===kg}function BG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zP=/\/+/g;function Cx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BG(""+t.key):e.toString(36)}function ry(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kg:case CG:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cx(o,0):r,jP(i)?(n="",t!=null&&(n=t.replace(zP,"$&/")+"/"),ry(i,e,n,"",function(c){return c})):i!=null&&(xI(i)&&(i=FG(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",jP(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Cx(s,a);o+=ry(s,e,n,l,i)}else if(l=MG(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Cx(s,a++),o+=ry(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sv(t,e,n){if(t==null)return t;var r=[],i=0;return ry(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $G(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hi={current:null},iy={transition:null},UG={ReactCurrentDispatcher:Hi,ReactCurrentBatchConfig:iy,ReactCurrentOwner:bI};Kt.Children={map:sv,forEach:function(t,e,n){sv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sv(t,function(){e++}),e},toArray:function(t){return sv(t,function(e){return e})||[]},only:function(t){if(!xI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Kt.Component=mf;Kt.Fragment=IG;Kt.Profiler=RG;Kt.PureComponent=wI;Kt.StrictMode=NG;Kt.Suspense=DG;Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UG;Kt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zM({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bI.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)GM.call(e,l)&&!qM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:kg,type:t.type,key:i,ref:s,props:r,_owner:o}};Kt.createContext=function(t){return t={$$typeof:kG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AG,_context:t},t.Consumer=t};Kt.createElement=KM;Kt.createFactory=function(t){var e=KM.bind(null,t);return e.type=t,e};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(t){return{$$typeof:PG,render:t}};Kt.isValidElement=xI;Kt.lazy=function(t){return{$$typeof:OG,_payload:{_status:-1,_result:t},_init:$G}};Kt.memo=function(t,e){return{$$typeof:LG,type:t,compare:e===void 0?null:e}};Kt.startTransition=function(t){var e=iy.transition;iy.transition={};try{t()}finally{iy.transition=e}};Kt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Kt.useCallback=function(t,e){return Hi.current.useCallback(t,e)};Kt.useContext=function(t){return Hi.current.useContext(t)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(t){return Hi.current.useDeferredValue(t)};Kt.useEffect=function(t,e){return Hi.current.useEffect(t,e)};Kt.useId=function(){return Hi.current.useId()};Kt.useImperativeHandle=function(t,e,n){return Hi.current.useImperativeHandle(t,e,n)};Kt.useInsertionEffect=function(t,e){return Hi.current.useInsertionEffect(t,e)};Kt.useLayoutEffect=function(t,e){return Hi.current.useLayoutEffect(t,e)};Kt.useMemo=function(t,e){return Hi.current.useMemo(t,e)};Kt.useReducer=function(t,e,n){return Hi.current.useReducer(t,e,n)};Kt.useRef=function(t){return Hi.current.useRef(t)};Kt.useState=function(t){return Hi.current.useState(t)};Kt.useSyncExternalStore=function(t,e,n){return Hi.current.useSyncExternalStore(t,e,n)};Kt.useTransition=function(){return Hi.current.useTransition()};Kt.version="18.2.0";VM.exports=Kt;var y=VM.exports;const Ze=Ag(y),VG=EG({__proto__:null,default:Ze},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jG=y,zG=Symbol.for("react.element"),HG=Symbol.for("react.fragment"),WG=Object.prototype.hasOwnProperty,GG=jG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qG={key:!0,ref:!0,__self:!0,__source:!0};function QM(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WG.call(e,r)&&!qG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zG,type:t,key:s,ref:o,props:i,_owner:GG.current}}w_.Fragment=HG;w_.jsx=QM;w_.jsxs=QM;UM.exports=w_;var EI=UM.exports;const bs=EI.Fragment,h=EI.jsx,x=EI.jsxs;var SS={},YM={exports:{}},Ds={},XM={exports:{}},JM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,Z){var Te=J.length;J.push(Z);e:for(;0<Te;){var ke=Te-1>>>1,U=J[ke];if(0<i(U,Z))J[ke]=Z,J[Te]=U,Te=ke;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var Z=J[0],Te=J.pop();if(Te!==Z){J[0]=Te;e:for(var ke=0,U=J.length,ne=U>>>1;ke<ne;){var te=2*(ke+1)-1,ue=J[te],le=te+1,Oe=J[le];if(0>i(ue,Te))le<U&&0>i(Oe,ue)?(J[ke]=Oe,J[le]=Te,ke=le):(J[ke]=ue,J[te]=Te,ke=te);else if(le<U&&0>i(Oe,Te))J[ke]=Oe,J[le]=Te,ke=le;else break e}}return Z}function i(J,Z){var Te=J.sortIndex-Z.sortIndex;return Te!==0?Te:J.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,v=!1,g=!1,_=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(J){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=J)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function I(J){if(_=!1,T(J),!g)if(n(l)!==null)g=!0,ge(D);else{var Z=n(c);Z!==null&&K(I,Z.startTime-J)}}function D(J,Z){g=!1,_&&(_=!1,E(C),C=-1),v=!0;var Te=p;try{for(T(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||J&&!W());){var ke=d.callback;if(typeof ke=="function"){d.callback=null,p=d.priorityLevel;var U=ke(d.expirationTime<=Z);Z=t.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),T(Z)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var te=n(c);te!==null&&K(I,te.startTime-Z),ne=!1}return ne}finally{d=null,p=Te,v=!1}}var M=!1,$=null,C=-1,k=5,O=-1;function W(){return!(t.unstable_now()-O<k)}function V(){if($!==null){var J=t.unstable_now();O=J;var Z=!0;try{Z=$(!0,J)}finally{Z?z():(M=!1,$=null)}}else M=!1}var z;if(typeof b=="function")z=function(){b(V)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,fe=Y.port2;Y.port1.onmessage=V,z=function(){fe.postMessage(null)}}else z=function(){R(V,0)};function ge(J){$=J,M||(M=!0,z())}function K(J,Z){C=R(function(){J(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,ge(D))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var Te=p;p=Z;try{return J()}finally{p=Te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,Z){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Te=p;p=J;try{return Z()}finally{p=Te}},t.unstable_scheduleCallback=function(J,Z,Te){var ke=t.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?ke+Te:ke):Te=ke,J){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Te+U,J={id:u++,callback:Z,priorityLevel:J,startTime:Te,expirationTime:U,sortIndex:-1},Te>ke?(J.sortIndex=Te,e(c,J),n(l)===null&&J===n(c)&&(_?(E(C),C=-1):_=!0,K(I,Te-ke))):(J.sortIndex=U,e(l,J),g||v||(g=!0,ge(D))),J},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(J){var Z=p;return function(){var Te=p;p=Z;try{return J.apply(this,arguments)}finally{p=Te}}}})(JM);XM.exports=JM;var KG=XM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZM=y,Ns=KG;function Pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e4=new Set,xm={};function Zu(t,e){Ch(t,e),Ch(t+"Capture",e)}function Ch(t,e){for(xm[t]=e,t=0;t<e.length;t++)e4.add(e[t])}var Ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TS=Object.prototype.hasOwnProperty,QG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HP={},WP={};function YG(t){return TS.call(WP,t)?!0:TS.call(HP,t)?!1:QG.test(t)?WP[t]=!0:(HP[t]=!0,!1)}function XG(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JG(t,e,n,r){if(e===null||typeof e>"u"||XG(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gi[t]=new Wi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gi[e]=new Wi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gi[t]=new Wi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gi[t]=new Wi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gi[t]=new Wi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gi[t]=new Wi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gi[t]=new Wi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gi[t]=new Wi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gi[t]=new Wi(t,5,!1,t.toLowerCase(),null,!1,!1)});var SI=/[\-:]([a-z])/g;function TI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(SI,TI);gi[e]=new Wi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(SI,TI);gi[e]=new Wi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(SI,TI);gi[e]=new Wi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gi[t]=new Wi(t,1,!1,t.toLowerCase(),null,!1,!1)});gi.xlinkHref=new Wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gi[t]=new Wi(t,1,!1,t.toLowerCase(),null,!0,!0)});function CI(t,e,n,r){var i=gi.hasOwnProperty(e)?gi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JG(e,n,i,r)&&(n=null),r||i===null?YG(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Za=ZM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ov=Symbol.for("react.element"),Hd=Symbol.for("react.portal"),Wd=Symbol.for("react.fragment"),II=Symbol.for("react.strict_mode"),CS=Symbol.for("react.profiler"),t4=Symbol.for("react.provider"),n4=Symbol.for("react.context"),NI=Symbol.for("react.forward_ref"),IS=Symbol.for("react.suspense"),NS=Symbol.for("react.suspense_list"),RI=Symbol.for("react.memo"),wl=Symbol.for("react.lazy"),r4=Symbol.for("react.offscreen"),GP=Symbol.iterator;function tp(t){return t===null||typeof t!="object"?null:(t=GP&&t[GP]||t["@@iterator"],typeof t=="function"?t:null)}var or=Object.assign,Ix;function Mp(t){if(Ix===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ix=e&&e[1]||""}return`
`+Ix+t}var Nx=!1;function Rx(t,e){if(!t||Nx)return"";Nx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Nx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mp(t):""}function ZG(t){switch(t.tag){case 5:return Mp(t.type);case 16:return Mp("Lazy");case 13:return Mp("Suspense");case 19:return Mp("SuspenseList");case 0:case 2:case 15:return t=Rx(t.type,!1),t;case 11:return t=Rx(t.type.render,!1),t;case 1:return t=Rx(t.type,!0),t;default:return""}}function RS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wd:return"Fragment";case Hd:return"Portal";case CS:return"Profiler";case II:return"StrictMode";case IS:return"Suspense";case NS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case n4:return(t.displayName||"Context")+".Consumer";case t4:return(t._context.displayName||"Context")+".Provider";case NI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case RI:return e=t.displayName||null,e!==null?e:RS(t.type)||"Memo";case wl:e=t._payload,t=t._init;try{return RS(t(e))}catch{}}return null}function eq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return RS(e);case 8:return e===II?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function i4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tq(t){var e=i4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function av(t){t._valueTracker||(t._valueTracker=tq(t))}function s4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=i4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function My(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function AS(t,e){var n=e.checked;return or({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function o4(t,e){e=e.checked,e!=null&&CI(t,"checked",e,!1)}function kS(t,e){o4(t,e);var n=Jl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?PS(t,e.type,n):e.hasOwnProperty("defaultValue")&&PS(t,e.type,Jl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function KP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function PS(t,e,n){(e!=="number"||My(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fp=Array.isArray;function ah(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function DS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return or({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function QP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Pe(92));if(Fp(n)){if(1<n.length)throw Error(Pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jl(n)}}function a4(t,e){var n=Jl(e.value),r=Jl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function YP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function l4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?l4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lv,c4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lv=lv||document.createElement("div"),lv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Em(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Kp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nq=["Webkit","ms","Moz","O"];Object.keys(Kp).forEach(function(t){nq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kp[e]=Kp[t]})});function u4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Kp.hasOwnProperty(t)&&Kp[t]?(""+e).trim():e+"px"}function d4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=u4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rq=or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function OS(t,e){if(e){if(rq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function MS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FS=null;function AI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var BS=null,lh=null,ch=null;function XP(t){if(t=Lg(t)){if(typeof BS!="function")throw Error(Pe(280));var e=t.stateNode;e&&(e=S_(e),BS(t.stateNode,t.type,e))}}function h4(t){lh?ch?ch.push(t):ch=[t]:lh=t}function f4(){if(lh){var t=lh,e=ch;if(ch=lh=null,XP(t),e)for(t=0;t<e.length;t++)XP(e[t])}}function p4(t,e){return t(e)}function m4(){}var Ax=!1;function g4(t,e,n){if(Ax)return t(e,n);Ax=!0;try{return p4(t,e,n)}finally{Ax=!1,(lh!==null||ch!==null)&&(m4(),f4())}}function Sm(t,e){var n=t.stateNode;if(n===null)return null;var r=S_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Pe(231,e,typeof n));return n}var $S=!1;if(Ha)try{var np={};Object.defineProperty(np,"passive",{get:function(){$S=!0}}),window.addEventListener("test",np,np),window.removeEventListener("test",np,np)}catch{$S=!1}function iq(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Qp=!1,Fy=null,By=!1,US=null,sq={onError:function(t){Qp=!0,Fy=t}};function oq(t,e,n,r,i,s,o,a,l){Qp=!1,Fy=null,iq.apply(sq,arguments)}function aq(t,e,n,r,i,s,o,a,l){if(oq.apply(this,arguments),Qp){if(Qp){var c=Fy;Qp=!1,Fy=null}else throw Error(Pe(198));By||(By=!0,US=c)}}function ed(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function v4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function JP(t){if(ed(t)!==t)throw Error(Pe(188))}function lq(t){var e=t.alternate;if(!e){if(e=ed(t),e===null)throw Error(Pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return JP(i),t;if(s===r)return JP(i),e;s=s.sibling}throw Error(Pe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Pe(189))}}if(n.alternate!==r)throw Error(Pe(190))}if(n.tag!==3)throw Error(Pe(188));return n.stateNode.current===n?t:e}function y4(t){return t=lq(t),t!==null?w4(t):null}function w4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w4(t);if(e!==null)return e;t=t.sibling}return null}var _4=Ns.unstable_scheduleCallback,ZP=Ns.unstable_cancelCallback,cq=Ns.unstable_shouldYield,uq=Ns.unstable_requestPaint,br=Ns.unstable_now,dq=Ns.unstable_getCurrentPriorityLevel,kI=Ns.unstable_ImmediatePriority,b4=Ns.unstable_UserBlockingPriority,$y=Ns.unstable_NormalPriority,hq=Ns.unstable_LowPriority,x4=Ns.unstable_IdlePriority,__=null,ra=null;function fq(t){if(ra&&typeof ra.onCommitFiberRoot=="function")try{ra.onCommitFiberRoot(__,t,void 0,(t.current.flags&128)===128)}catch{}}var To=Math.clz32?Math.clz32:gq,pq=Math.log,mq=Math.LN2;function gq(t){return t>>>=0,t===0?32:31-(pq(t)/mq|0)|0}var cv=64,uv=4194304;function Bp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Bp(a):(s&=o,s!==0&&(r=Bp(s)))}else o=n&~i,o!==0?r=Bp(o):s!==0&&(r=Bp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-To(e),i=1<<n,r|=t[n],e&=~i;return r}function vq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yq(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-To(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vq(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function VS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E4(){var t=cv;return cv<<=1,!(cv&4194240)&&(cv=64),t}function kx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-To(e),t[e]=n}function wq(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-To(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function PI(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-To(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pn=0;function S4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T4,DI,C4,I4,N4,jS=!1,dv=[],Fl=null,Bl=null,$l=null,Tm=new Map,Cm=new Map,xl=[],_q="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eD(t,e){switch(t){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":Tm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cm.delete(e.pointerId)}}function rp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Lg(e),e!==null&&DI(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bq(t,e,n,r,i){switch(e){case"focusin":return Fl=rp(Fl,t,e,n,r,i),!0;case"dragenter":return Bl=rp(Bl,t,e,n,r,i),!0;case"mouseover":return $l=rp($l,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tm.set(s,rp(Tm.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cm.set(s,rp(Cm.get(s)||null,t,e,n,r,i)),!0}return!1}function R4(t){var e=ou(t.target);if(e!==null){var n=ed(e);if(n!==null){if(e=n.tag,e===13){if(e=v4(n),e!==null){t.blockedOn=e,N4(t.priority,function(){C4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);FS=r,n.target.dispatchEvent(r),FS=null}else return e=Lg(n),e!==null&&DI(e),t.blockedOn=n,!1;e.shift()}return!0}function tD(t,e,n){sy(t)&&n.delete(e)}function xq(){jS=!1,Fl!==null&&sy(Fl)&&(Fl=null),Bl!==null&&sy(Bl)&&(Bl=null),$l!==null&&sy($l)&&($l=null),Tm.forEach(tD),Cm.forEach(tD)}function ip(t,e){t.blockedOn===e&&(t.blockedOn=null,jS||(jS=!0,Ns.unstable_scheduleCallback(Ns.unstable_NormalPriority,xq)))}function Im(t){function e(i){return ip(i,t)}if(0<dv.length){ip(dv[0],t);for(var n=1;n<dv.length;n++){var r=dv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fl!==null&&ip(Fl,t),Bl!==null&&ip(Bl,t),$l!==null&&ip($l,t),Tm.forEach(e),Cm.forEach(e),n=0;n<xl.length;n++)r=xl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xl.length&&(n=xl[0],n.blockedOn===null);)R4(n),n.blockedOn===null&&xl.shift()}var uh=Za.ReactCurrentBatchConfig,Vy=!0;function Eq(t,e,n,r){var i=pn,s=uh.transition;uh.transition=null;try{pn=1,LI(t,e,n,r)}finally{pn=i,uh.transition=s}}function Sq(t,e,n,r){var i=pn,s=uh.transition;uh.transition=null;try{pn=4,LI(t,e,n,r)}finally{pn=i,uh.transition=s}}function LI(t,e,n,r){if(Vy){var i=zS(t,e,n,r);if(i===null)Vx(t,e,r,jy,n),eD(t,r);else if(bq(i,t,e,n,r))r.stopPropagation();else if(eD(t,r),e&4&&-1<_q.indexOf(t)){for(;i!==null;){var s=Lg(i);if(s!==null&&T4(s),s=zS(t,e,n,r),s===null&&Vx(t,e,r,jy,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vx(t,e,r,null,n)}}var jy=null;function zS(t,e,n,r){if(jy=null,t=AI(r),t=ou(t),t!==null)if(e=ed(t),e===null)t=null;else if(n=e.tag,n===13){if(t=v4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jy=t,null}function A4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dq()){case kI:return 1;case b4:return 4;case $y:case hq:return 16;case x4:return 536870912;default:return 16}default:return 16}}var Il=null,OI=null,oy=null;function k4(){if(oy)return oy;var t,e=OI,n=e.length,r,i="value"in Il?Il.value:Il.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return oy=i.slice(t,1<r?1-r:void 0)}function ay(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hv(){return!0}function nD(){return!1}function Ls(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hv:nD,this.isPropagationStopped=nD,this}return or(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hv)},persist:function(){},isPersistent:hv}),e}var gf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},MI=Ls(gf),Dg=or({},gf,{view:0,detail:0}),Tq=Ls(Dg),Px,Dx,sp,b_=or({},Dg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sp&&(sp&&t.type==="mousemove"?(Px=t.screenX-sp.screenX,Dx=t.screenY-sp.screenY):Dx=Px=0,sp=t),Px)},movementY:function(t){return"movementY"in t?t.movementY:Dx}}),rD=Ls(b_),Cq=or({},b_,{dataTransfer:0}),Iq=Ls(Cq),Nq=or({},Dg,{relatedTarget:0}),Lx=Ls(Nq),Rq=or({},gf,{animationName:0,elapsedTime:0,pseudoElement:0}),Aq=Ls(Rq),kq=or({},gf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pq=Ls(kq),Dq=or({},gf,{data:0}),iD=Ls(Dq),Lq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mq[t])?!!e[t]:!1}function FI(){return Fq}var Bq=or({},Dg,{key:function(t){if(t.key){var e=Lq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ay(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FI,charCode:function(t){return t.type==="keypress"?ay(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ay(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$q=Ls(Bq),Uq=or({},b_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sD=Ls(Uq),Vq=or({},Dg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FI}),jq=Ls(Vq),zq=or({},gf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hq=Ls(zq),Wq=or({},b_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gq=Ls(Wq),qq=[9,13,27,32],BI=Ha&&"CompositionEvent"in window,Yp=null;Ha&&"documentMode"in document&&(Yp=document.documentMode);var Kq=Ha&&"TextEvent"in window&&!Yp,P4=Ha&&(!BI||Yp&&8<Yp&&11>=Yp),oD=String.fromCharCode(32),aD=!1;function D4(t,e){switch(t){case"keyup":return qq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gd=!1;function Qq(t,e){switch(t){case"compositionend":return L4(e);case"keypress":return e.which!==32?null:(aD=!0,oD);case"textInput":return t=e.data,t===oD&&aD?null:t;default:return null}}function Yq(t,e){if(Gd)return t==="compositionend"||!BI&&D4(t,e)?(t=k4(),oy=OI=Il=null,Gd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return P4&&e.locale!=="ko"?null:e.data;default:return null}}var Xq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xq[t.type]:e==="textarea"}function O4(t,e,n,r){h4(r),e=zy(e,"onChange"),0<e.length&&(n=new MI("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xp=null,Nm=null;function Jq(t){G4(t,0)}function x_(t){var e=Qd(t);if(s4(e))return t}function Zq(t,e){if(t==="change")return e}var M4=!1;if(Ha){var Ox;if(Ha){var Mx="oninput"in document;if(!Mx){var cD=document.createElement("div");cD.setAttribute("oninput","return;"),Mx=typeof cD.oninput=="function"}Ox=Mx}else Ox=!1;M4=Ox&&(!document.documentMode||9<document.documentMode)}function uD(){Xp&&(Xp.detachEvent("onpropertychange",F4),Nm=Xp=null)}function F4(t){if(t.propertyName==="value"&&x_(Nm)){var e=[];O4(e,Nm,t,AI(t)),g4(Jq,e)}}function eK(t,e,n){t==="focusin"?(uD(),Xp=e,Nm=n,Xp.attachEvent("onpropertychange",F4)):t==="focusout"&&uD()}function tK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return x_(Nm)}function nK(t,e){if(t==="click")return x_(e)}function rK(t,e){if(t==="input"||t==="change")return x_(e)}function iK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var No=typeof Object.is=="function"?Object.is:iK;function Rm(t,e){if(No(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!TS.call(e,i)||!No(t[i],e[i]))return!1}return!0}function dD(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hD(t,e){var n=dD(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dD(n)}}function B4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $4(){for(var t=window,e=My();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=My(t.document)}return e}function $I(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sK(t){var e=$4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&B4(n.ownerDocument.documentElement,n)){if(r!==null&&$I(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=hD(n,s);var o=hD(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oK=Ha&&"documentMode"in document&&11>=document.documentMode,qd=null,HS=null,Jp=null,WS=!1;function fD(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;WS||qd==null||qd!==My(r)||(r=qd,"selectionStart"in r&&$I(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jp&&Rm(Jp,r)||(Jp=r,r=zy(HS,"onSelect"),0<r.length&&(e=new MI("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qd)))}function fv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kd={animationend:fv("Animation","AnimationEnd"),animationiteration:fv("Animation","AnimationIteration"),animationstart:fv("Animation","AnimationStart"),transitionend:fv("Transition","TransitionEnd")},Fx={},U4={};Ha&&(U4=document.createElement("div").style,"AnimationEvent"in window||(delete Kd.animationend.animation,delete Kd.animationiteration.animation,delete Kd.animationstart.animation),"TransitionEvent"in window||delete Kd.transitionend.transition);function E_(t){if(Fx[t])return Fx[t];if(!Kd[t])return t;var e=Kd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in U4)return Fx[t]=e[n];return t}var V4=E_("animationend"),j4=E_("animationiteration"),z4=E_("animationstart"),H4=E_("transitionend"),W4=new Map,pD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yc(t,e){W4.set(t,e),Zu(e,[t])}for(var Bx=0;Bx<pD.length;Bx++){var $x=pD[Bx],aK=$x.toLowerCase(),lK=$x[0].toUpperCase()+$x.slice(1);yc(aK,"on"+lK)}yc(V4,"onAnimationEnd");yc(j4,"onAnimationIteration");yc(z4,"onAnimationStart");yc("dblclick","onDoubleClick");yc("focusin","onFocus");yc("focusout","onBlur");yc(H4,"onTransitionEnd");Ch("onMouseEnter",["mouseout","mouseover"]);Ch("onMouseLeave",["mouseout","mouseover"]);Ch("onPointerEnter",["pointerout","pointerover"]);Ch("onPointerLeave",["pointerout","pointerover"]);Zu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $p="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cK=new Set("cancel close invalid load scroll toggle".split(" ").concat($p));function mD(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aq(r,e,void 0,t),t.currentTarget=null}function G4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;mD(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;mD(i,a,c),s=l}}}if(By)throw t=US,By=!1,US=null,t}function Fn(t,e){var n=e[YS];n===void 0&&(n=e[YS]=new Set);var r=t+"__bubble";n.has(r)||(q4(e,t,2,!1),n.add(r))}function Ux(t,e,n){var r=0;e&&(r|=4),q4(n,t,r,e)}var pv="_reactListening"+Math.random().toString(36).slice(2);function Am(t){if(!t[pv]){t[pv]=!0,e4.forEach(function(n){n!=="selectionchange"&&(cK.has(n)||Ux(n,!1,t),Ux(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pv]||(e[pv]=!0,Ux("selectionchange",!1,e))}}function q4(t,e,n,r){switch(A4(e)){case 1:var i=Eq;break;case 4:i=Sq;break;default:i=LI}n=i.bind(null,e,n,t),i=void 0,!$S||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vx(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ou(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}g4(function(){var c=s,u=AI(n),d=[];e:{var p=W4.get(t);if(p!==void 0){var v=MI,g=t;switch(t){case"keypress":if(ay(n)===0)break e;case"keydown":case"keyup":v=$q;break;case"focusin":g="focus",v=Lx;break;case"focusout":g="blur",v=Lx;break;case"beforeblur":case"afterblur":v=Lx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=rD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Iq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=jq;break;case V4:case j4:case z4:v=Aq;break;case H4:v=Hq;break;case"scroll":v=Tq;break;case"wheel":v=Gq;break;case"copy":case"cut":case"paste":v=Pq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=sD}var _=(e&4)!==0,R=!_&&t==="scroll",E=_?p!==null?p+"Capture":null:p;_=[];for(var b=c,T;b!==null;){T=b;var I=T.stateNode;if(T.tag===5&&I!==null&&(T=I,E!==null&&(I=Sm(b,E),I!=null&&_.push(km(b,I,T)))),R)break;b=b.return}0<_.length&&(p=new v(p,g,null,n,u),d.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==FS&&(g=n.relatedTarget||n.fromElement)&&(ou(g)||g[Wa]))break e;if((v||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=c,g=g?ou(g):null,g!==null&&(R=ed(g),g!==R||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=c),v!==g)){if(_=rD,I="onMouseLeave",E="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(_=sD,I="onPointerLeave",E="onPointerEnter",b="pointer"),R=v==null?p:Qd(v),T=g==null?p:Qd(g),p=new _(I,b+"leave",v,n,u),p.target=R,p.relatedTarget=T,I=null,ou(u)===c&&(_=new _(E,b+"enter",g,n,u),_.target=T,_.relatedTarget=R,I=_),R=I,v&&g)t:{for(_=v,E=g,b=0,T=_;T;T=Cd(T))b++;for(T=0,I=E;I;I=Cd(I))T++;for(;0<b-T;)_=Cd(_),b--;for(;0<T-b;)E=Cd(E),T--;for(;b--;){if(_===E||E!==null&&_===E.alternate)break t;_=Cd(_),E=Cd(E)}_=null}else _=null;v!==null&&gD(d,p,v,_,!1),g!==null&&R!==null&&gD(d,R,g,_,!0)}}e:{if(p=c?Qd(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var D=Zq;else if(lD(p))if(M4)D=rK;else{D=tK;var M=eK}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=nK);if(D&&(D=D(t,c))){O4(d,D,n,u);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&PS(p,"number",p.value)}switch(M=c?Qd(c):window,t){case"focusin":(lD(M)||M.contentEditable==="true")&&(qd=M,HS=c,Jp=null);break;case"focusout":Jp=HS=qd=null;break;case"mousedown":WS=!0;break;case"contextmenu":case"mouseup":case"dragend":WS=!1,fD(d,n,u);break;case"selectionchange":if(oK)break;case"keydown":case"keyup":fD(d,n,u)}var $;if(BI)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Gd?D4(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(P4&&n.locale!=="ko"&&(Gd||C!=="onCompositionStart"?C==="onCompositionEnd"&&Gd&&($=k4()):(Il=u,OI="value"in Il?Il.value:Il.textContent,Gd=!0)),M=zy(c,C),0<M.length&&(C=new iD(C,t,null,n,u),d.push({event:C,listeners:M}),$?C.data=$:($=L4(n),$!==null&&(C.data=$)))),($=Kq?Qq(t,n):Yq(t,n))&&(c=zy(c,"onBeforeInput"),0<c.length&&(u=new iD("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=$))}G4(d,e)})}function km(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sm(t,n),s!=null&&r.unshift(km(t,s,i)),s=Sm(t,e),s!=null&&r.push(km(t,s,i))),t=t.return}return r}function Cd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gD(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Sm(n,s),l!=null&&o.unshift(km(n,l,a))):i||(l=Sm(n,s),l!=null&&o.push(km(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uK=/\r\n?/g,dK=/\u0000|\uFFFD/g;function vD(t){return(typeof t=="string"?t:""+t).replace(uK,`
`).replace(dK,"")}function mv(t,e,n){if(e=vD(e),vD(t)!==e&&n)throw Error(Pe(425))}function Hy(){}var GS=null,qS=null;function KS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var QS=typeof setTimeout=="function"?setTimeout:void 0,hK=typeof clearTimeout=="function"?clearTimeout:void 0,yD=typeof Promise=="function"?Promise:void 0,fK=typeof queueMicrotask=="function"?queueMicrotask:typeof yD<"u"?function(t){return yD.resolve(null).then(t).catch(pK)}:QS;function pK(t){setTimeout(function(){throw t})}function jx(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Im(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Im(e)}function Ul(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vf=Math.random().toString(36).slice(2),zo="__reactFiber$"+vf,Pm="__reactProps$"+vf,Wa="__reactContainer$"+vf,YS="__reactEvents$"+vf,mK="__reactListeners$"+vf,gK="__reactHandles$"+vf;function ou(t){var e=t[zo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wa]||n[zo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wD(t);t!==null;){if(n=t[zo])return n;t=wD(t)}return e}t=n,n=t.parentNode}return null}function Lg(t){return t=t[zo]||t[Wa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Pe(33))}function S_(t){return t[Pm]||null}var XS=[],Yd=-1;function wc(t){return{current:t}}function zn(t){0>Yd||(t.current=XS[Yd],XS[Yd]=null,Yd--)}function An(t,e){Yd++,XS[Yd]=t.current,t.current=e}var Zl={},Ai=wc(Zl),ls=wc(!1),Iu=Zl;function Ih(t,e){var n=t.type.contextTypes;if(!n)return Zl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cs(t){return t=t.childContextTypes,t!=null}function Wy(){zn(ls),zn(Ai)}function _D(t,e,n){if(Ai.current!==Zl)throw Error(Pe(168));An(Ai,e),An(ls,n)}function K4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Pe(108,eq(t)||"Unknown",i));return or({},n,r)}function Gy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zl,Iu=Ai.current,An(Ai,t),An(ls,ls.current),!0}function bD(t,e,n){var r=t.stateNode;if(!r)throw Error(Pe(169));n?(t=K4(t,e,Iu),r.__reactInternalMemoizedMergedChildContext=t,zn(ls),zn(Ai),An(Ai,t)):zn(ls),An(ls,n)}var Ia=null,T_=!1,zx=!1;function Q4(t){Ia===null?Ia=[t]:Ia.push(t)}function vK(t){T_=!0,Q4(t)}function _c(){if(!zx&&Ia!==null){zx=!0;var t=0,e=pn;try{var n=Ia;for(pn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ia=null,T_=!1}catch(i){throw Ia!==null&&(Ia=Ia.slice(t+1)),_4(kI,_c),i}finally{pn=e,zx=!1}}return null}var Xd=[],Jd=0,qy=null,Ky=0,Hs=[],Ws=0,Nu=null,Na=1,Ra="";function Qc(t,e){Xd[Jd++]=Ky,Xd[Jd++]=qy,qy=t,Ky=e}function Y4(t,e,n){Hs[Ws++]=Na,Hs[Ws++]=Ra,Hs[Ws++]=Nu,Nu=t;var r=Na;t=Ra;var i=32-To(r)-1;r&=~(1<<i),n+=1;var s=32-To(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Na=1<<32-To(e)+i|n<<i|r,Ra=s+t}else Na=1<<s|n<<i|r,Ra=t}function UI(t){t.return!==null&&(Qc(t,1),Y4(t,1,0))}function VI(t){for(;t===qy;)qy=Xd[--Jd],Xd[Jd]=null,Ky=Xd[--Jd],Xd[Jd]=null;for(;t===Nu;)Nu=Hs[--Ws],Hs[Ws]=null,Ra=Hs[--Ws],Hs[Ws]=null,Na=Hs[--Ws],Hs[Ws]=null}var Is=null,Es=null,Yn=!1,wo=null;function X4(t,e){var n=Ks(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xD(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Is=t,Es=Ul(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Is=t,Es=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nu!==null?{id:Na,overflow:Ra}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ks(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Is=t,Es=null,!0):!1;default:return!1}}function JS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ZS(t){if(Yn){var e=Es;if(e){var n=e;if(!xD(t,e)){if(JS(t))throw Error(Pe(418));e=Ul(n.nextSibling);var r=Is;e&&xD(t,e)?X4(r,n):(t.flags=t.flags&-4097|2,Yn=!1,Is=t)}}else{if(JS(t))throw Error(Pe(418));t.flags=t.flags&-4097|2,Yn=!1,Is=t}}}function ED(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Is=t}function gv(t){if(t!==Is)return!1;if(!Yn)return ED(t),Yn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!KS(t.type,t.memoizedProps)),e&&(e=Es)){if(JS(t))throw J4(),Error(Pe(418));for(;e;)X4(t,e),e=Ul(e.nextSibling)}if(ED(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Es=Ul(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Es=null}}else Es=Is?Ul(t.stateNode.nextSibling):null;return!0}function J4(){for(var t=Es;t;)t=Ul(t.nextSibling)}function Nh(){Es=Is=null,Yn=!1}function jI(t){wo===null?wo=[t]:wo.push(t)}var yK=Za.ReactCurrentBatchConfig;function go(t,e){if(t&&t.defaultProps){e=or({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Qy=wc(null),Yy=null,Zd=null,zI=null;function HI(){zI=Zd=Yy=null}function WI(t){var e=Qy.current;zn(Qy),t._currentValue=e}function eT(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dh(t,e){Yy=t,zI=Zd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rs=!0),t.firstContext=null)}function to(t){var e=t._currentValue;if(zI!==t)if(t={context:t,memoizedValue:e,next:null},Zd===null){if(Yy===null)throw Error(Pe(308));Zd=t,Yy.dependencies={lanes:0,firstContext:t}}else Zd=Zd.next=t;return e}var au=null;function GI(t){au===null?au=[t]:au.push(t)}function Z4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,GI(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ga(t,r)}function Ga(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _l=!1;function qI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ga(t,n)}return i=r.interleaved,i===null?(e.next=e,GI(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ga(t,n)}function ly(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,PI(t,n)}}function SD(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xy(t,e,n,r){var i=t.updateQueue;_l=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,v=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(p=e,v=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(v,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,p=typeof g=="function"?g.call(v,d,p):g,p==null)break e;d=or({},d,p);break e;case 2:_l=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=v,l=d):u=u.next=v,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Au|=o,t.lanes=o,t.memoizedState=d}}function TD(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Pe(191,i));i.call(r)}}}var tF=new ZM.Component().refs;function tT(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:or({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var C_={isMounted:function(t){return(t=t._reactInternals)?ed(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$i(),i=zl(t),s=Fa(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vl(t,s,i),e!==null&&(Co(e,t,i,r),ly(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$i(),i=zl(t),s=Fa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vl(t,s,i),e!==null&&(Co(e,t,i,r),ly(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$i(),r=zl(t),i=Fa(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vl(t,i,r),e!==null&&(Co(e,t,r,n),ly(e,t,r))}};function CD(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rm(n,r)||!Rm(i,s):!0}function nF(t,e,n){var r=!1,i=Zl,s=e.contextType;return typeof s=="object"&&s!==null?s=to(s):(i=cs(e)?Iu:Ai.current,r=e.contextTypes,s=(r=r!=null)?Ih(t,i):Zl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=C_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ID(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&C_.enqueueReplaceState(e,e.state,null)}function nT(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=tF,qI(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=to(s):(s=cs(e)?Iu:Ai.current,i.context=Ih(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tT(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&C_.enqueueReplaceState(i,i.state,null),Xy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function op(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pe(309));var r=n.stateNode}if(!r)throw Error(Pe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===tF&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Pe(284));if(!n._owner)throw Error(Pe(290,t))}return t}function vv(t,e){throw t=Object.prototype.toString.call(e),Error(Pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ND(t){var e=t._init;return e(t._payload)}function rF(t){function e(E,b){if(t){var T=E.deletions;T===null?(E.deletions=[b],E.flags|=16):T.push(b)}}function n(E,b){if(!t)return null;for(;b!==null;)e(E,b),b=b.sibling;return null}function r(E,b){for(E=new Map;b!==null;)b.key!==null?E.set(b.key,b):E.set(b.index,b),b=b.sibling;return E}function i(E,b){return E=Hl(E,b),E.index=0,E.sibling=null,E}function s(E,b,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<b?(E.flags|=2,b):T):(E.flags|=2,b)):(E.flags|=1048576,b)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,b,T,I){return b===null||b.tag!==6?(b=Yx(T,E.mode,I),b.return=E,b):(b=i(b,T),b.return=E,b)}function l(E,b,T,I){var D=T.type;return D===Wd?u(E,b,T.props.children,I,T.key):b!==null&&(b.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===wl&&ND(D)===b.type)?(I=i(b,T.props),I.ref=op(E,b,T),I.return=E,I):(I=py(T.type,T.key,T.props,null,E.mode,I),I.ref=op(E,b,T),I.return=E,I)}function c(E,b,T,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=Xx(T,E.mode,I),b.return=E,b):(b=i(b,T.children||[]),b.return=E,b)}function u(E,b,T,I,D){return b===null||b.tag!==7?(b=wu(T,E.mode,I,D),b.return=E,b):(b=i(b,T),b.return=E,b)}function d(E,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Yx(""+b,E.mode,T),b.return=E,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ov:return T=py(b.type,b.key,b.props,null,E.mode,T),T.ref=op(E,null,b),T.return=E,T;case Hd:return b=Xx(b,E.mode,T),b.return=E,b;case wl:var I=b._init;return d(E,I(b._payload),T)}if(Fp(b)||tp(b))return b=wu(b,E.mode,T,null),b.return=E,b;vv(E,b)}return null}function p(E,b,T,I){var D=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(E,b,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ov:return T.key===D?l(E,b,T,I):null;case Hd:return T.key===D?c(E,b,T,I):null;case wl:return D=T._init,p(E,b,D(T._payload),I)}if(Fp(T)||tp(T))return D!==null?null:u(E,b,T,I,null);vv(E,T)}return null}function v(E,b,T,I,D){if(typeof I=="string"&&I!==""||typeof I=="number")return E=E.get(T)||null,a(b,E,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ov:return E=E.get(I.key===null?T:I.key)||null,l(b,E,I,D);case Hd:return E=E.get(I.key===null?T:I.key)||null,c(b,E,I,D);case wl:var M=I._init;return v(E,b,T,M(I._payload),D)}if(Fp(I)||tp(I))return E=E.get(T)||null,u(b,E,I,D,null);vv(b,I)}return null}function g(E,b,T,I){for(var D=null,M=null,$=b,C=b=0,k=null;$!==null&&C<T.length;C++){$.index>C?(k=$,$=null):k=$.sibling;var O=p(E,$,T[C],I);if(O===null){$===null&&($=k);break}t&&$&&O.alternate===null&&e(E,$),b=s(O,b,C),M===null?D=O:M.sibling=O,M=O,$=k}if(C===T.length)return n(E,$),Yn&&Qc(E,C),D;if($===null){for(;C<T.length;C++)$=d(E,T[C],I),$!==null&&(b=s($,b,C),M===null?D=$:M.sibling=$,M=$);return Yn&&Qc(E,C),D}for($=r(E,$);C<T.length;C++)k=v($,E,C,T[C],I),k!==null&&(t&&k.alternate!==null&&$.delete(k.key===null?C:k.key),b=s(k,b,C),M===null?D=k:M.sibling=k,M=k);return t&&$.forEach(function(W){return e(E,W)}),Yn&&Qc(E,C),D}function _(E,b,T,I){var D=tp(T);if(typeof D!="function")throw Error(Pe(150));if(T=D.call(T),T==null)throw Error(Pe(151));for(var M=D=null,$=b,C=b=0,k=null,O=T.next();$!==null&&!O.done;C++,O=T.next()){$.index>C?(k=$,$=null):k=$.sibling;var W=p(E,$,O.value,I);if(W===null){$===null&&($=k);break}t&&$&&W.alternate===null&&e(E,$),b=s(W,b,C),M===null?D=W:M.sibling=W,M=W,$=k}if(O.done)return n(E,$),Yn&&Qc(E,C),D;if($===null){for(;!O.done;C++,O=T.next())O=d(E,O.value,I),O!==null&&(b=s(O,b,C),M===null?D=O:M.sibling=O,M=O);return Yn&&Qc(E,C),D}for($=r(E,$);!O.done;C++,O=T.next())O=v($,E,C,O.value,I),O!==null&&(t&&O.alternate!==null&&$.delete(O.key===null?C:O.key),b=s(O,b,C),M===null?D=O:M.sibling=O,M=O);return t&&$.forEach(function(V){return e(E,V)}),Yn&&Qc(E,C),D}function R(E,b,T,I){if(typeof T=="object"&&T!==null&&T.type===Wd&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ov:e:{for(var D=T.key,M=b;M!==null;){if(M.key===D){if(D=T.type,D===Wd){if(M.tag===7){n(E,M.sibling),b=i(M,T.props.children),b.return=E,E=b;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===wl&&ND(D)===M.type){n(E,M.sibling),b=i(M,T.props),b.ref=op(E,M,T),b.return=E,E=b;break e}n(E,M);break}else e(E,M);M=M.sibling}T.type===Wd?(b=wu(T.props.children,E.mode,I,T.key),b.return=E,E=b):(I=py(T.type,T.key,T.props,null,E.mode,I),I.ref=op(E,b,T),I.return=E,E=I)}return o(E);case Hd:e:{for(M=T.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(E,b.sibling),b=i(b,T.children||[]),b.return=E,E=b;break e}else{n(E,b);break}else e(E,b);b=b.sibling}b=Xx(T,E.mode,I),b.return=E,E=b}return o(E);case wl:return M=T._init,R(E,b,M(T._payload),I)}if(Fp(T))return g(E,b,T,I);if(tp(T))return _(E,b,T,I);vv(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(n(E,b.sibling),b=i(b,T),b.return=E,E=b):(n(E,b),b=Yx(T,E.mode,I),b.return=E,E=b),o(E)):n(E,b)}return R}var Rh=rF(!0),iF=rF(!1),Og={},ia=wc(Og),Dm=wc(Og),Lm=wc(Og);function lu(t){if(t===Og)throw Error(Pe(174));return t}function KI(t,e){switch(An(Lm,e),An(Dm,t),An(ia,Og),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:LS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=LS(e,t)}zn(ia),An(ia,e)}function Ah(){zn(ia),zn(Dm),zn(Lm)}function sF(t){lu(Lm.current);var e=lu(ia.current),n=LS(e,t.type);e!==n&&(An(Dm,t),An(ia,n))}function QI(t){Dm.current===t&&(zn(ia),zn(Dm))}var tr=wc(0);function Jy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hx=[];function YI(){for(var t=0;t<Hx.length;t++)Hx[t]._workInProgressVersionPrimary=null;Hx.length=0}var cy=Za.ReactCurrentDispatcher,Wx=Za.ReactCurrentBatchConfig,Ru=0,sr=null,Or=null,Wr=null,Zy=!1,Zp=!1,Om=0,wK=0;function _i(){throw Error(Pe(321))}function XI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!No(t[n],e[n]))return!1;return!0}function JI(t,e,n,r,i,s){if(Ru=s,sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cy.current=t===null||t.memoizedState===null?EK:SK,t=n(r,i),Zp){s=0;do{if(Zp=!1,Om=0,25<=s)throw Error(Pe(301));s+=1,Wr=Or=null,e.updateQueue=null,cy.current=TK,t=n(r,i)}while(Zp)}if(cy.current=ew,e=Or!==null&&Or.next!==null,Ru=0,Wr=Or=sr=null,Zy=!1,e)throw Error(Pe(300));return t}function ZI(){var t=Om!==0;return Om=0,t}function Bo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?sr.memoizedState=Wr=t:Wr=Wr.next=t,Wr}function no(){if(Or===null){var t=sr.alternate;t=t!==null?t.memoizedState:null}else t=Or.next;var e=Wr===null?sr.memoizedState:Wr.next;if(e!==null)Wr=e,Or=t;else{if(t===null)throw Error(Pe(310));Or=t,t={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Wr===null?sr.memoizedState=Wr=t:Wr=Wr.next=t}return Wr}function Mm(t,e){return typeof e=="function"?e(t):e}function Gx(t){var e=no(),n=e.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=t;var r=Or,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ru&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,sr.lanes|=u,Au|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,No(r,e.memoizedState)||(rs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,sr.lanes|=s,Au|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qx(t){var e=no(),n=e.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);No(s,e.memoizedState)||(rs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function oF(){}function aF(t,e){var n=sr,r=no(),i=e(),s=!No(r.memoizedState,i);if(s&&(r.memoizedState=i,rs=!0),r=r.queue,eN(uF.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wr!==null&&Wr.memoizedState.tag&1){if(n.flags|=2048,Fm(9,cF.bind(null,n,r,i,e),void 0,null),Yr===null)throw Error(Pe(349));Ru&30||lF(n,e,i)}return i}function lF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cF(t,e,n,r){e.value=n,e.getSnapshot=r,dF(e)&&hF(t)}function uF(t,e,n){return n(function(){dF(e)&&hF(t)})}function dF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!No(t,n)}catch{return!0}}function hF(t){var e=Ga(t,1);e!==null&&Co(e,t,1,-1)}function RD(t){var e=Bo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:t},e.queue=t,t=t.dispatch=xK.bind(null,sr,t),[e.memoizedState,t]}function Fm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fF(){return no().memoizedState}function uy(t,e,n,r){var i=Bo();sr.flags|=t,i.memoizedState=Fm(1|e,n,void 0,r===void 0?null:r)}function I_(t,e,n,r){var i=no();r=r===void 0?null:r;var s=void 0;if(Or!==null){var o=Or.memoizedState;if(s=o.destroy,r!==null&&XI(r,o.deps)){i.memoizedState=Fm(e,n,s,r);return}}sr.flags|=t,i.memoizedState=Fm(1|e,n,s,r)}function AD(t,e){return uy(8390656,8,t,e)}function eN(t,e){return I_(2048,8,t,e)}function pF(t,e){return I_(4,2,t,e)}function mF(t,e){return I_(4,4,t,e)}function gF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vF(t,e,n){return n=n!=null?n.concat([t]):null,I_(4,4,gF.bind(null,e,t),n)}function tN(){}function yF(t,e){var n=no();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&XI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wF(t,e){var n=no();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&XI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _F(t,e,n){return Ru&21?(No(n,e)||(n=E4(),sr.lanes|=n,Au|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rs=!0),t.memoizedState=n)}function _K(t,e){var n=pn;pn=n!==0&&4>n?n:4,t(!0);var r=Wx.transition;Wx.transition={};try{t(!1),e()}finally{pn=n,Wx.transition=r}}function bF(){return no().memoizedState}function bK(t,e,n){var r=zl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xF(t))EF(e,n);else if(n=Z4(t,e,n,r),n!==null){var i=$i();Co(n,t,r,i),SF(n,e,r)}}function xK(t,e,n){var r=zl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xF(t))EF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,No(a,o)){var l=e.interleaved;l===null?(i.next=i,GI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Z4(t,e,i,r),n!==null&&(i=$i(),Co(n,t,r,i),SF(n,e,r))}}function xF(t){var e=t.alternate;return t===sr||e!==null&&e===sr}function EF(t,e){Zp=Zy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,PI(t,n)}}var ew={readContext:to,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useInsertionEffect:_i,useLayoutEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useMutableSource:_i,useSyncExternalStore:_i,useId:_i,unstable_isNewReconciler:!1},EK={readContext:to,useCallback:function(t,e){return Bo().memoizedState=[t,e===void 0?null:e],t},useContext:to,useEffect:AD,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uy(4194308,4,gF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uy(4194308,4,t,e)},useInsertionEffect:function(t,e){return uy(4,2,t,e)},useMemo:function(t,e){var n=Bo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bK.bind(null,sr,t),[r.memoizedState,t]},useRef:function(t){var e=Bo();return t={current:t},e.memoizedState=t},useState:RD,useDebugValue:tN,useDeferredValue:function(t){return Bo().memoizedState=t},useTransition:function(){var t=RD(!1),e=t[0];return t=_K.bind(null,t[1]),Bo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=sr,i=Bo();if(Yn){if(n===void 0)throw Error(Pe(407));n=n()}else{if(n=e(),Yr===null)throw Error(Pe(349));Ru&30||lF(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,AD(uF.bind(null,r,s,t),[t]),r.flags|=2048,Fm(9,cF.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Bo(),e=Yr.identifierPrefix;if(Yn){var n=Ra,r=Na;n=(r&~(1<<32-To(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Om++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wK++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SK={readContext:to,useCallback:yF,useContext:to,useEffect:eN,useImperativeHandle:vF,useInsertionEffect:pF,useLayoutEffect:mF,useMemo:wF,useReducer:Gx,useRef:fF,useState:function(){return Gx(Mm)},useDebugValue:tN,useDeferredValue:function(t){var e=no();return _F(e,Or.memoizedState,t)},useTransition:function(){var t=Gx(Mm)[0],e=no().memoizedState;return[t,e]},useMutableSource:oF,useSyncExternalStore:aF,useId:bF,unstable_isNewReconciler:!1},TK={readContext:to,useCallback:yF,useContext:to,useEffect:eN,useImperativeHandle:vF,useInsertionEffect:pF,useLayoutEffect:mF,useMemo:wF,useReducer:qx,useRef:fF,useState:function(){return qx(Mm)},useDebugValue:tN,useDeferredValue:function(t){var e=no();return Or===null?e.memoizedState=t:_F(e,Or.memoizedState,t)},useTransition:function(){var t=qx(Mm)[0],e=no().memoizedState;return[t,e]},useMutableSource:oF,useSyncExternalStore:aF,useId:bF,unstable_isNewReconciler:!1};function kh(t,e){try{var n="",r=e;do n+=ZG(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Kx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rT(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CK=typeof WeakMap=="function"?WeakMap:Map;function TF(t,e,n){n=Fa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nw||(nw=!0,fT=r),rT(t,e)},n}function CF(t,e,n){n=Fa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rT(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rT(t,e),typeof r!="function"&&(jl===null?jl=new Set([this]):jl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kD(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CK;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UK.bind(null,t,e,n),e.then(t,t))}function PD(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function DD(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fa(-1,1),e.tag=2,Vl(n,e,1))),n.lanes|=1),t)}var IK=Za.ReactCurrentOwner,rs=!1;function Di(t,e,n,r){e.child=t===null?iF(e,null,n,r):Rh(e,t.child,n,r)}function LD(t,e,n,r,i){n=n.render;var s=e.ref;return dh(e,i),r=JI(t,e,n,r,s,i),n=ZI(),t!==null&&!rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qa(t,e,i)):(Yn&&n&&UI(e),e.flags|=1,Di(t,e,r,i),e.child)}function OD(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!cN(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,IF(t,e,s,r,i)):(t=py(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rm,n(o,r)&&t.ref===e.ref)return qa(t,e,i)}return e.flags|=1,t=Hl(s,r),t.ref=e.ref,t.return=e,e.child=t}function IF(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Rm(s,r)&&t.ref===e.ref)if(rs=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rs=!0);else return e.lanes=t.lanes,qa(t,e,i)}return iT(t,e,n,r,i)}function NF(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(th,_s),_s|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,An(th,_s),_s|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,An(th,_s),_s|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,An(th,_s),_s|=r;return Di(t,e,i,n),e.child}function RF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function iT(t,e,n,r,i){var s=cs(n)?Iu:Ai.current;return s=Ih(e,s),dh(e,i),n=JI(t,e,n,r,s,i),r=ZI(),t!==null&&!rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qa(t,e,i)):(Yn&&r&&UI(e),e.flags|=1,Di(t,e,n,i),e.child)}function MD(t,e,n,r,i){if(cs(n)){var s=!0;Gy(e)}else s=!1;if(dh(e,i),e.stateNode===null)dy(t,e),nF(e,n,r),nT(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=to(c):(c=cs(n)?Iu:Ai.current,c=Ih(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ID(e,o,r,c),_l=!1;var p=e.memoizedState;o.state=p,Xy(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ls.current||_l?(typeof u=="function"&&(tT(e,n,u,r),l=e.memoizedState),(a=_l||CD(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eF(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:go(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=to(l):(l=cs(n)?Iu:Ai.current,l=Ih(e,l));var v=n.getDerivedStateFromProps;(u=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&ID(e,o,r,l),_l=!1,p=e.memoizedState,o.state=p,Xy(e,r,o,i);var g=e.memoizedState;a!==d||p!==g||ls.current||_l?(typeof v=="function"&&(tT(e,n,v,r),g=e.memoizedState),(c=_l||CD(e,n,c,r,p,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return sT(t,e,n,r,s,i)}function sT(t,e,n,r,i,s){RF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&bD(e,n,!1),qa(t,e,s);r=e.stateNode,IK.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Rh(e,t.child,null,s),e.child=Rh(e,null,a,s)):Di(t,e,a,s),e.memoizedState=r.state,i&&bD(e,n,!0),e.child}function AF(t){var e=t.stateNode;e.pendingContext?_D(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_D(t,e.context,!1),KI(t,e.containerInfo)}function FD(t,e,n,r,i){return Nh(),jI(i),e.flags|=256,Di(t,e,n,r),e.child}var oT={dehydrated:null,treeContext:null,retryLane:0};function aT(t){return{baseLanes:t,cachePool:null,transitions:null}}function kF(t,e,n){var r=e.pendingProps,i=tr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),An(tr,i&1),t===null)return ZS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=A_(o,r,0,null),t=wu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=aT(n),e.memoizedState=oT,t):nN(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NK(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hl(a,s):(s=wu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?aT(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=oT,r}return s=t.child,t=s.sibling,r=Hl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nN(t,e){return e=A_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yv(t,e,n,r){return r!==null&&jI(r),Rh(e,t.child,null,n),t=nN(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NK(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Kx(Error(Pe(422))),yv(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=A_({mode:"visible",children:r.children},i,0,null),s=wu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Rh(e,t.child,null,o),e.child.memoizedState=aT(o),e.memoizedState=oT,s);if(!(e.mode&1))return yv(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Pe(419)),r=Kx(s,r,void 0),yv(t,e,o,r)}if(a=(o&t.childLanes)!==0,rs||a){if(r=Yr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ga(t,i),Co(r,t,i,-1))}return lN(),r=Kx(Error(Pe(421))),yv(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Es=Ul(i.nextSibling),Is=e,Yn=!0,wo=null,t!==null&&(Hs[Ws++]=Na,Hs[Ws++]=Ra,Hs[Ws++]=Nu,Na=t.id,Ra=t.overflow,Nu=e),e=nN(e,r.children),e.flags|=4096,e)}function BD(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),eT(t.return,e,n)}function Qx(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function PF(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Di(t,e,r.children,n),r=tr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BD(t,n,e);else if(t.tag===19)BD(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(An(tr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qx(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qx(e,!0,n,null,s);break;case"together":Qx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Au|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Pe(153));if(e.child!==null){for(t=e.child,n=Hl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RK(t,e,n){switch(e.tag){case 3:AF(e),Nh();break;case 5:sF(e);break;case 1:cs(e.type)&&Gy(e);break;case 4:KI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;An(Qy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(An(tr,tr.current&1),e.flags|=128,null):n&e.child.childLanes?kF(t,e,n):(An(tr,tr.current&1),t=qa(t,e,n),t!==null?t.sibling:null);An(tr,tr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),An(tr,tr.current),r)break;return null;case 22:case 23:return e.lanes=0,NF(t,e,n)}return qa(t,e,n)}var DF,lT,LF,OF;DF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lT=function(){};LF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,lu(ia.current);var s=null;switch(n){case"input":i=AS(t,i),r=AS(t,r),s=[];break;case"select":i=or({},i,{value:void 0}),r=or({},r,{value:void 0}),s=[];break;case"textarea":i=DS(t,i),r=DS(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hy)}OS(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};OF=function(t,e,n,r){n!==r&&(e.flags|=4)};function ap(t,e){if(!Yn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AK(t,e,n){var r=e.pendingProps;switch(VI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(e),null;case 1:return cs(e.type)&&Wy(),bi(e),null;case 3:return r=e.stateNode,Ah(),zn(ls),zn(Ai),YI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wo!==null&&(gT(wo),wo=null))),lT(t,e),bi(e),null;case 5:QI(e);var i=lu(Lm.current);if(n=e.type,t!==null&&e.stateNode!=null)LF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Pe(166));return bi(e),null}if(t=lu(ia.current),gv(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[zo]=e,r[Pm]=s,t=(e.mode&1)!==0,n){case"dialog":Fn("cancel",r),Fn("close",r);break;case"iframe":case"object":case"embed":Fn("load",r);break;case"video":case"audio":for(i=0;i<$p.length;i++)Fn($p[i],r);break;case"source":Fn("error",r);break;case"img":case"image":case"link":Fn("error",r),Fn("load",r);break;case"details":Fn("toggle",r);break;case"input":qP(r,s),Fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fn("invalid",r);break;case"textarea":QP(r,s),Fn("invalid",r)}OS(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&mv(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&mv(r.textContent,a,t),i=["children",""+a]):xm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fn("scroll",r)}switch(n){case"input":av(r),KP(r,s,!0);break;case"textarea":av(r),YP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=l4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[zo]=e,t[Pm]=r,DF(t,e,!1,!1),e.stateNode=t;e:{switch(o=MS(n,r),n){case"dialog":Fn("cancel",t),Fn("close",t),i=r;break;case"iframe":case"object":case"embed":Fn("load",t),i=r;break;case"video":case"audio":for(i=0;i<$p.length;i++)Fn($p[i],t);i=r;break;case"source":Fn("error",t),i=r;break;case"img":case"image":case"link":Fn("error",t),Fn("load",t),i=r;break;case"details":Fn("toggle",t),i=r;break;case"input":qP(t,r),i=AS(t,r),Fn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=or({},r,{value:void 0}),Fn("invalid",t);break;case"textarea":QP(t,r),i=DS(t,r),Fn("invalid",t);break;default:i=r}OS(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?d4(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&c4(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Em(t,l):typeof l=="number"&&Em(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fn("scroll",t):l!=null&&CI(t,s,l,o))}switch(n){case"input":av(t),KP(t,r,!1);break;case"textarea":av(t),YP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ah(t,!!r.multiple,s,!1):r.defaultValue!=null&&ah(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bi(e),null;case 6:if(t&&e.stateNode!=null)OF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Pe(166));if(n=lu(Lm.current),lu(ia.current),gv(e)){if(r=e.stateNode,n=e.memoizedProps,r[zo]=e,(s=r.nodeValue!==n)&&(t=Is,t!==null))switch(t.tag){case 3:mv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mv(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zo]=e,e.stateNode=r}return bi(e),null;case 13:if(zn(tr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yn&&Es!==null&&e.mode&1&&!(e.flags&128))J4(),Nh(),e.flags|=98560,s=!1;else if(s=gv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Pe(317));s[zo]=e}else Nh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bi(e),s=!1}else wo!==null&&(gT(wo),wo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tr.current&1?Br===0&&(Br=3):lN())),e.updateQueue!==null&&(e.flags|=4),bi(e),null);case 4:return Ah(),lT(t,e),t===null&&Am(e.stateNode.containerInfo),bi(e),null;case 10:return WI(e.type._context),bi(e),null;case 17:return cs(e.type)&&Wy(),bi(e),null;case 19:if(zn(tr),s=e.memoizedState,s===null)return bi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ap(s,!1);else{if(Br!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jy(t),o!==null){for(e.flags|=128,ap(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return An(tr,tr.current&1|2),e.child}t=t.sibling}s.tail!==null&&br()>Ph&&(e.flags|=128,r=!0,ap(s,!1),e.lanes=4194304)}else{if(!r)if(t=Jy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ap(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Yn)return bi(e),null}else 2*br()-s.renderingStartTime>Ph&&n!==1073741824&&(e.flags|=128,r=!0,ap(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=br(),e.sibling=null,n=tr.current,An(tr,r?n&1|2:n&1),e):(bi(e),null);case 22:case 23:return aN(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_s&1073741824&&(bi(e),e.subtreeFlags&6&&(e.flags|=8192)):bi(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function kK(t,e){switch(VI(e),e.tag){case 1:return cs(e.type)&&Wy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ah(),zn(ls),zn(Ai),YI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return QI(e),null;case 13:if(zn(tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));Nh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zn(tr),null;case 4:return Ah(),null;case 10:return WI(e.type._context),null;case 22:case 23:return aN(),null;case 24:return null;default:return null}}var wv=!1,Ti=!1,PK=typeof WeakSet=="function"?WeakSet:Set,tt=null;function eh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dr(t,e,r)}else n.current=null}function cT(t,e,n){try{n()}catch(r){dr(t,e,r)}}var $D=!1;function DK(t,e){if(GS=Vy,t=$4(),$I(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var v;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)p=d,d=v;for(;;){if(d===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(v=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qS={focusedElem:t,selectionRange:n},Vy=!1,tt=e;tt!==null;)if(e=tt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,tt=t;else for(;tt!==null;){e=tt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,R=g.memoizedState,E=e.stateNode,b=E.getSnapshotBeforeUpdate(e.elementType===e.type?_:go(e.type,_),R);E.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(I){dr(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}return g=$D,$D=!1,g}function em(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&cT(e,n,s)}i=i.next}while(i!==r)}}function N_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uT(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MF(t){var e=t.alternate;e!==null&&(t.alternate=null,MF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zo],delete e[Pm],delete e[YS],delete e[mK],delete e[gK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FF(t){return t.tag===5||t.tag===3||t.tag===4}function UD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hy));else if(r!==4&&(t=t.child,t!==null))for(dT(t,e,n),t=t.sibling;t!==null;)dT(t,e,n),t=t.sibling}function hT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hT(t,e,n),t=t.sibling;t!==null;)hT(t,e,n),t=t.sibling}var li=null,yo=!1;function fl(t,e,n){for(n=n.child;n!==null;)BF(t,e,n),n=n.sibling}function BF(t,e,n){if(ra&&typeof ra.onCommitFiberUnmount=="function")try{ra.onCommitFiberUnmount(__,n)}catch{}switch(n.tag){case 5:Ti||eh(n,e);case 6:var r=li,i=yo;li=null,fl(t,e,n),li=r,yo=i,li!==null&&(yo?(t=li,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):li.removeChild(n.stateNode));break;case 18:li!==null&&(yo?(t=li,n=n.stateNode,t.nodeType===8?jx(t.parentNode,n):t.nodeType===1&&jx(t,n),Im(t)):jx(li,n.stateNode));break;case 4:r=li,i=yo,li=n.stateNode.containerInfo,yo=!0,fl(t,e,n),li=r,yo=i;break;case 0:case 11:case 14:case 15:if(!Ti&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cT(n,e,o),i=i.next}while(i!==r)}fl(t,e,n);break;case 1:if(!Ti&&(eh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dr(n,e,a)}fl(t,e,n);break;case 21:fl(t,e,n);break;case 22:n.mode&1?(Ti=(r=Ti)||n.memoizedState!==null,fl(t,e,n),Ti=r):fl(t,e,n);break;default:fl(t,e,n)}}function VD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PK),e.forEach(function(r){var i=jK.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ho(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:li=a.stateNode,yo=!1;break e;case 3:li=a.stateNode.containerInfo,yo=!0;break e;case 4:li=a.stateNode.containerInfo,yo=!0;break e}a=a.return}if(li===null)throw Error(Pe(160));BF(s,o,i),li=null,yo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$F(e,t),e=e.sibling}function $F(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ho(e,t),Oo(t),r&4){try{em(3,t,t.return),N_(3,t)}catch(_){dr(t,t.return,_)}try{em(5,t,t.return)}catch(_){dr(t,t.return,_)}}break;case 1:ho(e,t),Oo(t),r&512&&n!==null&&eh(n,n.return);break;case 5:if(ho(e,t),Oo(t),r&512&&n!==null&&eh(n,n.return),t.flags&32){var i=t.stateNode;try{Em(i,"")}catch(_){dr(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&o4(i,s),MS(a,o);var c=MS(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?d4(i,d):u==="dangerouslySetInnerHTML"?c4(i,d):u==="children"?Em(i,d):CI(i,u,d,c)}switch(a){case"input":kS(i,s);break;case"textarea":a4(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?ah(i,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?ah(i,!!s.multiple,s.defaultValue,!0):ah(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pm]=s}catch(_){dr(t,t.return,_)}}break;case 6:if(ho(e,t),Oo(t),r&4){if(t.stateNode===null)throw Error(Pe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){dr(t,t.return,_)}}break;case 3:if(ho(e,t),Oo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Im(e.containerInfo)}catch(_){dr(t,t.return,_)}break;case 4:ho(e,t),Oo(t);break;case 13:ho(e,t),Oo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sN=br())),r&4&&VD(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ti=(c=Ti)||u,ho(e,t),Ti=c):ho(e,t),Oo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(tt=t,u=t.child;u!==null;){for(d=tt=u;tt!==null;){switch(p=tt,v=p.child,p.tag){case 0:case 11:case 14:case 15:em(4,p,p.return);break;case 1:eh(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){dr(r,n,_)}}break;case 5:eh(p,p.return);break;case 22:if(p.memoizedState!==null){zD(d);continue}}v!==null?(v.return=p,tt=v):zD(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=u4("display",o))}catch(_){dr(t,t.return,_)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){dr(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ho(e,t),Oo(t),r&4&&VD(t);break;case 21:break;default:ho(e,t),Oo(t)}}function Oo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FF(n)){var r=n;break e}n=n.return}throw Error(Pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Em(i,""),r.flags&=-33);var s=UD(t);hT(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=UD(t);dT(t,a,o);break;default:throw Error(Pe(161))}}catch(l){dr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LK(t,e,n){tt=t,UF(t)}function UF(t,e,n){for(var r=(t.mode&1)!==0;tt!==null;){var i=tt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||wv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ti;a=wv;var c=Ti;if(wv=o,(Ti=l)&&!c)for(tt=i;tt!==null;)o=tt,l=o.child,o.tag===22&&o.memoizedState!==null?HD(i):l!==null?(l.return=o,tt=l):HD(i);for(;s!==null;)tt=s,UF(s),s=s.sibling;tt=i,wv=a,Ti=c}jD(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,tt=s):jD(t)}}function jD(t){for(;tt!==null;){var e=tt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ti||N_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ti)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:go(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&TD(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}TD(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Im(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Ti||e.flags&512&&uT(e)}catch(p){dr(e,e.return,p)}}if(e===t){tt=null;break}if(n=e.sibling,n!==null){n.return=e.return,tt=n;break}tt=e.return}}function zD(t){for(;tt!==null;){var e=tt;if(e===t){tt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,tt=n;break}tt=e.return}}function HD(t){for(;tt!==null;){var e=tt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{N_(4,e)}catch(l){dr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dr(e,i,l)}}var s=e.return;try{uT(e)}catch(l){dr(e,s,l)}break;case 5:var o=e.return;try{uT(e)}catch(l){dr(e,o,l)}}}catch(l){dr(e,e.return,l)}if(e===t){tt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,tt=a;break}tt=e.return}}var OK=Math.ceil,tw=Za.ReactCurrentDispatcher,rN=Za.ReactCurrentOwner,Js=Za.ReactCurrentBatchConfig,sn=0,Yr=null,Ar=null,hi=0,_s=0,th=wc(0),Br=0,Bm=null,Au=0,R_=0,iN=0,tm=null,Zi=null,sN=0,Ph=1/0,Ca=null,nw=!1,fT=null,jl=null,_v=!1,Nl=null,rw=0,nm=0,pT=null,hy=-1,fy=0;function $i(){return sn&6?br():hy!==-1?hy:hy=br()}function zl(t){return t.mode&1?sn&2&&hi!==0?hi&-hi:yK.transition!==null?(fy===0&&(fy=E4()),fy):(t=pn,t!==0||(t=window.event,t=t===void 0?16:A4(t.type)),t):1}function Co(t,e,n,r){if(50<nm)throw nm=0,pT=null,Error(Pe(185));Pg(t,n,r),(!(sn&2)||t!==Yr)&&(t===Yr&&(!(sn&2)&&(R_|=n),Br===4&&El(t,hi)),us(t,r),n===1&&sn===0&&!(e.mode&1)&&(Ph=br()+500,T_&&_c()))}function us(t,e){var n=t.callbackNode;yq(t,e);var r=Uy(t,t===Yr?hi:0);if(r===0)n!==null&&ZP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ZP(n),e===1)t.tag===0?vK(WD.bind(null,t)):Q4(WD.bind(null,t)),fK(function(){!(sn&6)&&_c()}),n=null;else{switch(S4(r)){case 1:n=kI;break;case 4:n=b4;break;case 16:n=$y;break;case 536870912:n=x4;break;default:n=$y}n=KF(n,VF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VF(t,e){if(hy=-1,fy=0,sn&6)throw Error(Pe(327));var n=t.callbackNode;if(hh()&&t.callbackNode!==n)return null;var r=Uy(t,t===Yr?hi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=iw(t,r);else{e=r;var i=sn;sn|=2;var s=zF();(Yr!==t||hi!==e)&&(Ca=null,Ph=br()+500,yu(t,e));do try{BK();break}catch(a){jF(t,a)}while(1);HI(),tw.current=s,sn=i,Ar!==null?e=0:(Yr=null,hi=0,e=Br)}if(e!==0){if(e===2&&(i=VS(t),i!==0&&(r=i,e=mT(t,i))),e===1)throw n=Bm,yu(t,0),El(t,r),us(t,br()),n;if(e===6)El(t,r);else{if(i=t.current.alternate,!(r&30)&&!MK(i)&&(e=iw(t,r),e===2&&(s=VS(t),s!==0&&(r=s,e=mT(t,s))),e===1))throw n=Bm,yu(t,0),El(t,r),us(t,br()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Pe(345));case 2:Yc(t,Zi,Ca);break;case 3:if(El(t,r),(r&130023424)===r&&(e=sN+500-br(),10<e)){if(Uy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$i(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=QS(Yc.bind(null,t,Zi,Ca),e);break}Yc(t,Zi,Ca);break;case 4:if(El(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-To(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OK(r/1960))-r,10<r){t.timeoutHandle=QS(Yc.bind(null,t,Zi,Ca),r);break}Yc(t,Zi,Ca);break;case 5:Yc(t,Zi,Ca);break;default:throw Error(Pe(329))}}}return us(t,br()),t.callbackNode===n?VF.bind(null,t):null}function mT(t,e){var n=tm;return t.current.memoizedState.isDehydrated&&(yu(t,e).flags|=256),t=iw(t,e),t!==2&&(e=Zi,Zi=n,e!==null&&gT(e)),t}function gT(t){Zi===null?Zi=t:Zi.push.apply(Zi,t)}function MK(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!No(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function El(t,e){for(e&=~iN,e&=~R_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-To(e),r=1<<n;t[n]=-1,e&=~r}}function WD(t){if(sn&6)throw Error(Pe(327));hh();var e=Uy(t,0);if(!(e&1))return us(t,br()),null;var n=iw(t,e);if(t.tag!==0&&n===2){var r=VS(t);r!==0&&(e=r,n=mT(t,r))}if(n===1)throw n=Bm,yu(t,0),El(t,e),us(t,br()),n;if(n===6)throw Error(Pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yc(t,Zi,Ca),us(t,br()),null}function oN(t,e){var n=sn;sn|=1;try{return t(e)}finally{sn=n,sn===0&&(Ph=br()+500,T_&&_c())}}function ku(t){Nl!==null&&Nl.tag===0&&!(sn&6)&&hh();var e=sn;sn|=1;var n=Js.transition,r=pn;try{if(Js.transition=null,pn=1,t)return t()}finally{pn=r,Js.transition=n,sn=e,!(sn&6)&&_c()}}function aN(){_s=th.current,zn(th)}function yu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hK(n)),Ar!==null)for(n=Ar.return;n!==null;){var r=n;switch(VI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wy();break;case 3:Ah(),zn(ls),zn(Ai),YI();break;case 5:QI(r);break;case 4:Ah();break;case 13:zn(tr);break;case 19:zn(tr);break;case 10:WI(r.type._context);break;case 22:case 23:aN()}n=n.return}if(Yr=t,Ar=t=Hl(t.current,null),hi=_s=e,Br=0,Bm=null,iN=R_=Au=0,Zi=tm=null,au!==null){for(e=0;e<au.length;e++)if(n=au[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}au=null}return t}function jF(t,e){do{var n=Ar;try{if(HI(),cy.current=ew,Zy){for(var r=sr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zy=!1}if(Ru=0,Wr=Or=sr=null,Zp=!1,Om=0,rN.current=null,n===null||n.return===null){Br=1,Bm=e,Ar=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=hi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=PD(o);if(v!==null){v.flags&=-257,DD(v,o,a,s,e),v.mode&1&&kD(s,c,e),e=v,l=c;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){kD(s,c,e),lN();break e}l=Error(Pe(426))}}else if(Yn&&a.mode&1){var R=PD(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),DD(R,o,a,s,e),jI(kh(l,a));break e}}s=l=kh(l,a),Br!==4&&(Br=2),tm===null?tm=[s]:tm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=TF(s,l,e);SD(s,E);break e;case 1:a=l;var b=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(jl===null||!jl.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=CF(s,a,e);SD(s,I);break e}}s=s.return}while(s!==null)}WF(n)}catch(D){e=D,Ar===n&&n!==null&&(Ar=n=n.return);continue}break}while(1)}function zF(){var t=tw.current;return tw.current=ew,t===null?ew:t}function lN(){(Br===0||Br===3||Br===2)&&(Br=4),Yr===null||!(Au&268435455)&&!(R_&268435455)||El(Yr,hi)}function iw(t,e){var n=sn;sn|=2;var r=zF();(Yr!==t||hi!==e)&&(Ca=null,yu(t,e));do try{FK();break}catch(i){jF(t,i)}while(1);if(HI(),sn=n,tw.current=r,Ar!==null)throw Error(Pe(261));return Yr=null,hi=0,Br}function FK(){for(;Ar!==null;)HF(Ar)}function BK(){for(;Ar!==null&&!cq();)HF(Ar)}function HF(t){var e=qF(t.alternate,t,_s);t.memoizedProps=t.pendingProps,e===null?WF(t):Ar=e,rN.current=null}function WF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kK(n,e),n!==null){n.flags&=32767,Ar=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Br=6,Ar=null;return}}else if(n=AK(n,e,_s),n!==null){Ar=n;return}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=t}while(e!==null);Br===0&&(Br=5)}function Yc(t,e,n){var r=pn,i=Js.transition;try{Js.transition=null,pn=1,$K(t,e,n,r)}finally{Js.transition=i,pn=r}return null}function $K(t,e,n,r){do hh();while(Nl!==null);if(sn&6)throw Error(Pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Pe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wq(t,s),t===Yr&&(Ar=Yr=null,hi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_v||(_v=!0,KF($y,function(){return hh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Js.transition,Js.transition=null;var o=pn;pn=1;var a=sn;sn|=4,rN.current=null,DK(t,n),$F(n,t),sK(qS),Vy=!!GS,qS=GS=null,t.current=n,LK(n),uq(),sn=a,pn=o,Js.transition=s}else t.current=n;if(_v&&(_v=!1,Nl=t,rw=i),s=t.pendingLanes,s===0&&(jl=null),fq(n.stateNode),us(t,br()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nw)throw nw=!1,t=fT,fT=null,t;return rw&1&&t.tag!==0&&hh(),s=t.pendingLanes,s&1?t===pT?nm++:(nm=0,pT=t):nm=0,_c(),null}function hh(){if(Nl!==null){var t=S4(rw),e=Js.transition,n=pn;try{if(Js.transition=null,pn=16>t?16:t,Nl===null)var r=!1;else{if(t=Nl,Nl=null,rw=0,sn&6)throw Error(Pe(331));var i=sn;for(sn|=4,tt=t.current;tt!==null;){var s=tt,o=s.child;if(tt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(tt=c;tt!==null;){var u=tt;switch(u.tag){case 0:case 11:case 15:em(8,u,s)}var d=u.child;if(d!==null)d.return=u,tt=d;else for(;tt!==null;){u=tt;var p=u.sibling,v=u.return;if(MF(u),u===c){tt=null;break}if(p!==null){p.return=v,tt=p;break}tt=v}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var R=_.sibling;_.sibling=null,_=R}while(_!==null)}}tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,tt=o;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:em(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,tt=E;break e}tt=s.return}}var b=t.current;for(tt=b;tt!==null;){o=tt;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,tt=T;else e:for(o=b;tt!==null;){if(a=tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:N_(9,a)}}catch(D){dr(a,a.return,D)}if(a===o){tt=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,tt=I;break e}tt=a.return}}if(sn=i,_c(),ra&&typeof ra.onPostCommitFiberRoot=="function")try{ra.onPostCommitFiberRoot(__,t)}catch{}r=!0}return r}finally{pn=n,Js.transition=e}}return!1}function GD(t,e,n){e=kh(n,e),e=TF(t,e,1),t=Vl(t,e,1),e=$i(),t!==null&&(Pg(t,1,e),us(t,e))}function dr(t,e,n){if(t.tag===3)GD(t,t,n);else for(;e!==null;){if(e.tag===3){GD(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jl===null||!jl.has(r))){t=kh(n,t),t=CF(e,t,1),e=Vl(e,t,1),t=$i(),e!==null&&(Pg(e,1,t),us(e,t));break}}e=e.return}}function UK(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$i(),t.pingedLanes|=t.suspendedLanes&n,Yr===t&&(hi&n)===n&&(Br===4||Br===3&&(hi&130023424)===hi&&500>br()-sN?yu(t,0):iN|=n),us(t,e)}function GF(t,e){e===0&&(t.mode&1?(e=uv,uv<<=1,!(uv&130023424)&&(uv=4194304)):e=1);var n=$i();t=Ga(t,e),t!==null&&(Pg(t,e,n),us(t,n))}function VK(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GF(t,n)}function jK(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Pe(314))}r!==null&&r.delete(e),GF(t,n)}var qF;qF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ls.current)rs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rs=!1,RK(t,e,n);rs=!!(t.flags&131072)}else rs=!1,Yn&&e.flags&1048576&&Y4(e,Ky,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dy(t,e),t=e.pendingProps;var i=Ih(e,Ai.current);dh(e,n),i=JI(null,e,r,t,i,n);var s=ZI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cs(r)?(s=!0,Gy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qI(e),i.updater=C_,e.stateNode=i,i._reactInternals=e,nT(e,r,t,n),e=sT(null,e,r,!0,s,n)):(e.tag=0,Yn&&s&&UI(e),Di(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HK(r),t=go(r,t),i){case 0:e=iT(null,e,r,t,n);break e;case 1:e=MD(null,e,r,t,n);break e;case 11:e=LD(null,e,r,t,n);break e;case 14:e=OD(null,e,r,go(r.type,t),n);break e}throw Error(Pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),iT(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),MD(t,e,r,i,n);case 3:e:{if(AF(e),t===null)throw Error(Pe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,eF(t,e),Xy(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=kh(Error(Pe(423)),e),e=FD(t,e,r,n,i);break e}else if(r!==i){i=kh(Error(Pe(424)),e),e=FD(t,e,r,n,i);break e}else for(Es=Ul(e.stateNode.containerInfo.firstChild),Is=e,Yn=!0,wo=null,n=iF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nh(),r===i){e=qa(t,e,n);break e}Di(t,e,r,n)}e=e.child}return e;case 5:return sF(e),t===null&&ZS(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,KS(r,i)?o=null:s!==null&&KS(r,s)&&(e.flags|=32),RF(t,e),Di(t,e,o,n),e.child;case 6:return t===null&&ZS(e),null;case 13:return kF(t,e,n);case 4:return KI(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rh(e,null,r,n):Di(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),LD(t,e,r,i,n);case 7:return Di(t,e,e.pendingProps,n),e.child;case 8:return Di(t,e,e.pendingProps.children,n),e.child;case 12:return Di(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,An(Qy,r._currentValue),r._currentValue=o,s!==null)if(No(s.value,o)){if(s.children===i.children&&!ls.current){e=qa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fa(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),eT(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Pe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),eT(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Di(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,dh(e,n),i=to(i),r=r(i),e.flags|=1,Di(t,e,r,n),e.child;case 14:return r=e.type,i=go(r,e.pendingProps),i=go(r.type,i),OD(t,e,r,i,n);case 15:return IF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),dy(t,e),e.tag=1,cs(r)?(t=!0,Gy(e)):t=!1,dh(e,n),nF(e,r,i),nT(e,r,i,n),sT(null,e,r,!0,t,n);case 19:return PF(t,e,n);case 22:return NF(t,e,n)}throw Error(Pe(156,e.tag))};function KF(t,e){return _4(t,e)}function zK(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(t,e,n,r){return new zK(t,e,n,r)}function cN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HK(t){if(typeof t=="function")return cN(t)?1:0;if(t!=null){if(t=t.$$typeof,t===NI)return 11;if(t===RI)return 14}return 2}function Hl(t,e){var n=t.alternate;return n===null?(n=Ks(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function py(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")cN(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wd:return wu(n.children,i,s,e);case II:o=8,i|=8;break;case CS:return t=Ks(12,n,e,i|2),t.elementType=CS,t.lanes=s,t;case IS:return t=Ks(13,n,e,i),t.elementType=IS,t.lanes=s,t;case NS:return t=Ks(19,n,e,i),t.elementType=NS,t.lanes=s,t;case r4:return A_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case t4:o=10;break e;case n4:o=9;break e;case NI:o=11;break e;case RI:o=14;break e;case wl:o=16,r=null;break e}throw Error(Pe(130,t==null?t:typeof t,""))}return e=Ks(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wu(t,e,n,r){return t=Ks(7,t,r,e),t.lanes=n,t}function A_(t,e,n,r){return t=Ks(22,t,r,e),t.elementType=r4,t.lanes=n,t.stateNode={isHidden:!1},t}function Yx(t,e,n){return t=Ks(6,t,null,e),t.lanes=n,t}function Xx(t,e,n){return e=Ks(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WK(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kx(0),this.expirationTimes=kx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uN(t,e,n,r,i,s,o,a,l){return t=new WK(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ks(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qI(s),t}function GK(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QF(t){if(!t)return Zl;t=t._reactInternals;e:{if(ed(t)!==t||t.tag!==1)throw Error(Pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(t.tag===1){var n=t.type;if(cs(n))return K4(t,n,e)}return e}function YF(t,e,n,r,i,s,o,a,l){return t=uN(n,r,!0,t,i,s,o,a,l),t.context=QF(null),n=t.current,r=$i(),i=zl(n),s=Fa(r,i),s.callback=e??null,Vl(n,s,i),t.current.lanes=i,Pg(t,i,r),us(t,r),t}function k_(t,e,n,r){var i=e.current,s=$i(),o=zl(i);return n=QF(n),e.context===null?e.context=n:e.pendingContext=n,e=Fa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vl(i,e,o),t!==null&&(Co(t,i,o,s),ly(t,i,o)),o}function sw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dN(t,e){qD(t,e),(t=t.alternate)&&qD(t,e)}function qK(){return null}var XF=typeof reportError=="function"?reportError:function(t){console.error(t)};function hN(t){this._internalRoot=t}P_.prototype.render=hN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Pe(409));k_(t,e,null,null)};P_.prototype.unmount=hN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ku(function(){k_(null,t,null,null)}),e[Wa]=null}};function P_(t){this._internalRoot=t}P_.prototype.unstable_scheduleHydration=function(t){if(t){var e=I4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xl.length&&e!==0&&e<xl[n].priority;n++);xl.splice(n,0,t),n===0&&R4(t)}};function fN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function D_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KD(){}function KK(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=sw(o);s.call(c)}}var o=YF(e,r,t,0,null,!1,!1,"",KD);return t._reactRootContainer=o,t[Wa]=o.current,Am(t.nodeType===8?t.parentNode:t),ku(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=sw(l);a.call(c)}}var l=uN(t,0,!1,null,null,!1,!1,"",KD);return t._reactRootContainer=l,t[Wa]=l.current,Am(t.nodeType===8?t.parentNode:t),ku(function(){k_(e,l,n,r)}),l}function L_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=sw(o);a.call(l)}}k_(e,o,t,i)}else o=KK(n,e,t,i,r);return sw(o)}T4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bp(e.pendingLanes);n!==0&&(PI(e,n|1),us(e,br()),!(sn&6)&&(Ph=br()+500,_c()))}break;case 13:ku(function(){var r=Ga(t,1);if(r!==null){var i=$i();Co(r,t,1,i)}}),dN(t,1)}};DI=function(t){if(t.tag===13){var e=Ga(t,134217728);if(e!==null){var n=$i();Co(e,t,134217728,n)}dN(t,134217728)}};C4=function(t){if(t.tag===13){var e=zl(t),n=Ga(t,e);if(n!==null){var r=$i();Co(n,t,e,r)}dN(t,e)}};I4=function(){return pn};N4=function(t,e){var n=pn;try{return pn=t,e()}finally{pn=n}};BS=function(t,e,n){switch(e){case"input":if(kS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=S_(r);if(!i)throw Error(Pe(90));s4(r),kS(r,i)}}}break;case"textarea":a4(t,n);break;case"select":e=n.value,e!=null&&ah(t,!!n.multiple,e,!1)}};p4=oN;m4=ku;var QK={usingClientEntryPoint:!1,Events:[Lg,Qd,S_,h4,f4,oN]},lp={findFiberByHostInstance:ou,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YK={bundleType:lp.bundleType,version:lp.version,rendererPackageName:lp.rendererPackageName,rendererConfig:lp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Za.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=y4(t),t===null?null:t.stateNode},findFiberByHostInstance:lp.findFiberByHostInstance||qK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bv.isDisabled&&bv.supportsFiber)try{__=bv.inject(YK),ra=bv}catch{}}Ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QK;Ds.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fN(e))throw Error(Pe(200));return GK(t,e,null,n)};Ds.createRoot=function(t,e){if(!fN(t))throw Error(Pe(299));var n=!1,r="",i=XF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uN(t,1,!1,null,null,n,!1,r,i),t[Wa]=e.current,Am(t.nodeType===8?t.parentNode:t),new hN(e)};Ds.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Pe(188)):(t=Object.keys(t).join(","),Error(Pe(268,t)));return t=y4(e),t=t===null?null:t.stateNode,t};Ds.flushSync=function(t){return ku(t)};Ds.hydrate=function(t,e,n){if(!D_(e))throw Error(Pe(200));return L_(null,t,e,!0,n)};Ds.hydrateRoot=function(t,e,n){if(!fN(t))throw Error(Pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=XF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=YF(e,null,t,1,n??null,i,!1,s,o),t[Wa]=e.current,Am(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new P_(e)};Ds.render=function(t,e,n){if(!D_(e))throw Error(Pe(200));return L_(null,t,e,!1,n)};Ds.unmountComponentAtNode=function(t){if(!D_(t))throw Error(Pe(40));return t._reactRootContainer?(ku(function(){L_(null,null,t,!1,function(){t._reactRootContainer=null,t[Wa]=null})}),!0):!1};Ds.unstable_batchedUpdates=oN;Ds.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!D_(n))throw Error(Pe(200));if(t==null||t._reactInternals===void 0)throw Error(Pe(38));return L_(t,e,n,!1,r)};Ds.version="18.2.0-next-9e3b772b8-20220608";function JF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JF)}catch(t){console.error(t)}}JF(),YM.exports=Ds;var pN=YM.exports;const XK=Ag(pN);var QD=pN;SS.createRoot=QD.createRoot,SS.hydrateRoot=QD.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}var Rl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rl||(Rl={}));const YD="popstate";function JK(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return vT("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ow(i)}return eQ(e,n,null,t)}function kr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZK(){return Math.random().toString(36).substr(2,8)}function XD(t,e){return{usr:t.state,key:t.key,idx:e}}function vT(t,e,n,r){return n===void 0&&(n=null),$m({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yf(e):e,{state:n,key:e&&e.key||r||ZK()})}function ow(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eQ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Rl.Pop,l=null,c=u();c==null&&(c=0,o.replaceState($m({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Rl.Pop;let R=u(),E=R==null?null:R-c;c=R,l&&l({action:a,location:_.location,delta:E})}function p(R,E){a=Rl.Push;let b=vT(_.location,R,E);n&&n(b,R),c=u()+1;let T=XD(b,c),I=_.createHref(b);try{o.pushState(T,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(I)}s&&l&&l({action:a,location:_.location,delta:1})}function v(R,E){a=Rl.Replace;let b=vT(_.location,R,E);n&&n(b,R),c=u();let T=XD(b,c),I=_.createHref(b);o.replaceState(T,"",I),s&&l&&l({action:a,location:_.location,delta:0})}function g(R){let E=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof R=="string"?R:ow(R);return kr(E,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,E)}let _={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(YD,d),l=R,()=>{i.removeEventListener(YD,d),l=null}},createHref(R){return e(i,R)},createURL:g,encodeLocation(R){let E=g(R);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:v,go(R){return o.go(R)}};return _}var JD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(JD||(JD={}));function tQ(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?yf(e):e,i=gN(r.pathname||"/",n);if(i==null)return null;let s=ZF(t);nQ(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=dQ(s[a],pQ(i));return o}function ZF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(kr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Wl([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(kr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ZF(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:cQ(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of eB(s.path))i(s,o,l)}),e}function eB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=eB(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nQ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uQ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rQ=/^:\w+$/,iQ=3,sQ=2,oQ=1,aQ=10,lQ=-2,ZD=t=>t==="*";function cQ(t,e){let n=t.split("/"),r=n.length;return n.some(ZD)&&(r+=lQ),e&&(r+=sQ),n.filter(i=>!ZD(i)).reduce((i,s)=>i+(rQ.test(s)?iQ:s===""?oQ:aQ),r)}function uQ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dQ(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=hQ({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Wl([i,u.pathname]),pathnameBase:yQ(Wl([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Wl([i,u.pathnameBase]))}return s}function hQ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fQ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return c[u]=mQ(a[d]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function fQ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pQ(t){try{return decodeURI(t)}catch(e){return mN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mQ(t,e){try{return decodeURIComponent(t)}catch(n){return mN(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function gN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gQ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yf(t):t;return{pathname:n?n.startsWith("/")?n:vQ(n,e):e,search:wQ(r),hash:_Q(i)}}function vQ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nB(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=yf(t):(i=$m({},t),kr(!i.pathname||!i.pathname.includes("?"),Jx("?","pathname","search",i)),kr(!i.pathname||!i.pathname.includes("#"),Jx("#","pathname","hash",i)),kr(!i.search||!i.search.includes("#"),Jx("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=gQ(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Wl=t=>t.join("/").replace(/\/\/+/g,"/"),yQ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wQ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_Q=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bQ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rB=["post","put","patch","delete"];new Set(rB);const xQ=["get",...rB];new Set(xQ);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}const vN=y.createContext(null),EQ=y.createContext(null),wf=y.createContext(null),O_=y.createContext(null),bc=y.createContext({outlet:null,matches:[],isDataRoute:!1}),iB=y.createContext(null);function SQ(t,e){let{relative:n}=e===void 0?{}:e;Mg()||kr(!1);let{basename:r,navigator:i}=y.useContext(wf),{hash:s,pathname:o,search:a}=oB(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Wl([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Mg(){return y.useContext(O_)!=null}function _f(){return Mg()||kr(!1),y.useContext(O_).location}function sB(t){y.useContext(wf).static||y.useLayoutEffect(t)}function xc(){let{isDataRoute:t}=y.useContext(bc);return t?FQ():TQ()}function TQ(){Mg()||kr(!1);let t=y.useContext(vN),{basename:e,navigator:n}=y.useContext(wf),{matches:r}=y.useContext(bc),{pathname:i}=_f(),s=JSON.stringify(tB(r).map(l=>l.pathnameBase)),o=y.useRef(!1);return sB(()=>{o.current=!0}),y.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=nB(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Wl([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}function Dh(){let{matches:t}=y.useContext(bc),e=t[t.length-1];return e?e.params:{}}function oB(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=y.useContext(bc),{pathname:i}=_f(),s=JSON.stringify(tB(r).map(o=>o.pathnameBase));return y.useMemo(()=>nB(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function CQ(t,e){return IQ(t,e)}function IQ(t,e,n){Mg()||kr(!1);let{navigator:r}=y.useContext(wf),{matches:i}=y.useContext(bc),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=_f(),c;if(e){var u;let _=typeof e=="string"?yf(e):e;a==="/"||(u=_.pathname)!=null&&u.startsWith(a)||kr(!1),c=_}else c=l;let d=c.pathname||"/",p=a==="/"?d:d.slice(a.length)||"/",v=tQ(t,{pathname:p}),g=PQ(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Wl([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:Wl([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return e&&g?y.createElement(O_.Provider,{value:{location:aw({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Rl.Pop}},g):g}function NQ(){let t=MQ(),e=bQ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,s)}const RQ=y.createElement(NQ,null);class AQ extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?y.createElement(bc.Provider,{value:this.props.routeContext},y.createElement(iB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kQ(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(vN);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(bc.Provider,{value:e},r)}function PQ(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||kr(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||RQ);let p=e.concat(s.slice(0,c+1)),v=()=>{let g;return u?g=d:l.route.Component?g=y.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,y.createElement(kQ,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?y.createElement(AQ,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var aB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aB||{}),lw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lw||{});function DQ(t){let e=y.useContext(vN);return e||kr(!1),e}function LQ(t){let e=y.useContext(EQ);return e||kr(!1),e}function OQ(t){let e=y.useContext(bc);return e||kr(!1),e}function lB(t){let e=OQ(),n=e.matches[e.matches.length-1];return n.route.id||kr(!1),n.route.id}function MQ(){var t;let e=y.useContext(iB),n=LQ(lw.UseRouteError),r=lB(lw.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function FQ(){let{router:t}=DQ(aB.UseNavigateStable),e=lB(lw.UseNavigateStable),n=y.useRef(!1);return sB(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,aw({fromRouteId:e},s)))},[t,e])}function Kn(t){kr(!1)}function BQ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Rl.Pop,navigator:s,static:o=!1}=t;Mg()&&kr(!1);let a=e.replace(/^\/*/,"/"),l=y.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=yf(r));let{pathname:c="/",search:u="",hash:d="",state:p=null,key:v="default"}=r,g=y.useMemo(()=>{let _=gN(c,a);return _==null?null:{location:{pathname:_,search:u,hash:d,state:p,key:v},navigationType:i}},[a,c,u,d,p,v,i]);return g==null?null:y.createElement(wf.Provider,{value:l},y.createElement(O_.Provider,{children:n,value:g}))}function $Q(t){let{children:e,location:n}=t;return CQ(yT(e),n)}new Promise(()=>{});function yT(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let s=[...e,i];if(r.type===y.Fragment){n.push.apply(n,yT(r.props.children,s));return}r.type!==Kn&&kr(!1),!r.props.index||!r.props.children||kr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yT(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wT(){return wT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wT.apply(this,arguments)}function UQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jQ(t,e){return t.button===0&&(!e||e==="_self")&&!VQ(t)}const zQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],HQ="startTransition",e5=VG[HQ];function WQ(t){let{basename:e,children:n,future:r,window:i}=t,s=y.useRef();s.current==null&&(s.current=JK({window:i,v5Compat:!0}));let o=s.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=y.useCallback(d=>{c&&e5?e5(()=>l(d)):l(d)},[l,c]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.createElement(BQ,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const GQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wn=y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,d=UQ(e,zQ),{basename:p}=y.useContext(wf),v,g=!1;if(typeof c=="string"&&qQ.test(c)&&(v=c,GQ))try{let b=new URL(window.location.href),T=c.startsWith("//")?new URL(b.protocol+c):new URL(c),I=gN(T.pathname,p);T.origin===b.origin&&I!=null?c=I+T.search+T.hash:g=!0}catch{}let _=SQ(c,{relative:i}),R=KQ(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i});function E(b){r&&r(b),b.defaultPrevented||R(b)}return y.createElement("a",wT({},d,{href:v||_,onClick:g||s?r:E,ref:n,target:l}))});var t5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(t5||(t5={}));var n5;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(n5||(n5={}));function KQ(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=xc(),l=_f(),c=oB(t,{relative:o});return y.useCallback(u=>{if(jQ(u,n)){u.preventDefault();let d=r!==void 0?r:ow(l)===ow(c);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}function QQ({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{d:"M18.75 12.75h1.5a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5zM12 6a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 6zM12 18a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 18zM3.75 6.75h1.5a.75.75 0 100-1.5h-1.5a.75.75 0 000 1.5zM5.25 18.75h-1.5a.75.75 0 010-1.5h1.5a.75.75 0 010 1.5zM3 12a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 013 12zM9 3.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zM12.75 12a2.25 2.25 0 114.5 0 2.25 2.25 0 01-4.5 0zM9 15.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"}))}const YQ=y.forwardRef(QQ),Zx=YQ;function XQ({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{d:"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375z"}),y.createElement("path",{fillRule:"evenodd",d:"M3.087 9l.54 9.176A3 3 0 006.62 21h10.757a3 3 0 002.995-2.824L20.913 9H3.087zM12 10.5a.75.75 0 01.75.75v4.94l1.72-1.72a.75.75 0 111.06 1.06l-3 3a.75.75 0 01-1.06 0l-3-3a.75.75 0 111.06-1.06l1.72 1.72v-4.94a.75.75 0 01.75-.75z",clipRule:"evenodd"}))}const JQ=y.forwardRef(XQ),ZQ=JQ;function eY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z",clipRule:"evenodd"}))}const tY=y.forwardRef(eY),nY=tY;function rY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12a4.49 4.49 0 01-1.549 3.397 4.491 4.491 0 01-1.307 3.497 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.49 4.49 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"}))}const iY=y.forwardRef(rY),my=iY;function sY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{d:"M21 6.375c0 2.692-4.03 4.875-9 4.875S3 9.067 3 6.375 7.03 1.5 12 1.5s9 2.183 9 4.875z"}),y.createElement("path",{d:"M12 12.75c2.685 0 5.19-.586 7.078-1.609a8.283 8.283 0 001.897-1.384c.016.121.025.244.025.368C21 12.817 16.97 15 12 15s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.285 8.285 0 001.897 1.384C6.809 12.164 9.315 12.75 12 12.75z"}),y.createElement("path",{d:"M12 16.5c2.685 0 5.19-.586 7.078-1.609a8.282 8.282 0 001.897-1.384c.016.121.025.244.025.368 0 2.692-4.03 4.875-9 4.875s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.284 8.284 0 001.897 1.384C6.809 15.914 9.315 16.5 12 16.5z"}),y.createElement("path",{d:"M12 20.25c2.685 0 5.19-.586 7.078-1.609a8.282 8.282 0 001.897-1.384c.016.121.025.244.025.368 0 2.692-4.03 4.875-9 4.875s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.284 8.284 0 001.897 1.384C6.809 19.664 9.315 20.25 12 20.25z"}))}const oY=y.forwardRef(sY),aY=oY;function lY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 01-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 016.126 3.537zM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 010 .75l-1.732 3.001c-.229.396-.76.498-1.067.16A5.231 5.231 0 016.75 12c0-1.362.519-2.603 1.37-3.536zM10.878 17.13c-.447-.097-.623-.608-.394-1.003l1.733-3.003a.75.75 0 01.65-.375h3.465c.457 0 .81.408.672.843a5.252 5.252 0 01-6.126 3.538z"}),y.createElement("path",{fillRule:"evenodd",d:"M21 12.75a.75.75 0 000-1.5h-.783a8.22 8.22 0 00-.237-1.357l.734-.267a.75.75 0 10-.513-1.41l-.735.268a8.24 8.24 0 00-.689-1.191l.6-.504a.75.75 0 10-.964-1.149l-.6.504a8.3 8.3 0 00-1.054-.885l.391-.678a.75.75 0 10-1.299-.75l-.39.677a8.188 8.188 0 00-1.295-.471l.136-.77a.75.75 0 00-1.477-.26l-.136.77a8.364 8.364 0 00-1.377 0l-.136-.77a.75.75 0 10-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 00-1.3.75l.392.678a8.29 8.29 0 00-1.054.885l-.6-.504a.75.75 0 00-.965 1.149l.6.503a8.243 8.243 0 00-.689 1.192L3.8 8.217a.75.75 0 10-.513 1.41l.735.267a8.222 8.222 0 00-.238 1.355h-.783a.75.75 0 000 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 10.513 1.41l.735-.268c.197.417.428.816.69 1.192l-.6.504a.75.75 0 10.963 1.149l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 101.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.771a.75.75 0 101.477.26l.137-.772a8.376 8.376 0 001.376 0l.136.773a.75.75 0 101.477-.26l-.136-.772a8.19 8.19 0 001.294-.47l.391.677a.75.75 0 101.3-.75l-.393-.679a8.282 8.282 0 001.054-.885l.601.504a.75.75 0 10.964-1.15l-.6-.503a8.24 8.24 0 00.69-1.191l.735.268a.75.75 0 10.512-1.41l-.734-.268c.115-.438.195-.892.237-1.356h.784zm-2.657-3.06a6.744 6.744 0 00-1.19-2.053 6.784 6.784 0 00-1.82-1.51A6.704 6.704 0 0012 5.25a6.801 6.801 0 00-1.225.111 6.7 6.7 0 00-2.15.792 6.784 6.784 0 00-2.952 3.489.758.758 0 01-.036.099A6.74 6.74 0 005.251 12a6.739 6.739 0 003.355 5.835l.01.006.01.005a6.706 6.706 0 002.203.802c.007 0 .014.002.021.004a6.792 6.792 0 002.301 0l.022-.004a6.707 6.707 0 002.228-.816 6.781 6.781 0 001.762-1.483l.009-.01.009-.012a6.744 6.744 0 001.18-2.064c.253-.708.39-1.47.39-2.264a6.74 6.74 0 00-.408-2.308z",clipRule:"evenodd"}))}const cY=y.forwardRef(lY),uY=cY;function dY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{d:"M4.5 3.75a3 3 0 00-3 3v.75h21v-.75a3 3 0 00-3-3h-15z"}),y.createElement("path",{fillRule:"evenodd",d:"M22.5 9.75h-21v7.5a3 3 0 003 3h15a3 3 0 003-3v-7.5zm-18 3.75a.75.75 0 01.75-.75h6a.75.75 0 010 1.5h-6a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5h3a.75.75 0 000-1.5h-3z",clipRule:"evenodd"}))}const hY=y.forwardRef(dY),cB=hY;function fY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.902 7.098a3.75 3.75 0 013.903-.884.75.75 0 10.498-1.415A5.25 5.25 0 008.005 9.75H7.5a.75.75 0 000 1.5h.054a5.281 5.281 0 000 1.5H7.5a.75.75 0 000 1.5h.505a5.25 5.25 0 006.494 2.701.75.75 0 00-.498-1.415 3.75 3.75 0 01-4.252-1.286h3.001a.75.75 0 000-1.5H9.075a3.77 3.77 0 010-1.5h3.675a.75.75 0 000-1.5h-3c.105-.14.221-.274.348-.402z",clipRule:"evenodd"}))}const pY=y.forwardRef(fY),yN=pY;function mY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}))}const gY=y.forwardRef(mY),r5=gY;function vY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}))}const yY=y.forwardRef(vY),wY=yY;function _Y({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z",clipRule:"evenodd"}))}const bY=y.forwardRef(_Y),xY=bY;function EY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M15.75 4.5a3 3 0 11.825 2.066l-8.421 4.679a3.002 3.002 0 010 1.51l8.421 4.679a3 3 0 11-.729 1.31l-8.421-4.678a3 3 0 110-4.132l8.421-4.679a3 3 0 01-.096-.755z",clipRule:"evenodd"}))}const SY=y.forwardRef(EY),i5=SY;function TY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"}))}const CY=y.forwardRef(TY),uB=CY;function IY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M5.166 2.621v.858c-1.035.148-2.059.33-3.071.543a.75.75 0 00-.584.859 6.753 6.753 0 006.138 5.6 6.73 6.73 0 002.743 1.346A6.707 6.707 0 019.279 15H8.54c-1.036 0-1.875.84-1.875 1.875V19.5h-.75a2.25 2.25 0 00-2.25 2.25c0 .414.336.75.75.75h15a.75.75 0 00.75-.75 2.25 2.25 0 00-2.25-2.25h-.75v-2.625c0-1.036-.84-1.875-1.875-1.875h-.739a6.706 6.706 0 01-1.112-3.173 6.73 6.73 0 002.743-1.347 6.753 6.753 0 006.139-5.6.75.75 0 00-.585-.858 47.077 47.077 0 00-3.07-.543V2.62a.75.75 0 00-.658-.744 49.22 49.22 0 00-6.093-.377c-2.063 0-4.096.128-6.093.377a.75.75 0 00-.657.744zm0 2.629c0 1.196.312 2.32.857 3.294A5.266 5.266 0 013.16 5.337a45.6 45.6 0 012.006-.343v.256zm13.5 0v-.256c.674.1 1.343.214 2.006.343a5.265 5.265 0 01-2.863 3.207 6.72 6.72 0 00.857-3.294z",clipRule:"evenodd"}))}const NY=y.forwardRef(IY),RY=NY;function AY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",clipRule:"evenodd"}))}const kY=y.forwardRef(AY),dB=kY;function PY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM15.75 9.75a3 3 0 116 0 3 3 0 01-6 0zM2.25 9.75a3 3 0 116 0 3 3 0 01-6 0zM6.31 15.117A6.745 6.745 0 0112 12a6.745 6.745 0 016.709 7.498.75.75 0 01-.372.568A12.696 12.696 0 0112 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 01-.372-.568 6.787 6.787 0 011.019-4.38z",clipRule:"evenodd"}),y.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 00-1.308 5.135 9.687 9.687 0 01-1.764-.44l-.115-.04a.563.563 0 01-.373-.487l-.01-.121a3.75 3.75 0 013.57-4.047zM20.226 19.389a8.287 8.287 0 00-1.308-5.135 3.75 3.75 0 013.57 4.047l-.01.121a.563.563 0 01-.373.486l-.115.04c-.567.2-1.156.349-1.764.441z"}))}const DY=y.forwardRef(PY),s5=DY;function LY({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"}))}const OY=y.forwardRef(LY),hB=OY;var _T=function(t,e){return _T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},_T(t,e)};function so(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_T(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ot=function(){return ot=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ot.apply(this,arguments)};function td(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Vo(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var fB={exports:{}},gn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=typeof Symbol=="function"&&Symbol.for,wN=ti?Symbol.for("react.element"):60103,_N=ti?Symbol.for("react.portal"):60106,M_=ti?Symbol.for("react.fragment"):60107,F_=ti?Symbol.for("react.strict_mode"):60108,B_=ti?Symbol.for("react.profiler"):60114,$_=ti?Symbol.for("react.provider"):60109,U_=ti?Symbol.for("react.context"):60110,bN=ti?Symbol.for("react.async_mode"):60111,V_=ti?Symbol.for("react.concurrent_mode"):60111,j_=ti?Symbol.for("react.forward_ref"):60112,z_=ti?Symbol.for("react.suspense"):60113,MY=ti?Symbol.for("react.suspense_list"):60120,H_=ti?Symbol.for("react.memo"):60115,W_=ti?Symbol.for("react.lazy"):60116,FY=ti?Symbol.for("react.block"):60121,BY=ti?Symbol.for("react.fundamental"):60117,$Y=ti?Symbol.for("react.responder"):60118,UY=ti?Symbol.for("react.scope"):60119;function Os(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wN:switch(t=t.type,t){case bN:case V_:case M_:case B_:case F_:case z_:return t;default:switch(t=t&&t.$$typeof,t){case U_:case j_:case W_:case H_:case $_:return t;default:return e}}case _N:return e}}}function pB(t){return Os(t)===V_}gn.AsyncMode=bN;gn.ConcurrentMode=V_;gn.ContextConsumer=U_;gn.ContextProvider=$_;gn.Element=wN;gn.ForwardRef=j_;gn.Fragment=M_;gn.Lazy=W_;gn.Memo=H_;gn.Portal=_N;gn.Profiler=B_;gn.StrictMode=F_;gn.Suspense=z_;gn.isAsyncMode=function(t){return pB(t)||Os(t)===bN};gn.isConcurrentMode=pB;gn.isContextConsumer=function(t){return Os(t)===U_};gn.isContextProvider=function(t){return Os(t)===$_};gn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wN};gn.isForwardRef=function(t){return Os(t)===j_};gn.isFragment=function(t){return Os(t)===M_};gn.isLazy=function(t){return Os(t)===W_};gn.isMemo=function(t){return Os(t)===H_};gn.isPortal=function(t){return Os(t)===_N};gn.isProfiler=function(t){return Os(t)===B_};gn.isStrictMode=function(t){return Os(t)===F_};gn.isSuspense=function(t){return Os(t)===z_};gn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===M_||t===V_||t===B_||t===F_||t===z_||t===MY||typeof t=="object"&&t!==null&&(t.$$typeof===W_||t.$$typeof===H_||t.$$typeof===$_||t.$$typeof===U_||t.$$typeof===j_||t.$$typeof===BY||t.$$typeof===$Y||t.$$typeof===UY||t.$$typeof===FY)};gn.typeOf=Os;fB.exports=gn;var VY=fB.exports,mB=VY,jY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gB={};gB[mB.ForwardRef]=jY;gB[mB.Memo]=zY;function vB(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}var Yt;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Yt||(Yt={}));var Bn;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(Bn||(Bn={}));var Lh;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(Lh||(Lh={}));function o5(t){return t.type===Bn.literal}function HY(t){return t.type===Bn.argument}function yB(t){return t.type===Bn.number}function wB(t){return t.type===Bn.date}function _B(t){return t.type===Bn.time}function bB(t){return t.type===Bn.select}function xB(t){return t.type===Bn.plural}function WY(t){return t.type===Bn.pound}function EB(t){return t.type===Bn.tag}function SB(t){return!!(t&&typeof t=="object"&&t.type===Lh.number)}function bT(t){return!!(t&&typeof t=="object"&&t.type===Lh.dateTime)}var TB=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,GY=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function qY(t){var e={};return t.replace(GY,function(n){var r=n.length;switch(n[0]){case"G":e.era=r===4?"long":r===5?"narrow":"short";break;case"y":e.year=r===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=r===4?"short":r===5?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][r-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][r-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][r-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][r-1];break;case"s":e.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var KY=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function QY(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(KY).filter(function(p){return p.length>0}),n=[],r=0,i=e;r<i.length;r++){var s=i[r],o=s.split("/");if(o.length===0)throw new Error("Invalid number skeleton");for(var a=o[0],l=o.slice(1),c=0,u=l;c<u.length;c++){var d=u[c];if(d.length===0)throw new Error("Invalid number skeleton")}n.push({stem:a,options:l})}return n}function YY(t){return t.replace(/^(.*?)-/,"")}var a5=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,CB=/^(@+)?(\+|#+)?[rs]?$/g,XY=/(\*)(0+)|(#+)(0+)|(0+)/g,IB=/^(0+)$/;function l5(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(CB,function(n,r,i){return typeof i!="string"?(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length):i==="+"?e.minimumSignificantDigits=r.length:r[0]==="#"?e.maximumSignificantDigits=r.length:(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length+(typeof i=="string"?i.length:0)),""}),e}function NB(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function JY(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var n=t.slice(0,2);if(n==="+!"?(e.signDisplay="always",t=t.slice(2)):n==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!IB.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function c5(t){var e={},n=NB(t);return n||e}function ZY(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=i.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=YY(i.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=ot(ot(ot({},e),{notation:"scientific"}),i.options.reduce(function(l,c){return ot(ot({},l),c5(c))},{}));continue;case"engineering":e=ot(ot(ot({},e),{notation:"engineering"}),i.options.reduce(function(l,c){return ot(ot({},l),c5(c))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(XY,function(l,c,u,d,p,v){if(c)e.minimumIntegerDigits=u.length;else{if(d&&p)throw new Error("We currently do not support maximum integer digits");if(v)throw new Error("We currently do not support exact integer digits")}return""});continue}if(IB.test(i.stem)){e.minimumIntegerDigits=i.stem.length;continue}if(a5.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(a5,function(l,c,u,d,p,v){return u==="*"?e.minimumFractionDigits=c.length:d&&d[0]==="#"?e.maximumFractionDigits=d.length:p&&v?(e.minimumFractionDigits=p.length,e.maximumFractionDigits=p.length+v.length):(e.minimumFractionDigits=c.length,e.maximumFractionDigits=c.length),""});var s=i.options[0];s==="w"?e=ot(ot({},e),{trailingZeroDisplay:"stripIfInteger"}):s&&(e=ot(ot({},e),l5(s)));continue}if(CB.test(i.stem)){e=ot(ot({},e),l5(i.stem));continue}var o=NB(i.stem);o&&(e=ot(ot({},e),o));var a=JY(i.stem);a&&(e=ot(ot({},e),a))}return e}var xv={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","h","K"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TL:["H","hB","hb","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function eX(t,e){for(var n="",r=0;r<t.length;r++){var i=t.charAt(r);if(i==="j"){for(var s=0;r+1<t.length&&t.charAt(r+1)===i;)s++,r++;var o=1+(s&1),a=s<2?1:3+(s>>1),l="a",c=tX(e);for((c=="H"||c=="k")&&(a=0);a-- >0;)n+=l;for(;o-- >0;)n=c+n}else i==="J"?n+="H":n+=i}return n}function tX(t){var e=t.hourCycle;if(e===void 0&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=t.language,r;n!=="root"&&(r=t.maximize().region);var i=xv[r||""]||xv[n||""]||xv["".concat(n,"-001")]||xv["001"];return i[0]}var eE,nX=new RegExp("^".concat(TB.source,"*")),rX=new RegExp("".concat(TB.source,"*$"));function Jt(t,e){return{start:t,end:e}}var iX=!!String.prototype.startsWith&&"_a".startsWith("a",1),sX=!!String.fromCodePoint,oX=!!Object.fromEntries,aX=!!String.prototype.codePointAt,lX=!!String.prototype.trimStart,cX=!!String.prototype.trimEnd,uX=!!Number.isSafeInteger,dX=uX?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},xT=!0;try{var hX=AB("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");xT=((eE=hX.exec("a"))===null||eE===void 0?void 0:eE[0])==="a"}catch{xT=!1}var u5=iX?function(e,n,r){return e.startsWith(n,r)}:function(e,n,r){return e.slice(r,r+n.length)===n},ET=sX?String.fromCodePoint:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=e.length,s=0,o;i>s;){if(o=e[s++],o>1114111)throw RangeError(o+" is not a valid code point");r+=o<65536?String.fromCharCode(o):String.fromCharCode(((o-=65536)>>10)+55296,o%1024+56320)}return r},d5=oX?Object.fromEntries:function(e){for(var n={},r=0,i=e;r<i.length;r++){var s=i[r],o=s[0],a=s[1];n[o]=a}return n},RB=aX?function(e,n){return e.codePointAt(n)}:function(e,n){var r=e.length;if(!(n<0||n>=r)){var i=e.charCodeAt(n),s;return i<55296||i>56319||n+1===r||(s=e.charCodeAt(n+1))<56320||s>57343?i:(i-55296<<10)+(s-56320)+65536}},fX=lX?function(e){return e.trimStart()}:function(e){return e.replace(nX,"")},pX=cX?function(e){return e.trimEnd()}:function(e){return e.replace(rX,"")};function AB(t,e){return new RegExp(t,e)}var ST;if(xT){var h5=AB("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ST=function(e,n){var r;h5.lastIndex=n;var i=h5.exec(e);return(r=i[1])!==null&&r!==void 0?r:""}}else ST=function(e,n){for(var r=[];;){var i=RB(e,n);if(i===void 0||kB(i)||yX(i))break;r.push(i),n+=i>=65536?2:1}return ET.apply(void 0,r)};var mX=function(){function t(e,n){n===void 0&&(n={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,n,r){for(var i=[];!this.isEOF();){var s=this.char();if(s===123){var o=this.parseArgument(e,r);if(o.err)return o;i.push(o.val)}else{if(s===125&&e>0)break;if(s===35&&(n==="plural"||n==="selectordinal")){var a=this.clonePosition();this.bump(),i.push({type:Bn.pound,location:Jt(a,this.clonePosition())})}else if(s===60&&!this.ignoreTag&&this.peek()===47){if(r)break;return this.error(Yt.UNMATCHED_CLOSING_TAG,Jt(this.clonePosition(),this.clonePosition()))}else if(s===60&&!this.ignoreTag&&TT(this.peek()||0)){var o=this.parseTag(e,n);if(o.err)return o;i.push(o.val)}else{var o=this.parseLiteral(e,n);if(o.err)return o;i.push(o.val)}}}return{val:i,err:null}},t.prototype.parseTag=function(e,n){var r=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Bn.literal,value:"<".concat(i,"/>"),location:Jt(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var s=this.parseMessage(e+1,n,!0);if(s.err)return s;var o=s.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!TT(this.char()))return this.error(Yt.INVALID_TAG,Jt(a,this.clonePosition()));var l=this.clonePosition(),c=this.parseTagName();return i!==c?this.error(Yt.UNMATCHED_CLOSING_TAG,Jt(l,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Bn.tag,value:i,children:o,location:Jt(r,this.clonePosition())},err:null}:this.error(Yt.INVALID_TAG,Jt(a,this.clonePosition())))}else return this.error(Yt.UNCLOSED_TAG,Jt(r,this.clonePosition()))}else return this.error(Yt.INVALID_TAG,Jt(r,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&vX(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,n){for(var r=this.clonePosition(),i="";;){var s=this.tryParseQuote(n);if(s){i+=s;continue}var o=this.tryParseUnquoted(e,n);if(o){i+=o;continue}var a=this.tryParseLeftAngleBracket();if(a){i+=a;continue}break}var l=Jt(r,this.clonePosition());return{val:{type:Bn.literal,value:i,location:l},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!gX(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(r===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(r);this.bump()}return ET.apply(void 0,n)},t.prototype.tryParseUnquoted=function(e,n){if(this.isEOF())return null;var r=this.char();return r===60||r===123||r===35&&(n==="plural"||n==="selectordinal")||r===125&&e>0?null:(this.bump(),ET(r))},t.prototype.parseArgument=function(e,n){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Yt.EXPECT_ARGUMENT_CLOSING_BRACE,Jt(r,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Yt.EMPTY_ARGUMENT,Jt(r,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(Yt.MALFORMED_ARGUMENT,Jt(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Yt.EXPECT_ARGUMENT_CLOSING_BRACE,Jt(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Bn.argument,value:i,location:Jt(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Yt.EXPECT_ARGUMENT_CLOSING_BRACE,Jt(r,this.clonePosition())):this.parseArgumentOptions(e,n,i,r);default:return this.error(Yt.MALFORMED_ARGUMENT,Jt(r,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),n=this.offset(),r=ST(this.message,n),i=n+r.length;this.bumpTo(i);var s=this.clonePosition(),o=Jt(e,s);return{value:r,location:o}},t.prototype.parseArgumentOptions=function(e,n,r,i){var s,o=this.clonePosition(),a=this.parseIdentifierIfPossible().value,l=this.clonePosition();switch(a){case"":return this.error(Yt.EXPECT_ARGUMENT_TYPE,Jt(o,l));case"number":case"date":case"time":{this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var u=this.clonePosition(),d=this.parseSimpleArgStyleIfPossible();if(d.err)return d;var p=pX(d.val);if(p.length===0)return this.error(Yt.EXPECT_ARGUMENT_STYLE,Jt(this.clonePosition(),this.clonePosition()));var v=Jt(u,this.clonePosition());c={style:p,styleLocation:v}}var g=this.tryParseArgumentClose(i);if(g.err)return g;var _=Jt(i,this.clonePosition());if(c&&u5(c==null?void 0:c.style,"::",0)){var R=fX(c.style.slice(2));if(a==="number"){var d=this.parseNumberSkeletonFromString(R,c.styleLocation);return d.err?d:{val:{type:Bn.number,value:r,location:_,style:d.val},err:null}}else{if(R.length===0)return this.error(Yt.EXPECT_DATE_TIME_SKELETON,_);var E=R;this.locale&&(E=eX(R,this.locale));var p={type:Lh.dateTime,pattern:E,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?qY(E):{}},b=a==="date"?Bn.date:Bn.time;return{val:{type:b,value:r,location:_,style:p},err:null}}}return{val:{type:a==="number"?Bn.number:a==="date"?Bn.date:Bn.time,value:r,location:_,style:(s=c==null?void 0:c.style)!==null&&s!==void 0?s:null},err:null}}case"plural":case"selectordinal":case"select":{var T=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Yt.EXPECT_SELECT_ARGUMENT_OPTIONS,Jt(T,ot({},T)));this.bumpSpace();var I=this.parseIdentifierIfPossible(),D=0;if(a!=="select"&&I.value==="offset"){if(!this.bumpIf(":"))return this.error(Yt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Jt(this.clonePosition(),this.clonePosition()));this.bumpSpace();var d=this.tryParseDecimalInteger(Yt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Yt.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(d.err)return d;this.bumpSpace(),I=this.parseIdentifierIfPossible(),D=d.val}var M=this.tryParsePluralOrSelectOptions(e,a,n,I);if(M.err)return M;var g=this.tryParseArgumentClose(i);if(g.err)return g;var $=Jt(i,this.clonePosition());return a==="select"?{val:{type:Bn.select,value:r,options:d5(M.val),location:$},err:null}:{val:{type:Bn.plural,value:r,options:d5(M.val),offset:D,pluralType:a==="plural"?"cardinal":"ordinal",location:$},err:null}}default:return this.error(Yt.INVALID_ARGUMENT_TYPE,Jt(o,l))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(Yt.EXPECT_ARGUMENT_CLOSING_BRACE,Jt(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,n=this.clonePosition();!this.isEOF();){var r=this.char();switch(r){case 39:{this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Yt.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Jt(i,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,n){var r=[];try{r=QY(e)}catch{return this.error(Yt.INVALID_NUMBER_SKELETON,n)}return{val:{type:Lh.number,tokens:r,location:n,parsedOptions:this.shouldParseSkeletons?ZY(r):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,n,r,i){for(var s,o=!1,a=[],l=new Set,c=i.value,u=i.location;;){if(c.length===0){var d=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var p=this.tryParseDecimalInteger(Yt.EXPECT_PLURAL_ARGUMENT_SELECTOR,Yt.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;u=Jt(d,this.clonePosition()),c=this.message.slice(d.offset,this.offset())}else break}if(l.has(c))return this.error(n==="select"?Yt.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Yt.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);c==="other"&&(o=!0),this.bumpSpace();var v=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?Yt.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Yt.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Jt(this.clonePosition(),this.clonePosition()));var g=this.parseMessage(e+1,n,r);if(g.err)return g;var _=this.tryParseArgumentClose(v);if(_.err)return _;a.push([c,{value:g.val,location:Jt(v,this.clonePosition())}]),l.add(c),this.bumpSpace(),s=this.parseIdentifierIfPossible(),c=s.value,u=s.location}return a.length===0?this.error(n==="select"?Yt.EXPECT_SELECT_ARGUMENT_SELECTOR:Yt.EXPECT_PLURAL_ARGUMENT_SELECTOR,Jt(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(Yt.MISSING_OTHER_CLAUSE,Jt(this.clonePosition(),this.clonePosition())):{val:a,err:null}},t.prototype.tryParseDecimalInteger=function(e,n){var r=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var s=!1,o=0;!this.isEOF();){var a=this.char();if(a>=48&&a<=57)s=!0,o=o*10+(a-48),this.bump();else break}var l=Jt(i,this.clonePosition());return s?(o*=r,dX(o)?{val:o,err:null}:this.error(n,l)):this.error(e,l)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var n=RB(this.message,e);if(n===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return n},t.prototype.error=function(e,n){return{val:null,err:{kind:e,message:this.message,location:n}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(u5(this.message,e,this.offset())){for(var n=0;n<e.length;n++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var n=this.offset(),r=this.message.indexOf(e,n);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var n=this.offset();if(n===e)break;if(n>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&kB(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),n=this.offset(),r=this.message.charCodeAt(n+(e>=65536?2:1));return r??null},t}();function TT(t){return t>=97&&t<=122||t>=65&&t<=90}function gX(t){return TT(t)||t===47}function vX(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function kB(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function yX(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function CT(t){t.forEach(function(e){if(delete e.location,bB(e)||xB(e))for(var n in e.options)delete e.options[n].location,CT(e.options[n].value);else yB(e)&&SB(e.style)||(wB(e)||_B(e))&&bT(e.style)?delete e.style.location:EB(e)&&CT(e.children)})}function wX(t,e){e===void 0&&(e={}),e=ot({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var n=new mX(t,e).parse();if(n.err){var r=SyntaxError(Yt[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return e!=null&&e.captureLocation||CT(n.val),n.val}function $o(t,e){var n=e&&e.cache?e.cache:TX,r=e&&e.serializer?e.serializer:SX,i=e&&e.strategy?e.strategy:bX;return i(t,{cache:n,serializer:r})}function _X(t){return t==null||typeof t=="number"||typeof t=="boolean"}function PB(t,e,n,r){var i=_X(r)?r:n(r),s=e.get(i);return typeof s>"u"&&(s=t.call(this,r),e.set(i,s)),s}function DB(t,e,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),s=e.get(i);return typeof s>"u"&&(s=t.apply(this,r),e.set(i,s)),s}function xN(t,e,n,r,i){return n.bind(e,t,r,i)}function bX(t,e){var n=t.length===1?PB:DB;return xN(t,this,n,e.cache.create(),e.serializer)}function xX(t,e){return xN(t,this,DB,e.cache.create(),e.serializer)}function EX(t,e){return xN(t,this,PB,e.cache.create(),e.serializer)}var SX=function(){return JSON.stringify(arguments)};function EN(){this.cache=Object.create(null)}EN.prototype.get=function(t){return this.cache[t]};EN.prototype.set=function(t,e){this.cache[t]=e};var TX={create:function(){return new EN}},Uo={variadic:xX,monadic:EX},ca;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(ca||(ca={}));var Ec=function(t){so(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.code=r,s.originalMessage=i,s}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),f5=function(t){so(e,t);function e(n,r,i,s){return t.call(this,'Invalid values for "'.concat(n,'": "').concat(r,'". Options are "').concat(Object.keys(i).join('", "'),'"'),ca.INVALID_VALUE,s)||this}return e}(Ec),CX=function(t){so(e,t);function e(n,r,i){return t.call(this,'Value for "'.concat(n,'" must be of type ').concat(r),ca.INVALID_VALUE,i)||this}return e}(Ec),IX=function(t){so(e,t);function e(n,r){return t.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(r,'"'),ca.MISSING_VALUE,r)||this}return e}(Ec),Pi;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(Pi||(Pi={}));function NX(t){return t.length<2?t:t.reduce(function(e,n){var r=e[e.length-1];return!r||r.type!==Pi.literal||n.type!==Pi.literal?e.push(n):r.value+=n.value,e},[])}function LB(t){return typeof t=="function"}function gy(t,e,n,r,i,s,o){if(t.length===1&&o5(t[0]))return[{type:Pi.literal,value:t[0].value}];for(var a=[],l=0,c=t;l<c.length;l++){var u=c[l];if(o5(u)){a.push({type:Pi.literal,value:u.value});continue}if(WY(u)){typeof s=="number"&&a.push({type:Pi.literal,value:n.getNumberFormat(e).format(s)});continue}var d=u.value;if(!(i&&d in i))throw new IX(d,o);var p=i[d];if(HY(u)){(!p||typeof p=="string"||typeof p=="number")&&(p=typeof p=="string"||typeof p=="number"?String(p):""),a.push({type:typeof p=="string"?Pi.literal:Pi.object,value:p});continue}if(wB(u)){var v=typeof u.style=="string"?r.date[u.style]:bT(u.style)?u.style.parsedOptions:void 0;a.push({type:Pi.literal,value:n.getDateTimeFormat(e,v).format(p)});continue}if(_B(u)){var v=typeof u.style=="string"?r.time[u.style]:bT(u.style)?u.style.parsedOptions:r.time.medium;a.push({type:Pi.literal,value:n.getDateTimeFormat(e,v).format(p)});continue}if(yB(u)){var v=typeof u.style=="string"?r.number[u.style]:SB(u.style)?u.style.parsedOptions:void 0;v&&v.scale&&(p=p*(v.scale||1)),a.push({type:Pi.literal,value:n.getNumberFormat(e,v).format(p)});continue}if(EB(u)){var g=u.children,_=u.value,R=i[_];if(!LB(R))throw new CX(_,"function",o);var E=gy(g,e,n,r,i,s),b=R(E.map(function(D){return D.value}));Array.isArray(b)||(b=[b]),a.push.apply(a,b.map(function(D){return{type:typeof D=="string"?Pi.literal:Pi.object,value:D}}))}if(bB(u)){var T=u.options[p]||u.options.other;if(!T)throw new f5(u.value,p,Object.keys(u.options),o);a.push.apply(a,gy(T.value,e,n,r,i));continue}if(xB(u)){var T=u.options["=".concat(p)];if(!T){if(!Intl.PluralRules)throw new Ec(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,ca.MISSING_INTL_API,o);var I=n.getPluralRules(e,{type:u.pluralType}).select(p-(u.offset||0));T=u.options[I]||u.options.other}if(!T)throw new f5(u.value,p,Object.keys(u.options),o);a.push.apply(a,gy(T.value,e,n,r,i,p-(u.offset||0)));continue}}return NX(a)}function RX(t,e){return e?ot(ot(ot({},t||{}),e||{}),Object.keys(t).reduce(function(n,r){return n[r]=ot(ot({},t[r]),e[r]||{}),n},{})):t}function AX(t,e){return e?Object.keys(t).reduce(function(n,r){return n[r]=RX(t[r],e[r]),n},ot({},t)):t}function tE(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function kX(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:$o(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,Vo([void 0],n,!1)))},{cache:tE(t.number),strategy:Uo.variadic}),getDateTimeFormat:$o(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,Vo([void 0],n,!1)))},{cache:tE(t.dateTime),strategy:Uo.variadic}),getPluralRules:$o(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,Vo([void 0],n,!1)))},{cache:tE(t.pluralRules),strategy:Uo.variadic})}}var OB=function(){function t(e,n,r,i){n===void 0&&(n=t.defaultLocale);var s=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(l){var c=s.formatToParts(l);if(c.length===1)return c[0].value;var u=c.reduce(function(d,p){return!d.length||p.type!==Pi.literal||typeof d[d.length-1]!="string"?d.push(p.value):d[d.length-1]+=p.value,d},[]);return u.length<=1?u[0]||"":u},this.formatToParts=function(l){return gy(s.ast,s.locales,s.formatters,s.formats,l,void 0,s.message)},this.resolvedOptions=function(){var l;return{locale:((l=s.resolvedLocale)===null||l===void 0?void 0:l.toString())||Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},this.locales=n,this.resolvedLocale=t.resolveLocale(n),typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var o=i||{};o.formatters;var a=td(o,["formatters"]);this.ast=t.__parse(e,ot(ot({},a),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=AX(t.formats,r),this.formatters=i&&i.formatters||kX(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(e);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},t.__parse=wX,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),Pu;(function(t){t.FORMAT_ERROR="FORMAT_ERROR",t.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",t.INVALID_CONFIG="INVALID_CONFIG",t.MISSING_DATA="MISSING_DATA",t.MISSING_TRANSLATION="MISSING_TRANSLATION"})(Pu||(Pu={}));var Fg=function(t){so(e,t);function e(n,r,i){var s=this,o=i?i instanceof Error?i:new Error(String(i)):void 0;return s=t.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(r,`
`).concat(o?`
`.concat(o.message,`
`).concat(o.stack):""))||this,s.code=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(s,e),s}return e}(Error),PX=function(t){so(e,t);function e(n,r){return t.call(this,Pu.UNSUPPORTED_FORMATTER,n,r)||this}return e}(Fg),DX=function(t){so(e,t);function e(n,r){return t.call(this,Pu.INVALID_CONFIG,n,r)||this}return e}(Fg),p5=function(t){so(e,t);function e(n,r){return t.call(this,Pu.MISSING_DATA,n,r)||this}return e}(Fg),oo=function(t){so(e,t);function e(n,r,i){var s=t.call(this,Pu.FORMAT_ERROR,"".concat(n,`
Locale: `).concat(r,`
`),i)||this;return s.locale=r,s}return e}(Fg),nE=function(t){so(e,t);function e(n,r,i,s){var o=t.call(this,"".concat(n,`
MessageID: `).concat(i==null?void 0:i.id,`
Default Message: `).concat(i==null?void 0:i.defaultMessage,`
Description: `).concat(i==null?void 0:i.description,`
`),r,s)||this;return o.descriptor=i,o.locale=r,o}return e}(oo),LX=function(t){so(e,t);function e(n,r){var i=t.call(this,Pu.MISSING_TRANSLATION,'Missing message: "'.concat(n.id,'" for locale "').concat(r,'", using ').concat(n.defaultMessage?"default message (".concat(typeof n.defaultMessage=="string"?n.defaultMessage:n.defaultMessage.map(function(s){var o;return(o=s.value)!==null&&o!==void 0?o:JSON.stringify(s)}).join(),")"):"id"," as fallback."))||this;return i.descriptor=n,i}return e}(Fg);function nd(t,e,n){return n===void 0&&(n={}),e.reduce(function(r,i){return i in t?r[i]=t[i]:i in n&&(r[i]=n[i]),r},{})}var OX=function(t){},MX=function(t){},MB={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:OX,onWarn:MX};function FB(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function Wc(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function FX(t){t===void 0&&(t=FB());var e=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,i=$o(function(){for(var a,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return new((a=Intl.DateTimeFormat).bind.apply(a,Vo([void 0],l,!1)))},{cache:Wc(t.dateTime),strategy:Uo.variadic}),s=$o(function(){for(var a,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return new((a=Intl.NumberFormat).bind.apply(a,Vo([void 0],l,!1)))},{cache:Wc(t.number),strategy:Uo.variadic}),o=$o(function(){for(var a,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return new((a=Intl.PluralRules).bind.apply(a,Vo([void 0],l,!1)))},{cache:Wc(t.pluralRules),strategy:Uo.variadic});return{getDateTimeFormat:i,getNumberFormat:s,getMessageFormat:$o(function(a,l,c,u){return new OB(a,l,c,ot({formatters:{getNumberFormat:s,getDateTimeFormat:i,getPluralRules:o}},u||{}))},{cache:Wc(t.message),strategy:Uo.variadic}),getRelativeTimeFormat:$o(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new(e.bind.apply(e,Vo([void 0],a,!1)))},{cache:Wc(t.relativeTime),strategy:Uo.variadic}),getPluralRules:o,getListFormat:$o(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new(n.bind.apply(n,Vo([void 0],a,!1)))},{cache:Wc(t.list),strategy:Uo.variadic}),getDisplayNames:$o(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new(r.bind.apply(r,Vo([void 0],a,!1)))},{cache:Wc(t.displayNames),strategy:Uo.variadic})}}function SN(t,e,n,r){var i=t&&t[e],s;if(i&&(s=i[n]),s)return s;r(new PX("No ".concat(e," format named: ").concat(n)))}function Ev(t,e){return Object.keys(t).reduce(function(n,r){return n[r]=ot({timeZone:e},t[r]),n},{})}function m5(t,e){var n=Object.keys(ot(ot({},t),e));return n.reduce(function(r,i){return r[i]=ot(ot({},t[i]||{}),e[i]||{}),r},{})}function g5(t,e){if(!e)return t;var n=OB.formats;return ot(ot(ot({},n),t),{date:m5(Ev(n.date,e),Ev(t.date||{},e)),time:m5(Ev(n.time,e),Ev(t.time||{},e))})}var IT=function(t,e,n,r,i){var s=t.locale,o=t.formats,a=t.messages,l=t.defaultLocale,c=t.defaultFormats,u=t.fallbackOnEmptyString,d=t.onError,p=t.timeZone,v=t.defaultRichTextElements;n===void 0&&(n={id:""});var g=n.id,_=n.defaultMessage;vB(!!g,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var R=String(g),E=a&&Object.prototype.hasOwnProperty.call(a,R)&&a[R];if(Array.isArray(E)&&E.length===1&&E[0].type===Bn.literal)return E[0].value;if(!r&&E&&typeof E=="string"&&!v)return E.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=ot(ot({},v),r||{}),o=g5(o,p),c=g5(c,p),!E){if(u===!1&&E==="")return E;if((!_||s&&s.toLowerCase()!==l.toLowerCase())&&d(new LX(n,s)),_)try{var b=e.getMessageFormat(_,l,c,i);return b.format(r)}catch(T){return d(new nE('Error formatting default message for: "'.concat(R,'", rendering default message verbatim'),s,n,T)),typeof _=="string"?_:R}return R}try{var b=e.getMessageFormat(E,s,o,ot({formatters:e},i||{}));return b.format(r)}catch(T){d(new nE('Error formatting message: "'.concat(R,'", using ').concat(_?"default message":"id"," as fallback."),s,n,T))}if(_)try{var b=e.getMessageFormat(_,l,c,i);return b.format(r)}catch(T){d(new nE('Error formatting the default message for: "'.concat(R,'", rendering message verbatim'),s,n,T))}return typeof E=="string"?E:typeof _=="string"?_:R},BB=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function G_(t,e,n,r){var i=t.locale,s=t.formats,o=t.onError,a=t.timeZone;r===void 0&&(r={});var l=r.format,c=ot(ot({},a&&{timeZone:a}),l&&SN(s,e,l,o)),u=nd(r,BB,c);return e==="time"&&!u.hour&&!u.minute&&!u.second&&!u.timeStyle&&!u.dateStyle&&(u=ot(ot({},u),{hour:"numeric",minute:"numeric"})),n(i,u)}function BX(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],s=n[1],o=s===void 0?{}:s,a=typeof i=="string"?new Date(i||0):i;try{return G_(t,"date",e,o).format(a)}catch(l){t.onError(new oo("Error formatting date.",t.locale,l))}return String(a)}function $X(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],s=n[1],o=s===void 0?{}:s,a=typeof i=="string"?new Date(i||0):i;try{return G_(t,"time",e,o).format(a)}catch(l){t.onError(new oo("Error formatting time.",t.locale,l))}return String(a)}function UX(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],s=n[1],o=n[2],a=o===void 0?{}:o,l=t.timeZone,c=t.locale,u=t.onError,d=nd(a,BB,l?{timeZone:l}:{});try{return e(c,d).formatRange(i,s)}catch(p){u(new oo("Error formatting date time range.",t.locale,p))}return String(i)}function VX(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],s=n[1],o=s===void 0?{}:s,a=typeof i=="string"?new Date(i||0):i;try{return G_(t,"date",e,o).formatToParts(a)}catch(l){t.onError(new oo("Error formatting date.",t.locale,l))}return[]}function jX(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],s=n[1],o=s===void 0?{}:s,a=typeof i=="string"?new Date(i||0):i;try{return G_(t,"time",e,o).formatToParts(a)}catch(l){t.onError(new oo("Error formatting time.",t.locale,l))}return[]}var zX=["style","type","fallback","languageDisplay"];function HX(t,e,n,r){var i=t.locale,s=t.onError,o=Intl.DisplayNames;o||s(new Ec(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,ca.MISSING_INTL_API));var a=nd(r,zX);try{return e(i,a).of(n)}catch(l){s(new oo("Error formatting display name.",i,l))}}var WX=["type","style"],v5=Date.now();function GX(t){return"".concat(v5,"_").concat(t,"_").concat(v5)}function qX(t,e,n,r){r===void 0&&(r={});var i=$B(t,e,n,r).reduce(function(s,o){var a=o.value;return typeof a!="string"?s.push(a):typeof s[s.length-1]=="string"?s[s.length-1]+=a:s.push(a),s},[]);return i.length===1?i[0]:i.length===0?"":i}function $B(t,e,n,r){var i=t.locale,s=t.onError;r===void 0&&(r={});var o=Intl.ListFormat;o||s(new Ec(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,ca.MISSING_INTL_API));var a=nd(r,WX);try{var l={},c=n.map(function(u,d){if(typeof u=="object"){var p=GX(d);return l[p]=u,p}return String(u)});return e(i,a).formatToParts(c).map(function(u){return u.type==="literal"?u:ot(ot({},u),{value:l[u.value]||u.value})})}catch(u){s(new oo("Error formatting list.",i,u))}return n}var KX=["type"];function QX(t,e,n,r){var i=t.locale,s=t.onError;r===void 0&&(r={}),Intl.PluralRules||s(new Ec(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,ca.MISSING_INTL_API));var o=nd(r,KX);try{return e(i,o).select(n)}catch(a){s(new oo("Error formatting plural.",i,a))}return"other"}var YX=["numeric","style"];function XX(t,e,n){var r=t.locale,i=t.formats,s=t.onError;n===void 0&&(n={});var o=n.format,a=!!o&&SN(i,"relative",o,s)||{},l=nd(n,YX,a);return e(r,l)}function JX(t,e,n,r,i){i===void 0&&(i={}),r||(r="second");var s=Intl.RelativeTimeFormat;s||t.onError(new Ec(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,ca.MISSING_INTL_API));try{return XX(t,e,i).format(n,r)}catch(o){t.onError(new oo("Error formatting relative time.",t.locale,o))}return String(n)}var ZX=["style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function UB(t,e,n){var r=t.locale,i=t.formats,s=t.onError;n===void 0&&(n={});var o=n.format,a=o&&SN(i,"number",o,s)||{},l=nd(n,ZX,a);return e(r,l)}function eJ(t,e,n,r){r===void 0&&(r={});try{return UB(t,e,r).format(n)}catch(i){t.onError(new oo("Error formatting number.",t.locale,i))}return String(n)}function tJ(t,e,n,r){r===void 0&&(r={});try{return UB(t,e,r).formatToParts(n)}catch(i){t.onError(new oo("Error formatting number.",t.locale,i))}return[]}function nJ(t){var e=t?t[Object.keys(t)[0]]:void 0;return typeof e=="string"}function rJ(t){t.onWarn&&t.defaultRichTextElements&&nJ(t.messages||{})&&t.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.io/docs/getting-started/message-distribution`)}function iJ(t,e){var n=FX(e),r=ot(ot({},MB),t),i=r.locale,s=r.defaultLocale,o=r.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&o?o(new p5('Missing locale data for locale: "'.concat(i,'" in Intl.NumberFormat. Using default locale: "').concat(s,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&o&&o(new p5('Missing locale data for locale: "'.concat(i,'" in Intl.DateTimeFormat. Using default locale: "').concat(s,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(o&&o(new DX('"locale" was not configured, using "'.concat(s,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),r.locale=r.defaultLocale||"en"),rJ(r),ot(ot({},r),{formatters:n,formatNumber:eJ.bind(null,r,n.getNumberFormat),formatNumberToParts:tJ.bind(null,r,n.getNumberFormat),formatRelativeTime:JX.bind(null,r,n.getRelativeTimeFormat),formatDate:BX.bind(null,r,n.getDateTimeFormat),formatDateToParts:VX.bind(null,r,n.getDateTimeFormat),formatTime:$X.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:UX.bind(null,r,n.getDateTimeFormat),formatTimeToParts:jX.bind(null,r,n.getDateTimeFormat),formatPlural:QX.bind(null,r,n.getPluralRules),formatMessage:IT.bind(null,r,n),$t:IT.bind(null,r,n),formatList:qX.bind(null,r,n.getListFormat),formatListToParts:$B.bind(null,r,n.getListFormat),formatDisplayName:HX.bind(null,r,n.getDisplayNames)})}function VB(t){vB(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var jB=ot(ot({},MB),{textComponent:y.Fragment});function sJ(t){return function(e){return t(y.Children.toArray(e))}}function oJ(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(var s=0;s<i;s++){var o=n[s];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}var TN=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=y.createContext(null)):y.createContext(null);TN.Consumer;var aJ=TN.Provider,lJ=aJ,cJ=TN;function bf(){var t=y.useContext(cJ);return VB(t),t}var NT;(function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"})(NT||(NT={}));var RT;(function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"})(RT||(RT={}));function zB(t){var e=function(n){var r=bf(),i=n.value,s=n.children,o=td(n,["value","children"]),a=typeof i=="string"?new Date(i||0):i,l=t==="formatDate"?r.formatDateToParts(a,o):r.formatTimeToParts(a,o);return s(l)};return e.displayName=RT[t],e}function Bg(t){var e=function(n){var r=bf(),i=n.value,s=n.children,o=td(n,["value","children"]),a=r[t](i,o);if(typeof s=="function")return s(a);var l=r.textComponent||y.Fragment;return y.createElement(l,null,a)};return e.displayName=NT[t],e}function rE(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,onWarn:t.onWarn,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}function HB(t){return t&&Object.keys(t).reduce(function(e,n){var r=t[n];return e[n]=LB(r)?sJ(r):r,e},{})}var y5=function(t,e,n,r){for(var i=[],s=4;s<arguments.length;s++)i[s-4]=arguments[s];var o=HB(r),a=IT.apply(void 0,Vo([t,e,n,o],i,!1));return Array.isArray(a)?y.Children.toArray(a):a},w5=function(t,e){var n=t.defaultRichTextElements,r=td(t,["defaultRichTextElements"]),i=HB(n),s=iJ(ot(ot(ot({},jB),r),{defaultRichTextElements:i}),e),o={locale:s.locale,timeZone:s.timeZone,fallbackOnEmptyString:s.fallbackOnEmptyString,formats:s.formats,defaultLocale:s.defaultLocale,defaultFormats:s.defaultFormats,messages:s.messages,onError:s.onError,defaultRichTextElements:i};return ot(ot({},s),{formatMessage:y5.bind(null,o,s.formatters),$t:y5.bind(null,o,s.formatters)})},uJ=function(t){so(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cache=FB(),n.state={cache:n.cache,intl:w5(rE(n.props),n.cache),prevConfig:rE(n.props)},n}return e.getDerivedStateFromProps=function(n,r){var i=r.prevConfig,s=r.cache,o=rE(n);return oJ(i,o)?null:{intl:w5(o,s),prevConfig:o}},e.prototype.render=function(){return VB(this.state.intl),y.createElement(lJ,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=jB,e}(y.PureComponent);const dJ=uJ;Bg("formatDate");Bg("formatTime");Bg("formatNumber");Bg("formatList");Bg("formatDisplayName");zB("formatDate");zB("formatTime");function hJ(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var fJ=hJ,Lt=fJ;function pJ(t){return!!t&&typeof t.then=="function"}var jn=pJ;function mJ(t,e){if(t!=null)return t;throw Lt(e??"Got unexpected null or undefined")}var Xn=mJ;function Pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class q_{getValue(){throw Lt("BaseLoadable")}toPromise(){throw Lt("BaseLoadable")}valueMaybe(){throw Lt("BaseLoadable")}valueOrThrow(){throw Lt(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Lt("BaseLoadable")}promiseOrThrow(){throw Lt(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Lt("BaseLoadable")}errorOrThrow(){throw Lt(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Lt("BaseLoadable")}}class gJ extends q_{constructor(e){super(),Pt(this,"state","hasValue"),Pt(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return jn(n)?Du(n):Oh(n)?n:$g(n)}catch(n){return jn(n)?Du(n.next(()=>this.map(e))):K_(n)}}}class vJ extends q_{constructor(e){super(),Pt(this,"state","hasError"),Pt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class WB extends q_{constructor(e){super(),Pt(this,"state","loading"),Pt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Du(this.contents.then(n=>{const r=e(n);if(Oh(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(jn(n))return n.then(()=>this.map(e).contents);throw n}))}}function $g(t){return Object.freeze(new gJ(t))}function K_(t){return Object.freeze(new vJ(t))}function Du(t){return Object.freeze(new WB(t))}function GB(){return Object.freeze(new WB(new Promise(()=>{})))}function yJ(t){return t.every(e=>e.state==="hasValue")?$g(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?K_(Xn(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Du(Promise.all(t.map(e=>e.contents)))}function qB(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Oh(i)?i:jn(i)?Du(i):$g(i)),r=yJ(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function Oh(t){return t instanceof q_}const wJ={of:t=>jn(t)?Du(t):Oh(t)?t:$g(t),error:t=>K_(t),loading:()=>GB(),all:qB,isLoadable:Oh};var rd={loadableWithValue:$g,loadableWithError:K_,loadableWithPromise:Du,loadableLoading:GB,loadableAll:qB,isLoadable:Oh,RecoilLoadable:wJ},_J=rd.loadableWithValue,bJ=rd.loadableWithError,xJ=rd.loadableWithPromise,EJ=rd.loadableLoading,SJ=rd.loadableAll,TJ=rd.isLoadable,CJ=rd.RecoilLoadable,Ug=Object.freeze({__proto__:null,loadableWithValue:_J,loadableWithError:bJ,loadableWithPromise:xJ,loadableLoading:EJ,loadableAll:SJ,isLoadable:TJ,RecoilLoadable:CJ});const AT={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function IJ(t,e){var n,r;const i=(n=process.env[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Lt(`({}).${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function NJ(t,e){var n;const r=(n=process.env[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function RJ(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(IJ("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{AT.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),NJ("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{AT.RECOIL_GKS_ENABLED.add(n)})}))}RJ();var xf=AT;function Q_(t){return xf.RECOIL_GKS_ENABLED.has(t)}Q_.setPass=t=>{xf.RECOIL_GKS_ENABLED.add(t)};Q_.setFail=t=>{xf.RECOIL_GKS_ENABLED.delete(t)};Q_.clear=()=>{xf.RECOIL_GKS_ENABLED.clear()};var xn=Q_;function AJ(t,e,{error:n}={}){return null}var kJ=AJ,CN=kJ,iE,sE,oE;const PJ=(iE=Ze.createMutableSource)!==null&&iE!==void 0?iE:Ze.unstable_createMutableSource,KB=(sE=Ze.useMutableSource)!==null&&sE!==void 0?sE:Ze.unstable_useMutableSource,QB=(oE=Ze.useSyncExternalStore)!==null&&oE!==void 0?oE:Ze.unstable_useSyncExternalStore;function DJ(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function LJ(){return xn("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:xn("recoil_sync_external_store")&&QB!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:xn("recoil_mutable_source")&&KB!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?xn("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:xn("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function OJ(){return!1}var Vg={createMutableSource:PJ,useMutableSource:KB,useSyncExternalStore:QB,currentRendererSupportsUseSyncExternalStore:DJ,reactMode:LJ,isFastRefreshEnabled:OJ};class IN{constructor(e){Pt(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class YB extends IN{}class XB extends IN{}function MJ(t){return t instanceof YB||t instanceof XB}var Y_={AbstractRecoilValue:IN,RecoilState:YB,RecoilValueReadOnly:XB,isRecoilValue:MJ},FJ=Y_.AbstractRecoilValue,BJ=Y_.RecoilState,$J=Y_.RecoilValueReadOnly,UJ=Y_.isRecoilValue,Mh=Object.freeze({__proto__:null,AbstractRecoilValue:FJ,RecoilState:BJ,RecoilValueReadOnly:$J,isRecoilValue:UJ});function VJ(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var X_=VJ;class JB{}const jJ=new JB,Lu=new Map,NN=new Map;function zJ(t){return X_(t,e=>Xn(NN.get(e)))}function HJ(t){if(Lu.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function WJ(t){xf.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&HJ(t.key),Lu.set(t.key,t);const e=t.set==null?new Mh.RecoilValueReadOnly(t.key):new Mh.RecoilState(t.key);return NN.set(t.key,e),e}class ZB extends Error{}function GJ(t){const e=Lu.get(t);if(e==null)throw new ZB(`Missing definition for RecoilValue: "${t}""`);return e}function qJ(t){return Lu.get(t)}const cw=new Map;function KJ(t){var e;if(!xn("recoil_memory_managament_2020"))return;const n=Lu.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Lu.delete(t),(r=e$(t))===null||r===void 0||r(),cw.delete(t)}}function QJ(t,e){xn("recoil_memory_managament_2020")&&(e===void 0?cw.delete(t):cw.set(t,e))}function e$(t){return cw.get(t)}var ps={nodes:Lu,recoilValues:NN,registerNode:WJ,getNode:GJ,getNodeMaybe:qJ,deleteNodeConfigIfPossible:KJ,setConfigDeletionHandler:QJ,getConfigDeletionHandler:e$,recoilValuesForKeys:zJ,NodeMissingError:ZB,DefaultValue:JB,DEFAULT_VALUE:jJ};function YJ(t,e){e()}var XJ={enqueueExecution:YJ};function JJ(t,e){return e={exports:{}},t(e,e.exports),e.exports}var ZJ=JJ(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},c=function(q){return function(){return q}},u=n.hash=function(ee){var q=typeof ee>"u"?"undefined":e(ee);if(q==="number")return ee;q!=="string"&&(ee+="");for(var Ee=0,je=0,Ve=ee.length;je<Ve;++je){var Ge=ee.charCodeAt(je);Ee=(Ee<<5)-Ee+Ge|0}return Ee},d=function(q){return q-=q>>1&1431655765,q=(q&858993459)+(q>>2&858993459),q=q+(q>>4)&252645135,q+=q>>8,q+=q>>16,q&127},p=function(q,Ee){return Ee>>>q&s},v=function(q){return 1<<q},g=function(q,Ee){return d(q&Ee-1)},_=function(q,Ee,je,Ve){var Ge=Ve;if(!q){var dt=Ve.length;Ge=new Array(dt);for(var at=0;at<dt;++at)Ge[at]=Ve[at]}return Ge[Ee]=je,Ge},R=function(q,Ee,je){var Ve=je.length-1,Ge=0,dt=0,at=je;if(q)Ge=dt=Ee;else for(at=new Array(Ve);Ge<Ee;)at[dt++]=je[Ge++];for(++Ge;Ge<=Ve;)at[dt++]=je[Ge++];return q&&(at.length=Ve),at},E=function(q,Ee,je,Ve){var Ge=Ve.length;if(q){for(var dt=Ge;dt>=Ee;)Ve[dt--]=Ve[dt];return Ve[Ee]=je,Ve}for(var at=0,it=0,Tt=new Array(Ge+1);at<Ee;)Tt[it++]=Ve[at++];for(Tt[Ee]=je;at<Ge;)Tt[++it]=Ve[at++];return Tt},b=1,T=2,I=3,D=4,M={__hamt_isEmpty:!0},$=function(q){return q===M||q&&q.__hamt_isEmpty},C=function(q,Ee,je,Ve){return{type:b,edit:q,hash:Ee,key:je,value:Ve,_modify:J}},k=function(q,Ee,je){return{type:T,edit:q,hash:Ee,children:je,_modify:Z}},O=function(q,Ee,je){return{type:I,edit:q,mask:Ee,children:je,_modify:Te}},W=function(q,Ee,je){return{type:D,edit:q,size:Ee,children:je,_modify:ke}},V=function(q){return q===M||q.type===b||q.type===T},z=function(q,Ee,je,Ve,Ge){for(var dt=[],at=Ve,it=0,Tt=0;at;++Tt)at&1&&(dt[Tt]=Ge[it++]),at>>>=1;return dt[Ee]=je,W(q,it+1,dt)},Y=function(q,Ee,je,Ve){for(var Ge=new Array(Ee-1),dt=0,at=0,it=0,Tt=Ve.length;it<Tt;++it)if(it!==je){var Ut=Ve[it];Ut&&!$(Ut)&&(Ge[dt++]=Ut,at|=1<<it)}return O(q,at,Ge)},fe=function ee(q,Ee,je,Ve,Ge,dt){if(je===Ge)return k(q,je,[dt,Ve]);var at=p(Ee,je),it=p(Ee,Ge);return O(q,v(at)|v(it),at===it?[ee(q,Ee+r,je,Ve,Ge,dt)]:at<it?[Ve,dt]:[dt,Ve])},ge=function(q,Ee,je,Ve,Ge,dt,at,it){for(var Tt=Ge.length,Ut=0;Ut<Tt;++Ut){var vn=Ge[Ut];if(je(at,vn.key)){var yn=vn.value,Le=dt(yn);return Le===yn?Ge:Le===l?(--it.value,R(q,Ut,Ge)):_(q,Ut,C(Ee,Ve,at,Le),Ge)}}var $e=dt();return $e===l?Ge:(++it.value,_(q,Tt,C(Ee,Ve,at,$e),Ge))},K=function(q,Ee){return q===Ee.edit},J=function(q,Ee,je,Ve,Ge,dt,at){if(Ee(dt,this.key)){var it=Ve(this.value);return it===this.value?this:it===l?(--at.value,M):K(q,this)?(this.value=it,this):C(q,Ge,dt,it)}var Tt=Ve();return Tt===l?this:(++at.value,fe(q,je,this.hash,this,Ge,C(q,Ge,dt,Tt)))},Z=function(q,Ee,je,Ve,Ge,dt,at){if(Ge===this.hash){var it=K(q,this),Tt=ge(it,q,Ee,this.hash,this.children,Ve,dt,at);return Tt===this.children?this:Tt.length>1?k(q,this.hash,Tt):Tt[0]}var Ut=Ve();return Ut===l?this:(++at.value,fe(q,je,this.hash,this,Ge,C(q,Ge,dt,Ut)))},Te=function(q,Ee,je,Ve,Ge,dt,at){var it=this.mask,Tt=this.children,Ut=p(je,Ge),vn=v(Ut),yn=g(it,vn),Le=it&vn,$e=Le?Tt[yn]:M,vt=$e._modify(q,Ee,je+r,Ve,Ge,dt,at);if($e===vt)return this;var Ln=K(q,this),an=it,Wt=void 0;if(Le&&$(vt)){if(an&=~vn,!an)return M;if(Tt.length<=2&&V(Tt[yn^1]))return Tt[yn^1];Wt=R(Ln,yn,Tt)}else if(!Le&&!$(vt)){if(Tt.length>=o)return z(q,Ut,vt,it,Tt);an|=vn,Wt=E(Ln,yn,vt,Tt)}else Wt=_(Ln,yn,vt,Tt);return Ln?(this.mask=an,this.children=Wt,this):O(q,an,Wt)},ke=function(q,Ee,je,Ve,Ge,dt,at){var it=this.size,Tt=this.children,Ut=p(je,Ge),vn=Tt[Ut],yn=(vn||M)._modify(q,Ee,je+r,Ve,Ge,dt,at);if(vn===yn)return this;var Le=K(q,this),$e=void 0;if($(vn)&&!$(yn))++it,$e=_(Le,Ut,yn,Tt);else if(!$(vn)&&$(yn)){if(--it,it<=a)return Y(q,it,Ut,Tt);$e=_(Le,Ut,M,Tt)}else $e=_(Le,Ut,yn,Tt);return Le?(this.size=it,this.children=$e,this):W(q,it,$e)};M._modify=function(ee,q,Ee,je,Ve,Ge,dt){var at=je();return at===l?M:(++dt.value,C(ee,Ve,Ge,at))};function U(ee,q,Ee,je,Ve){this._editable=ee,this._edit=q,this._config=Ee,this._root=je,this._size=Ve}U.prototype.setTree=function(ee,q){return this._editable?(this._root=ee,this._size=q,this):ee===this._root?this:new U(this._editable,this._edit,this._config,ee,q)};var ne=n.tryGetHash=function(ee,q,Ee,je){for(var Ve=je._root,Ge=0,dt=je._config.keyEq;;)switch(Ve.type){case b:return dt(Ee,Ve.key)?Ve.value:ee;case T:{if(q===Ve.hash)for(var at=Ve.children,it=0,Tt=at.length;it<Tt;++it){var Ut=at[it];if(dt(Ee,Ut.key))return Ut.value}return ee}case I:{var vn=p(Ge,q),yn=v(vn);if(Ve.mask&yn){Ve=Ve.children[g(Ve.mask,yn)],Ge+=r;break}return ee}case D:{if(Ve=Ve.children[p(Ge,q)],Ve){Ge+=r;break}return ee}default:return ee}};U.prototype.tryGetHash=function(ee,q,Ee){return ne(ee,q,Ee,this)};var te=n.tryGet=function(ee,q,Ee){return ne(ee,Ee._config.hash(q),q,Ee)};U.prototype.tryGet=function(ee,q){return te(ee,q,this)};var ue=n.getHash=function(ee,q,Ee){return ne(void 0,ee,q,Ee)};U.prototype.getHash=function(ee,q){return ue(ee,q,this)},n.get=function(ee,q){return ne(void 0,q._config.hash(ee),ee,q)},U.prototype.get=function(ee,q){return te(q,ee,this)};var le=n.has=function(ee,q,Ee){return ne(l,ee,q,Ee)!==l};U.prototype.hasHash=function(ee,q){return le(ee,q,this)};var Oe=n.has=function(ee,q){return le(q._config.hash(ee),ee,q)};U.prototype.has=function(ee){return Oe(ee,this)};var We=function(q,Ee){return q===Ee};n.make=function(ee){return new U(0,0,{keyEq:ee&&ee.keyEq||We,hash:ee&&ee.hash||u},M,0)},n.empty=n.make();var me=n.isEmpty=function(ee){return ee&&!!$(ee._root)};U.prototype.isEmpty=function(){return me(this)};var Be=n.modifyHash=function(ee,q,Ee,je){var Ve={value:je._size},Ge=je._root._modify(je._editable?je._edit:NaN,je._config.keyEq,0,ee,q,Ee,Ve);return je.setTree(Ge,Ve.value)};U.prototype.modifyHash=function(ee,q,Ee){return Be(Ee,ee,q,this)};var we=n.modify=function(ee,q,Ee){return Be(ee,Ee._config.hash(q),q,Ee)};U.prototype.modify=function(ee,q){return we(q,ee,this)};var nt=n.setHash=function(ee,q,Ee,je){return Be(c(Ee),ee,q,je)};U.prototype.setHash=function(ee,q,Ee){return nt(ee,q,Ee,this)};var rt=n.set=function(ee,q,Ee){return nt(Ee._config.hash(ee),ee,q,Ee)};U.prototype.set=function(ee,q){return rt(ee,q,this)};var wt=c(l),_e=n.removeHash=function(ee,q,Ee){return Be(wt,ee,q,Ee)};U.prototype.removeHash=U.prototype.deleteHash=function(ee,q){return _e(ee,q,this)};var Ye=n.remove=function(ee,q){return _e(q._config.hash(ee),ee,q)};U.prototype.remove=U.prototype.delete=function(ee){return Ye(ee,this)};var B=n.beginMutation=function(ee){return new U(ee._editable+1,ee._edit+1,ee._config,ee._root,ee._size)};U.prototype.beginMutation=function(){return B(this)};var X=n.endMutation=function(ee){return ee._editable=ee._editable&&ee._editable-1,ee};U.prototype.endMutation=function(){return X(this)};var re=n.mutate=function(ee,q){var Ee=B(q);return ee(Ee),X(Ee)};U.prototype.mutate=function(ee){return re(ee,this)};var xe=function(q){return q&&be(q[0],q[1],q[2],q[3],q[4])},be=function(q,Ee,je,Ve,Ge){for(;je<q;){var dt=Ee[je++];if(dt&&!$(dt))return pe(dt,Ve,[q,Ee,je,Ve,Ge])}return xe(Ge)},pe=function(q,Ee,je){switch(q.type){case b:return{value:Ee(q),rest:je};case T:case D:case I:var Ve=q.children;return be(Ve.length,Ve,0,Ee,je);default:return xe(je)}},De={done:!0};function St(ee){this.v=ee}St.prototype.next=function(){if(!this.v)return De;var ee=this.v;return this.v=xe(ee.rest),ee},St.prototype[Symbol.iterator]=function(){return this};var Xe=function(q,Ee){return new St(pe(q._root,Ee))},Ht=function(q){return[q.key,q.value]},qn=n.entries=function(ee){return Xe(ee,Ht)};U.prototype.entries=U.prototype[Symbol.iterator]=function(){return qn(this)};var cn=function(q){return q.key},Cn=n.keys=function(ee){return Xe(ee,cn)};U.prototype.keys=function(){return Cn(this)};var mt=function(q){return q.value},Dn=n.values=U.prototype.values=function(ee){return Xe(ee,mt)};U.prototype.values=function(){return Dn(this)};var Ne=n.fold=function(ee,q,Ee){var je=Ee._root;if(je.type===b)return ee(q,je.value,je.key);for(var Ve=[je.children],Ge=void 0;Ge=Ve.pop();)for(var dt=0,at=Ge.length;dt<at;){var it=Ge[dt++];it&&it.type&&(it.type===b?q=ee(q,it.value,it.key):Ve.push(it.children))}return q};U.prototype.fold=function(ee,q){return Ne(ee,q,this)};var mr=n.forEach=function(ee,q){return Ne(function(Ee,je,Ve){return ee(je,Ve,q)},null,q)};U.prototype.forEach=function(ee){return mr(ee,this)};var st=n.count=function(ee){return ee._size};U.prototype.count=function(){return st(this)},Object.defineProperty(U.prototype,"size",{get:U.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class eZ{constructor(e){Pt(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return AN(this)}toMap(){return new Map(this._map)}}class RN{constructor(e){if(Pt(this,"_hamt",ZJ.empty.beginMutation()),e instanceof RN){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return AN(this)}toMap(){return new Map(this._hamt)}}function AN(t){return xn("recoil_hamt_2020")?new RN(t):new eZ(t)}var tZ={persistentMap:AN},nZ=tZ.persistentMap,rZ=Object.freeze({__proto__:null,persistentMap:nZ});function iZ(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var rm=iZ;function sZ(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var uw=sZ;function oZ(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function aZ(t){return{nodeDeps:uw(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:uw(t.nodeToNodeSubscriptions,e=>new Set(e))}}function aE(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:rm(e,o);for(const l of a)s.has(l)||s.set(l,new Set),Xn(s.get(l)).add(t);if(o){const l=rm(o,e);for(const c of l){if(!s.has(c))return;const u=Xn(s.get(c));u.delete(t),u.size===0&&s.delete(c)}}}function lZ(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((s=l.previousTree)===null||s===void 0||s.version);const c=n.getGraph(r);if(aE(t,e,c),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const d=n.getGraph(l.currentTree.version);aE(t,e,d,c)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var u;const d=(u=l.nextTree)===null||u===void 0?void 0:u.version;if(d!==void 0){const p=n.getGraph(d);aE(t,e,p,c)}}}var jg={cloneGraph:aZ,graph:oZ,saveDepsToStore:lZ};let cZ=0;const uZ=()=>cZ++;let dZ=0;const hZ=()=>dZ++;let fZ=0;const pZ=()=>fZ++;var J_={getNextTreeStateVersion:uZ,getNextStoreID:hZ,getNextComponentID:pZ};const{persistentMap:_5}=rZ,{graph:mZ}=jg,{getNextTreeStateVersion:t$}=J_;function n$(){const t=t$();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:_5(),nonvalidatedAtoms:_5()}}function gZ(){const t=n$();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,mZ()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var r$={makeEmptyTreeState:n$,makeEmptyStoreState:gZ,getNextTreeStateVersion:t$};class i${}function vZ(){return new i$}var Z_={RetentionZone:i$,retentionZone:vZ};function yZ(t,e){const n=new Set(t);return n.add(e),n}function wZ(t,e){const n=new Set(t);return n.delete(e),n}function _Z(t,e,n){const r=new Map(t);return r.set(e,n),r}function bZ(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function xZ(t,e){const n=new Map(t);return n.delete(e),n}function EZ(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var s$={setByAddingToSet:yZ,setByDeletingFromSet:wZ,mapBySettingInMap:_Z,mapByUpdatingInMap:bZ,mapByDeletingFromMap:xZ,mapByDeletingMultipleFromMap:EZ};function*SZ(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var kN=SZ;function TZ(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var o$=TZ;const{getNode:zg,getNodeMaybe:CZ,recoilValuesForKeys:b5}=ps,{RetentionZone:x5}=Z_,{setByAddingToSet:IZ}=s$,NZ=Object.freeze(new Set);class RZ extends Error{}function AZ(t,e,n){if(!xn("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof x5)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!xn("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof x5)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function PN(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=zg(n),o=AZ(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function kZ(t,e,n){PN(t,t.getState().currentTree,e,n)}function PZ(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function DZ(t,e,n){return PN(t,e,n,"get"),zg(n).get(t,e)}function a$(t,e,n){return zg(n).peek(t,e)}function LZ(t,e,n){var r;const i=CZ(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:IZ(t.dirtyAtoms,e)}}function OZ(t,e,n,r){const i=zg(n);if(i.set==null)throw new RZ(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return PN(t,e,n,"set"),s(t,e,r)}function MZ(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=zg(n).nodeType;return o$({type:s},{loadable:()=>a$(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return b5((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:b5(kN(l$(t,e,new Set([n])),l=>l!==n)),components:X_((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function l$(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:NZ;for(const c of l)r.has(c)||i.push(c)}return r}var Sc={getNodeLoadable:DZ,peekNodeLoadable:a$,setNodeValue:OZ,initializeNode:kZ,cleanUpNode:PZ,setUnvalidatedAtomValue_DEPRECATED:LZ,peekNodeInfo:MZ,getDownstreamNodes:l$};let c$=null;function FZ(t){c$=t}function BZ(){var t;(t=c$)===null||t===void 0||t()}var u$={setInvalidateMemoizedSnapshot:FZ,invalidateMemoizedSnapshot:BZ};const{getDownstreamNodes:$Z,getNodeLoadable:d$,setNodeValue:UZ}=Sc,{getNextComponentID:VZ}=J_,{getNode:jZ,getNodeMaybe:h$}=ps,{DefaultValue:DN}=ps,{reactMode:zZ}=Vg,{AbstractRecoilValue:HZ,RecoilState:WZ,RecoilValueReadOnly:GZ,isRecoilValue:qZ}=Mh,{invalidateMemoizedSnapshot:KZ}=u$;function QZ(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=s.previousTree)===null||i===void 0||i.version);const o=d$(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function YZ(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof DN?n.delete(i):n.set(i,r)}),n}function XZ(t,e,{key:n},r){if(typeof r=="function"){const i=d$(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Lt(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function JZ(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=XZ(t,e,i,s),a=UZ(t,e,i.key,o);for(const[l,c]of a.entries())kT(e,l,c)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;kT(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=h$(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else CN(`Unknown action ${n.type}`)}function kT(t,e,n){n.state==="hasValue"&&n.contents instanceof DN?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function f$(t,e){t.replaceState(n=>{const r=p$(n);for(const i of e)JZ(t,r,i);return m$(t,r),KZ(),r})}function e1(t,e){if(im.length){const n=im[im.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else f$(t,[e])}const im=[];function ZZ(){const t=new Map;return im.push(t),()=>{for(const[e,n]of t)f$(e,n);im.pop()}}function p$(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function m$(t,e){const n=$Z(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=h$(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function g$(t,e,n){e1(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function eee(t,e,n){if(n instanceof DN)return g$(t,e,n);e1(t,{type:"setLoadable",recoilValue:e,loadable:n})}function tee(t,e){e1(t,{type:"markModified",recoilValue:e})}function nee(t,e,n){e1(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function ree(t,{key:e},n,r=null){const i=VZ(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),Xn(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=zZ();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function iee(t,e){var n;const{currentTree:r}=t.getState(),i=jZ(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var ga={RecoilValueReadOnly:GZ,AbstractRecoilValue:HZ,RecoilState:WZ,getRecoilValueAsLoadable:QZ,setRecoilValue:g$,setRecoilValueLoadable:eee,markRecoilValueModified:tee,setUnvalidatedRecoilValue:nee,subscribeToRecoilValue:ree,isRecoilValue:qZ,applyAtomValueWrites:YZ,batchStart:ZZ,writeLoadableToTreeState:kT,invalidateDownstreams:m$,copyTreeState:p$,refreshRecoilValue:iee};function see(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var oee=see;const{cleanUpNode:aee}=Sc,{deleteNodeConfigIfPossible:lee,getNode:v$}=ps,{RetentionZone:y$}=Z_,cee=12e4,w$=new Set;function _$(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of e)if(o instanceof y$)for(const a of fee(n,o))i.add(a);else i.add(o);const s=uee(t,i);for(const o of s)hee(t,r,o)}function uee(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const c=new Set,u=dee(t,r,l,s,o);for(const g of u){var d;if(v$(g).retainedBy==="recoilRoot"){o.add(g);continue}if(((d=n.retention.referenceCounts.get(g))!==null&&d!==void 0?d:0)>0){o.add(g);continue}if(b$(g).some(R=>n.retention.referenceCounts.get(R))){o.add(g);continue}const _=i.nodeToNodeSubscriptions.get(g);if(_&&oee(_,R=>o.has(R))){o.add(g);continue}s.add(g),c.add(g)}const p=new Set;for(const g of c)for(const _ of(v=i.nodeDeps.get(g))!==null&&v!==void 0?v:w$){var v;s.has(_)||p.add(_)}p.size&&a(p)}}function dee(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(Xn(n.values().next().value));return o;function l(c){if(r.has(c)||i.has(c)){n.delete(c);return}if(a.has(c))return;const u=s.nodeToNodeSubscriptions.get(c);if(u)for(const d of u)l(d);a.add(c),n.delete(c),o.push(c)}}function hee(t,e,n){if(!xn("recoil_memory_managament_2020"))return;aee(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=b$(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const c of l){var a;(a=o.nodeToNodeSubscriptions.get(c))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}lee(n)}function fee(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:w$}function b$(t){const e=v$(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof y$?[e]:e}function pee(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):_$(t,new Set([e]))}function mee(t,e,n){var r;if(!xn("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?x$(t,e):i.set(e,s)}function x$(t,e){if(!xn("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),pee(t,e)}function gee(t){if(!xn("recoil_memory_managament_2020"))return;const e=t.getState();_$(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function vee(t){return t===void 0?"recoilRoot":t}var id={SUSPENSE_TIMEOUT_MS:cee,updateRetainCount:mee,updateRetainCountToZero:x$,releaseScheduledRetainablesNow:gee,retainedByOptionWithDefault:vee};const{unstable_batchedUpdates:yee}=XK;var wee={unstable_batchedUpdates:yee};const{unstable_batchedUpdates:_ee}=wee;var bee={unstable_batchedUpdates:_ee};const{batchStart:xee}=ga,{unstable_batchedUpdates:Eee}=bee;let LN=Eee||(t=>t());const See=t=>{LN=t},Tee=()=>LN,Cee=t=>{LN(()=>{let e=()=>{};try{e=xee(),t()}finally{e()}})};var t1={getBatcher:Tee,setBatcher:See,batchUpdates:Cee};function*Iee(t){for(const e of t)for(const n of e)yield n}var E$=Iee;const S$=typeof Window>"u"||typeof window>"u",Nee=t=>!S$&&(t===window||t instanceof Window),Ree=typeof navigator<"u"&&navigator.product==="ReactNative";var n1={isSSR:S$,isReactNative:Ree,isWindow:Nee};function Aee(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function kee(t,e){let n,r;return(...i)=>{const s=e(...i);return n===s||(n=s,r=t(...i)),r}}function Pee(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var Dee={memoizeWithArgsHash:Aee,memoizeOneWithArgsHash:kee,memoizeOneWithArgsHashAndInvalidation:Pee};const{batchUpdates:PT}=t1,{initializeNode:Lee,peekNodeInfo:Oee}=Sc,{graph:Mee}=jg,{getNextStoreID:Fee}=J_,{DEFAULT_VALUE:Bee,recoilValues:E5,recoilValuesForKeys:S5}=ps,{AbstractRecoilValue:$ee,getRecoilValueAsLoadable:Uee,setRecoilValue:T5,setUnvalidatedRecoilValue:Vee}=ga,{updateRetainCount:vy}=id,{setInvalidateMemoizedSnapshot:jee}=u$,{getNextTreeStateVersion:zee,makeEmptyStoreState:Hee}=r$,{isSSR:Wee}=n1,{memoizeOneWithArgsHashAndInvalidation:Gee}=Dee;class r1{constructor(e,n){Pt(this,"_store",void 0),Pt(this,"_refCount",1),Pt(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),Uee(this._store,r))),Pt(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Pt(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return S5(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?E5.values():r.isInitialized===!0?S5(E$([i,s])):kN(E5.values(),({key:o})=>!i.has(o)&&!s.has(o))}),Pt(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),Oee(this._store,this._store.getState().currentTree,r))),Pt(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new DT(this,PT);return r(i),i}),Pt(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new DT(this,PT);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:Fee(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return Xn(i.get(r));const s=Mee();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Lt("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)Lee(this._store,r,"get"),vy(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){Wee||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!xn("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){xn("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function T$(t,e,n=!1){const r=t.getState(),i=n?zee():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(X_(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function qee(t){const e=new r1(Hee());return t!=null?e.map(t):e}const[C5,C$]=Gee((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:Xn(r.previousTree);return new r1(T$(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});jee(C$);function Kee(t,e="latest"){const n=C5(t,e);return n.isRetained()?n:(C$(),C5(t,e))}class DT extends r1{constructor(e,n){super(T$(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Pt(this,"_batch",void 0),Pt(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{vy(s,r.key,1),T5(this.getStore_INTERNAL(),r,i)})}),Pt(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{vy(i,r.key,1),T5(this.getStore_INTERNAL(),r,Bee)})}),Pt(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();PT(()=>{for(const[s,o]of r.entries())vy(i,s,1),Vee(i,new $ee(s),o)})}),this._batch=n}}var i1={Snapshot:r1,MutableSnapshot:DT,freshSnapshot:qee,cloneSnapshot:Kee},Qee=i1.Snapshot,Yee=i1.MutableSnapshot,Xee=i1.freshSnapshot,Jee=i1.cloneSnapshot,s1=Object.freeze({__proto__:null,Snapshot:Qee,MutableSnapshot:Yee,freshSnapshot:Xee,cloneSnapshot:Jee});function Zee(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var ete=Zee;const{useRef:tte}=Ze;function nte(t){const e=tte(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var I5=nte;const{getNextTreeStateVersion:rte,makeEmptyStoreState:I$}=r$,{cleanUpNode:ite,getDownstreamNodes:ste,initializeNode:ote,setNodeValue:ate,setUnvalidatedAtomValue_DEPRECATED:lte}=Sc,{graph:cte}=jg,{cloneGraph:ute}=jg,{getNextStoreID:N$}=J_,{createMutableSource:lE,reactMode:R$}=Vg,{applyAtomValueWrites:dte}=ga,{releaseScheduledRetainablesNow:A$}=id,{freshSnapshot:hte}=s1,{useCallback:fte,useContext:k$,useEffect:LT,useMemo:pte,useRef:mte,useState:gte}=Ze;function cp(){throw Lt("This component must be used inside a <RecoilRoot> component.")}const P$=Object.freeze({storeID:N$(),getState:cp,replaceState:cp,getGraph:cp,subscribeToTransactions:cp,addTransactionMetadata:cp});let OT=!1;function N5(t){if(OT)throw Lt("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){xn("recoil_memory_managament_2020")&&xn("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&A$(t);const n=e.currentTree.version,r=rte();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,ute(Xn(e.graphsByVersion.get(n))))}}const D$=Ze.createContext({current:P$}),o1=()=>k$(D$),L$=Ze.createContext(null);function vte(){return k$(L$)}function ON(t,e,n){const r=ste(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function O$(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!R$().early||e.suspendedComponentResolvers.size>0)&&(ON(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function yte(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,O$(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):CN("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,xn("recoil_memory_managament_2020")&&n==null&&A$(t)}finally{e.commitDepth--}}function wte({setNotifyBatcherOfChange:t}){const e=o1(),[,n]=gte([]);return t(()=>n({})),LT(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),LT(()=>{XJ.enqueueExecution("Batcher",()=>{yte(e.current)})}),null}function _te(t,e){const n=I$();return e({set:(r,i)=>{const s=n.currentTree,o=ate(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const c of a)l.delete(c);n.currentTree={...s,dirtyAtoms:ete(s.dirtyAtoms,a),atomValues:dte(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=lte(n.currentTree,s,i)})}}),n}function bte(t){const e=hte(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let R5=0;function xte({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=v=>{const g=i.current.graphsByVersion;if(g.has(v))return Xn(g.get(v));const _=cte();return g.set(v,_),_},o=(v,g)=>{if(g==null){const{transactionSubscriptions:_}=d.current.getState(),R=R5++;return _.set(R,v),{release:()=>{_.delete(R)}}}else{const{nodeTransactionSubscriptions:_}=d.current.getState();_.has(g)||_.set(g,new Map);const R=R5++;return Xn(_.get(g)).set(R,v),{release:()=>{const E=_.get(g);E&&(E.delete(R),E.size===0&&_.delete(g))}}}},a=v=>{N5(d.current);for(const g of Object.keys(v))Xn(d.current.getState().nextTree).transactionMetadata[g]=v[g]},l=v=>{N5(d.current);const g=Xn(i.current.nextTree);let _;try{OT=!0,_=v(g)}finally{OT=!1}_!==g&&(i.current.nextTree=_,R$().early&&ON(d.current,i.current,_),Xn(c.current)())},c=mte(null),u=fte(v=>{c.current=v},[c]),d=I5(()=>n??{storeID:N$(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(d.current=n),i=I5(()=>t!=null?_te(d.current,t):e!=null?bte(e):I$());const p=pte(()=>lE==null?void 0:lE(i,()=>i.current.currentTree.version),[i]);return LT(()=>{const v=d.current;for(const g of new Set(v.getState().knownAtoms))ote(v,g,"get");return()=>{for(const g of v.getState().knownAtoms)ite(v,g)}},[d]),Ze.createElement(D$.Provider,{value:d},Ze.createElement(L$.Provider,{value:p},Ze.createElement(wte,{setNotifyBatcherOfChange:u}),r))}function Ete(t){const{override:e,...n}=t,r=o1();return e===!1&&r.current!==P$?t.children:Ze.createElement(xte,n)}function Ste(){return o1().current.storeID}var el={RecoilRoot:Ete,useStoreRef:o1,useRecoilMutableSource:vte,useRecoilStoreID:Ste,notifyComponents_FOR_TESTING:ON,sendEndOfBatchNotifications_FOR_TESTING:O$};function Tte(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var Cte=Tte;const{useEffect:Ite,useRef:Nte}=Ze;function Rte(t){const e=Nte();return Ite(()=>{e.current=t}),e.current}var M$=Rte;const{useStoreRef:Ate}=el,{SUSPENSE_TIMEOUT_MS:kte}=id,{updateRetainCount:up}=id,{RetentionZone:Pte}=Z_,{useEffect:Dte,useRef:Lte}=Ze,{isSSR:A5}=n1;function Ote(t){if(xn("recoil_memory_managament_2020"))return Mte(t)}function Mte(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof Pte?o:o.key),r=Ate();Dte(()=>{if(!xn("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!A5)window.clearTimeout(i.current),i.current=null;else for(const a of n)up(o,a,1);return()=>{for(const a of n)up(o,a,-1)}},[r,...n]);const i=Lte(),s=M$(n);if(!A5&&(s===void 0||!Cte(s,n))){const o=r.current;for(const a of n)up(o,a,1);if(s)for(const a of s)up(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)up(o,a,-1)},kte)}}var MN=Ote;function Fte(){return"<component name not available>"}var Hg=Fte;const{batchUpdates:Bte}=t1,{DEFAULT_VALUE:F$}=ps,{currentRendererSupportsUseSyncExternalStore:$te,reactMode:Ef,useMutableSource:Ute,useSyncExternalStore:Vte}=Vg,{useRecoilMutableSource:jte,useStoreRef:va}=el,{AbstractRecoilValue:MT,getRecoilValueAsLoadable:Wg,setRecoilValue:dw,setUnvalidatedRecoilValue:zte,subscribeToRecoilValue:Fh}=ga,{useCallback:ds,useEffect:Bh,useMemo:B$,useRef:sm,useState:FN}=Ze,{setByAddingToSet:Hte}=s$,{isSSR:Wte}=n1;function BN(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),Wte&&jn(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:Lt(`Invalid value of loadable atom "${e.key}"`)}function Gte(){const t=Hg(),e=va(),[,n]=FN([]),r=sm(new Set);r.current=new Set;const i=sm(new Set),s=sm(new Map),o=ds(l=>{const c=s.current.get(l);c&&(c.release(),s.current.delete(l))},[s]),a=ds((l,c)=>{s.current.has(c)&&n([])},[]);return Bh(()=>{const l=e.current;rm(r.current,i.current).forEach(c=>{if(s.current.has(c))return;const u=Fh(l,new MT(c),p=>a(p,c),t);s.current.set(c,u),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),c)}):a(l.getState(),c)}),rm(i.current,r.current).forEach(c=>{o(c)}),i.current=r.current}),Bh(()=>{const l=s.current;return rm(r.current,new Set(l.keys())).forEach(c=>{const u=Fh(e.current,new MT(c),d=>a(d,c),t);l.set(c,u)}),()=>l.forEach((c,u)=>o(u))},[t,e,o,a]),B$(()=>{function l(g){return _=>{dw(e.current,g,_)}}function c(g){return()=>dw(e.current,g,F$)}function u(g){var _;r.current.has(g.key)||(r.current=Hte(r.current,g.key));const R=e.current.getState();return Wg(e.current,g,Ef().early&&(_=R.nextTree)!==null&&_!==void 0?_:R.currentTree)}function d(g){const _=u(g);return BN(_,g,e)}function p(g){return[d(g),l(g)]}function v(g){return[u(g),l(g)]}return{getRecoilValue:d,getRecoilValueLoadable:u,getRecoilState:p,getRecoilStateLoadable:v,getSetRecoilState:l,getResetRecoilState:c}},[r,e])}const qte={current:0};function Kte(t){const e=va(),n=Hg(),r=ds(()=>{var a;const l=e.current,c=l.getState(),u=Ef().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return{loadable:Wg(l,t,u),key:t.key}},[e,t]),i=ds(a=>{let l;return()=>{var c,u;const d=a();return(c=l)!==null&&c!==void 0&&c.loadable.is(d.loadable)&&((u=l)===null||u===void 0?void 0:u.key)===d.key?l:(l=d,d)}},[]),s=B$(()=>i(r),[r,i]),o=ds(a=>{const l=e.current;return Fh(l,t,a,n).release},[e,t,n]);return Vte(o,s,s).loadable}function Qte(t){const e=va(),n=ds(()=>{var c;const u=e.current,d=u.getState(),p=Ef().early&&(c=d.nextTree)!==null&&c!==void 0?c:d.currentTree;return Wg(u,t,p)},[e,t]),r=ds(()=>n(),[n]),i=Hg(),s=ds((c,u)=>{const d=e.current;return Fh(d,t,()=>{if(!xn("recoil_suppress_rerender_in_callback"))return u();const v=n();l.current.is(v)||u(),l.current=v},i).release},[e,t,i,n]),o=jte();if(o==null)throw Lt("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=Ute(o,r,s),l=sm(a);return Bh(()=>{l.current=a}),a}function FT(t){const e=va(),n=Hg(),r=ds(()=>{var l;const c=e.current,u=c.getState(),d=Ef().early&&(l=u.nextTree)!==null&&l!==void 0?l:u.currentTree;return Wg(c,t,d)},[e,t]),i=ds(()=>({loadable:r(),key:t.key}),[r,t.key]),s=ds(l=>{const c=i();return l.loadable.is(c.loadable)&&l.key===c.key?l:c},[i]);Bh(()=>{const l=Fh(e.current,t,c=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=FN(i);return o.key!==t.key?i().loadable:o.loadable}function Yte(t){const e=va(),[,n]=FN([]),r=Hg(),i=ds(()=>{var a;const l=e.current,c=l.getState(),u=Ef().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return Wg(l,t,u)},[e,t]),s=i(),o=sm(s);return Bh(()=>{o.current=s}),Bh(()=>{const a=e.current,l=a.getState(),c=Fh(a,t,d=>{var p;if(!xn("recoil_suppress_rerender_in_callback"))return n([]);const v=i();(p=o.current)!==null&&p!==void 0&&p.is(v)||n(v),o.current=v},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var u;if(!xn("recoil_suppress_rerender_in_callback"))return n([]);const d=i();(u=o.current)!==null&&u!==void 0&&u.is(d)||n(d),o.current=d}return c.release},[r,i,t,e]),s}function $N(t){return xn("recoil_memory_managament_2020")&&MN(t),{TRANSITION_SUPPORT:FT,SYNC_EXTERNAL_STORE:$te()?Kte:FT,MUTABLE_SOURCE:Qte,LEGACY:Yte}[Ef().mode](t)}function $$(t){const e=va(),n=$N(t);return BN(n,t,e)}function a1(t){const e=va();return ds(n=>{dw(e.current,t,n)},[e,t])}function Xte(t){const e=va();return ds(()=>{dw(e.current,t,F$)},[e,t])}function Jte(t){return[$$(t),a1(t)]}function Zte(t){return[$N(t),a1(t)]}function ene(){const t=va();return(e,n={})=>{Bte(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>zte(t.current,new MT(i),r))})}}function U$(t){return xn("recoil_memory_managament_2020")&&MN(t),FT(t)}function V$(t){const e=va(),n=U$(t);return BN(n,t,e)}function tne(t){return[V$(t),a1(t)]}var nne={recoilComponentGetRecoilValueCount_FOR_TESTING:qte,useRecoilInterface:Gte,useRecoilState:Jte,useRecoilStateLoadable:Zte,useRecoilValue:$$,useRecoilValueLoadable:$N,useResetRecoilState:Xte,useSetRecoilState:a1,useSetUnvalidatedAtomValues:ene,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:U$,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:V$,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:tne};function rne(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var ine=rne;function sne(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var one=sne;function ane(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var lne=ane;const{batchUpdates:cne}=t1,{DEFAULT_VALUE:une,getNode:j$,nodes:dne}=ps,{useStoreRef:UN}=el,{AbstractRecoilValue:hne,setRecoilValueLoadable:fne}=ga,{SUSPENSE_TIMEOUT_MS:pne}=id,{cloneSnapshot:hw}=s1,{useCallback:l1,useEffect:z$,useRef:k5,useState:mne}=Ze,{isSSR:P5}=n1;function c1(t){const e=UN();z$(()=>e.current.subscribeToTransactions(t).release,[t,e])}function D5(t){const e=t.atomValues.toMap(),n=uw(ine(e,(r,i)=>{const o=j$(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return lne(t.nonvalidatedAtoms.toMap(),n)}function gne(t){c1(l1(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=D5(r),s=D5(n),o=uw(dne,l=>{var c,u,d,p;return{persistence_UNSTABLE:{type:(c=(u=l.persistence_UNSTABLE)===null||u===void 0?void 0:u.type)!==null&&c!==void 0?c:"none",backButton:(d=(p=l.persistence_UNSTABLE)===null||p===void 0?void 0:p.backButton)!==null&&d!==void 0?d:!1}}}),a=one(r.dirtyAtoms,l=>i.has(l)||s.has(l));t({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function vne(t){c1(l1(e=>{const n=hw(e,"latest"),r=hw(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function yne(){const t=UN(),[e,n]=mne(()=>hw(t.current)),r=M$(e),i=k5(),s=k5();if(c1(l1(a=>n(hw(a)),[])),z$(()=>{const a=e.retain();if(i.current&&!P5){var l;window.clearTimeout(i.current),i.current=null,(l=s.current)===null||l===void 0||l.call(s),s.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!P5){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=s.current)===null||o===void 0||o.call(s),s.current=null}s.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=s.current)===null||a===void 0||a.call(s),s.current=null},pne)}return e}function H$(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;cne(()=>{const o=new Set;for(const c of[i.atomValues.keys(),s.atomValues.keys()])for(const u of c){var a,l;((a=i.atomValues.get(u))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(u))===null||l===void 0?void 0:l.contents)&&j$(u).shouldRestoreFromSnapshots&&o.add(u)}o.forEach(c=>{fne(t,new hne(c),s.atomValues.has(c)?Xn(s.atomValues.get(c)):une)}),t.replaceState(c=>({...c,stateID:e.getID()}))})}function wne(){const t=UN();return l1(e=>H$(t.current,e),[t])}var W$={useRecoilSnapshot:yne,gotoSnapshot:H$,useGotoRecoilSnapshot:wne,useRecoilTransactionObserver:vne,useTransactionObservation_DEPRECATED:gne,useTransactionSubscription_DEPRECATED:c1};const{peekNodeInfo:_ne}=Sc,{useStoreRef:bne}=el;function xne(){const t=bne();return({key:e})=>_ne(t.current,t.current.getState().currentTree,e)}var Ene=xne;const{reactMode:Sne}=Vg,{RecoilRoot:Tne,useStoreRef:Cne}=el,{useMemo:Ine}=Ze;function Nne(){Sne().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=Cne().current;return Ine(()=>{function e({children:n}){return Ze.createElement(Tne,{store_INTERNAL:t},n)}return e},[t])}var Rne=Nne;const{loadableWithValue:Ane}=Ug,{initializeNode:kne}=Sc,{DEFAULT_VALUE:Pne,getNode:Dne}=ps,{copyTreeState:Lne,getRecoilValueAsLoadable:One,invalidateDownstreams:Mne,writeLoadableToTreeState:Fne}=ga;function L5(t){return Dne(t.key).nodeType==="atom"}class Bne{constructor(e,n){Pt(this,"_store",void 0),Pt(this,"_treeState",void 0),Pt(this,"_changes",void 0),Pt(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!L5(r))throw Lt("Reading selectors within atomicUpdate is not supported");const i=One(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Lt(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Pt(this,"set",(r,i)=>{if(!L5(r))throw Lt("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else kne(this._store,r.key,"set"),this._changes.set(r.key,i)}),Pt(this,"reset",r=>{this.set(r,Pne)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=Lne(this._treeState);for(const[n,r]of this._changes)Fne(e,n,Ane(r));return Mne(this._store,e),e}}function $ne(t){return e=>{t.replaceState(n=>{const r=new Bne(t,n);return e(r),r.newTreeState_INTERNAL()})}}var Une={atomicUpdater:$ne},Vne=Une.atomicUpdater,G$=Object.freeze({__proto__:null,atomicUpdater:Vne});function jne(t,e){if(!t)throw new Error(e)}var zne=jne,Up=zne;const{atomicUpdater:Hne}=G$,{batchUpdates:Wne}=t1,{DEFAULT_VALUE:Gne}=ps,{useStoreRef:qne}=el,{refreshRecoilValue:Kne,setRecoilValue:O5}=ga,{cloneSnapshot:Qne}=s1,{gotoSnapshot:Yne}=W$,{useCallback:Xne}=Ze;class q${}const Jne=new q$;function K$(t,e,n,r){let i=Jne,s;if(Wne(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Lt(a);const l=o$({...r??{},set:(u,d)=>O5(t,u,d),reset:u=>O5(t,u,Gne),refresh:u=>Kne(t,u),gotoSnapshot:u=>Yne(t,u),transact_UNSTABLE:u=>Hne(t)(u)},{snapshot:()=>{const u=Qne(t);return s=u.retain(),u}}),c=e(l);if(typeof c!="function")throw Lt(a);i=c(...n)}),i instanceof q$&&Up(!1),jn(i))i=i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}function Zne(t,e){const n=qne();return Xne((...r)=>K$(n.current,t,r),e!=null?[...e,n]:void 0)}var Q$={recoilCallback:K$,useRecoilCallback:Zne};const{useStoreRef:ere}=el,{refreshRecoilValue:tre}=ga,{useCallback:nre}=Ze;function rre(t){const e=ere();return nre(()=>{const n=e.current;tre(n,t)},[t,e])}var ire=rre;const{atomicUpdater:sre}=G$,{useStoreRef:ore}=el,{useMemo:are}=Ze;function lre(t,e){const n=ore();return are(()=>(...r)=>{sre(n.current)(s=>{t(s)(...r)})},e!=null?[...e,n]:void 0)}var cre=lre;class ure{constructor(e){Pt(this,"value",void 0),this.value=e}}var dre={WrappedValue:ure},hre=dre.WrappedValue,Y$=Object.freeze({__proto__:null,WrappedValue:hre});const{isFastRefreshEnabled:fre}=Vg;class M5 extends Error{}class pre{constructor(e){var n,r,i;Pt(this,"_name",void 0),Pt(this,"_numLeafs",void 0),Pt(this,"_root",void 0),Pt(this,"_onHit",void 0),Pt(this,"_onSet",void 0),Pt(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let c,u;for(const[R,E]of e){var d,p,v;const b=this._root;if((b==null?void 0:b.type)==="leaf")throw this.invalidCacheError();const T=c;if(c=T?T.branches.get(u):b,c=(d=c)!==null&&d!==void 0?d:{type:"branch",nodeKey:R,parent:T,branches:new Map,branchKey:u},c.type!=="branch"||c.nodeKey!==R)throw this.invalidCacheError();T==null||T.branches.set(u,c),r==null||(p=r.onNodeVisit)===null||p===void 0||p.call(r,c),u=this._mapNodeValue(E),this._root=(v=this._root)!==null&&v!==void 0?v:c}const g=c?(s=c)===null||s===void 0?void 0:s.branches.get(u):this._root;if(g!=null&&(g.type!=="leaf"||g.branchKey!==u))throw this.invalidCacheError();const _={type:"leaf",value:n,parent:c,branchKey:u};(o=c)===null||o===void 0||o.branches.set(u,_),this._root=(a=this._root)!==null&&a!==void 0?a:_,this._numLeafs++,this._onSet(_),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,_)};try{i()}catch(s){if(s instanceof M5)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=fre()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw CN(e+(this._name!=null?` - ${this._name}`:"")),new M5}}var mre={TreeCache:pre},gre=mre.TreeCache,X$=Object.freeze({__proto__:null,TreeCache:gre});class vre{constructor(e){var n;Pt(this,"_maxSize",void 0),Pt(this,"_size",void 0),Pt(this,"_head",void 0),Pt(this,"_tail",void 0),Pt(this,"_map",void 0),Pt(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=Xn(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var yre={LRUCache:vre},wre=yre.LRUCache,J$=Object.freeze({__proto__:null,LRUCache:wre});const{LRUCache:_re}=J$,{TreeCache:bre}=X$;function xre({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new _re({maxSize:e}),i=new bre({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var F5=xre;function mo(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Lt("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(jn(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>mo(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return mo(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:mo(s,e)]=o;return mo(i,e,n)}return t instanceof Set?mo(Array.from(t).sort((i,s)=>mo(i,e).localeCompare(mo(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?mo(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${mo(i,e)}:${mo(t[i],e,i)}`).join(",")}}`}function Ere(t,e={allowFunctions:!1}){return mo(t,e)}var u1=Ere;const{TreeCache:Sre}=X$,Sv={equality:"reference",eviction:"keep-all",maxSize:1/0};function Tre({equality:t=Sv.equality,eviction:e=Sv.eviction,maxSize:n=Sv.maxSize}=Sv,r){const i=Cre(t);return Ire(e,n,i,r)}function Cre(t){switch(t){case"reference":return e=>e;case"value":return e=>u1(e)}throw Lt(`Unrecognized equality policy ${t}`)}function Ire(t,e,n,r){switch(t){case"keep-all":return new Sre({name:r,mapNodeValue:n});case"lru":return F5({name:r,maxSize:Xn(e),mapNodeValue:n});case"most-recent":return F5({name:r,maxSize:1,mapNodeValue:n})}throw Lt(`Unrecognized eviction policy ${t}`)}var Nre=Tre;function Rre(t){return()=>null}var Are={startPerfBlock:Rre};const{isLoadable:kre,loadableWithError:Tv,loadableWithPromise:Pre,loadableWithValue:cE}=Ug,{WrappedValue:Z$}=Y$,{getNodeLoadable:Cv,peekNodeLoadable:Dre,setNodeValue:Lre}=Sc,{saveDepsToStore:Ore}=jg,{DEFAULT_VALUE:Mre,getConfigDeletionHandler:Fre,getNode:Bre,registerNode:B5}=ps,{isRecoilValue:$re}=Mh,{markRecoilValueModified:$5}=ga,{retainedByOptionWithDefault:Ure}=id,{recoilCallback:Vre}=Q$,{startPerfBlock:jre}=Are;class e7{}const dp=new e7,hp=[],Iv=new Map,zre=(()=>{let t=0;return()=>t++})();function t7(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=Nre(i??{equality:"reference",eviction:"keep-all"},n),l=Ure(t.retainedBy_UNSTABLE),c=new Map;let u=0;function d(){return!xn("recoil_memory_managament_2020")||u>0}function p(U){return U.getState().knownSelectors.add(n),u++,()=>{u--}}function v(){return Fre(n)!==void 0&&!d()}function g(U,ne,te,ue,le){ge(ne,ue,le),_(U,te)}function _(U,ne){Y(U,ne)&&z(U),E(ne,!0)}function R(U,ne){Y(U,ne)&&(Xn(O(U)).stateVersions.clear(),E(ne,!1))}function E(U,ne){const te=Iv.get(U);if(te!=null){for(const ue of te)$5(ue,Xn(e));ne&&Iv.delete(U)}}function b(U,ne){let te=Iv.get(ne);te==null&&Iv.set(ne,te=new Set),te.add(U)}function T(U,ne,te,ue,le,Oe){return ne.then(We=>{if(!d())throw z(U),dp;const me=cE(We);return g(U,te,le,me,ue),We}).catch(We=>{if(!d())throw z(U),dp;if(jn(We))return I(U,We,te,ue,le,Oe);const me=Tv(We);throw g(U,te,le,me,ue),We})}function I(U,ne,te,ue,le,Oe){return ne.then(We=>{if(!d())throw z(U),dp;Oe.loadingDepKey!=null&&Oe.loadingDepPromise===ne?te.atomValues.set(Oe.loadingDepKey,cE(We)):U.getState().knownSelectors.forEach(nt=>{te.atomValues.delete(nt)});const me=$(U,te);if(me&&me.state!=="loading"){if((Y(U,le)||O(U)==null)&&_(U,le),me.state==="hasValue")return me.contents;throw me.contents}if(!Y(U,le)){const nt=k(U,te);if(nt!=null)return nt.loadingLoadable.contents}const[Be,we]=M(U,te,le);if(Be.state!=="loading"&&g(U,te,le,Be,we),Be.state==="hasError")throw Be.contents;return Be.contents}).catch(We=>{if(We instanceof e7)throw dp;if(!d())throw z(U),dp;const me=Tv(We);throw g(U,te,le,me,ue),We})}function D(U,ne,te,ue){var le,Oe,We,me;if(Y(U,ue)||ne.version===((le=U.getState())===null||le===void 0||(Oe=le.currentTree)===null||Oe===void 0?void 0:Oe.version)||ne.version===((We=U.getState())===null||We===void 0||(me=We.nextTree)===null||me===void 0?void 0:me.version)){var Be,we,nt;Ore(n,te,U,(Be=(we=U.getState())===null||we===void 0||(nt=we.nextTree)===null||nt===void 0?void 0:nt.version)!==null&&Be!==void 0?Be:U.getState().currentTree.version)}for(const rt of te)o.add(rt)}function M(U,ne,te){const ue=jre(n);let le=!0,Oe=!0;const We=()=>{ue(),Oe=!1};let me,Be=!1,we;const nt={loadingDepKey:null,loadingDepPromise:null},rt=new Map;function wt({key:Ye}){const B=Cv(U,ne,Ye);switch(rt.set(Ye,B),le||(D(U,ne,new Set(rt.keys()),te),R(U,te)),B.state){case"hasValue":return B.contents;case"hasError":throw B.contents;case"loading":throw nt.loadingDepKey=Ye,nt.loadingDepPromise=B.contents,B.contents}throw Lt("Invalid Loadable state")}const _e=Ye=>(...B)=>{if(Oe)throw Lt("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Up(!1),Vre(U,Ye,B,{node:e})};try{me=r({get:wt,getCallback:_e}),me=$re(me)?wt(me):me,kre(me)&&(me.state==="hasError"&&(Be=!0),me=me.contents),jn(me)?me=T(U,me,ne,rt,te,nt).finally(We):We(),me=me instanceof Z$?me.value:me}catch(Ye){me=Ye,jn(me)?me=I(U,me,ne,rt,te,nt).finally(We):(Be=!0,We())}return Be?we=Tv(me):jn(me)?we=Pre(me):we=cE(me),le=!1,V(U,te,rt),D(U,ne,new Set(rt.keys()),te),[we,rt]}function $(U,ne){let te=ne.atomValues.get(n);if(te!=null)return te;const ue=new Set;try{te=a.get(Oe=>(typeof Oe!="string"&&Up(!1),Cv(U,ne,Oe).contents),{onNodeVisit:Oe=>{Oe.type==="branch"&&Oe.nodeKey!==n&&ue.add(Oe.nodeKey)}})}catch(Oe){throw Lt(`Problem with cache lookup for selector "${n}": ${Oe.message}`)}if(te){var le;ne.atomValues.set(n,te),D(U,ne,ue,(le=O(U))===null||le===void 0?void 0:le.executionID)}return te}function C(U,ne){const te=$(U,ne);if(te!=null)return z(U),te;const ue=k(U,ne);if(ue!=null){var le;return((le=ue.loadingLoadable)===null||le===void 0?void 0:le.state)==="loading"&&b(U,ue.executionID),ue.loadingLoadable}const Oe=zre(),[We,me]=M(U,ne,Oe);return We.state==="loading"?(W(U,Oe,We,me,ne),b(U,Oe)):(z(U),ge(ne,We,me)),We}function k(U,ne){const te=E$([c.has(U)?[Xn(c.get(U))]:[],X_(kN(c,([le])=>le!==U),([,le])=>le)]);function ue(le){for(const[Oe,We]of le)if(!Cv(U,ne,Oe).is(We))return!0;return!1}for(const le of te){if(le.stateVersions.get(ne.version)||!ue(le.depValuesDiscoveredSoFarDuringAsyncWork))return le.stateVersions.set(ne.version,!0),le;le.stateVersions.set(ne.version,!1)}}function O(U){return c.get(U)}function W(U,ne,te,ue,le){c.set(U,{depValuesDiscoveredSoFarDuringAsyncWork:ue,executionID:ne,loadingLoadable:te,stateVersions:new Map([[le.version,!0]])})}function V(U,ne,te){if(Y(U,ne)){const ue=O(U);ue!=null&&(ue.depValuesDiscoveredSoFarDuringAsyncWork=te)}}function z(U){c.delete(U)}function Y(U,ne){var te;return ne===((te=O(U))===null||te===void 0?void 0:te.executionID)}function fe(U){return Array.from(U.entries()).map(([ne,te])=>[ne,te.contents])}function ge(U,ne,te){U.atomValues.set(n,ne);try{a.set(fe(te),ne)}catch(ue){throw Lt(`Problem with setting cache for selector "${n}": ${ue.message}`)}}function K(U){if(hp.includes(n)){const ne=`Recoil selector has circular dependencies: ${hp.slice(hp.indexOf(n)).join("  ")}`;return Tv(Lt(ne))}hp.push(n);try{return U()}finally{hp.pop()}}function J(U,ne){const te=ne.atomValues.get(n);return te??a.get(ue=>{var le;return typeof ue!="string"&&Up(!1),(le=Dre(U,ne,ue))===null||le===void 0?void 0:le.contents})}function Z(U,ne){return K(()=>C(U,ne))}function Te(U){U.atomValues.delete(n)}function ke(U,ne){e==null&&Up(!1);for(const ue of o){var te;const le=Bre(ue);(te=le.clearCache)===null||te===void 0||te.call(le,U,ne)}o.clear(),Te(ne),a.clear(),$5(U,e)}return s!=null?e=B5({key:n,nodeType:"selector",peek:J,get:Z,set:(ne,te,ue)=>{let le=!1;const Oe=new Map;function We({key:nt}){if(le)throw Lt("Recoil: Async selector sets are not currently supported.");const rt=Cv(ne,te,nt);if(rt.state==="hasValue")return rt.contents;if(rt.state==="loading"){const wt=`Getting value of asynchronous atom or selector "${nt}" in a pending state while setting selector "${n}" is not yet supported.`;throw Lt(wt)}else throw rt.contents}function me(nt,rt){if(le)throw Lt("Recoil: Async selector sets are not currently supported.");const wt=typeof rt=="function"?rt(We(nt)):rt;Lre(ne,te,nt.key,wt).forEach((Ye,B)=>Oe.set(B,Ye))}function Be(nt){me(nt,Mre)}const we=s({set:me,get:We,reset:Be},ue);if(we!==void 0)throw jn(we)?Lt("Recoil: Async selector sets are not currently supported."):Lt("Recoil: selector set should be a void function.");return le=!0,Oe},init:p,invalidate:Te,clearCache:ke,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=B5({key:n,nodeType:"selector",peek:J,get:Z,init:p,invalidate:Te,clearCache:ke,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}t7.value=t=>new Z$(t);var $h=t7;const{isLoadable:Hre,loadableWithError:uE,loadableWithPromise:dE,loadableWithValue:Id}=Ug,{WrappedValue:n7}=Y$,{peekNodeInfo:Wre}=Sc,{DEFAULT_VALUE:eu,DefaultValue:bl,getConfigDeletionHandler:r7,registerNode:Gre,setConfigDeletionHandler:qre}=ps,{isRecoilValue:Kre}=Mh,{getRecoilValueAsLoadable:Qre,markRecoilValueModified:Yre,setRecoilValue:U5,setRecoilValueLoadable:Xre}=ga,{retainedByOptionWithDefault:Jre}=id,fp=t=>t instanceof n7?t.value:t;function Zre(t){const{key:e,persistence_UNSTABLE:n}=t,r=Jre(t.retainedBy_UNSTABLE);let i=0;function s(b){return dE(b.then(T=>(o=Id(T),T)).catch(T=>{throw o=uE(T),T}))}let o=jn(t.default)?s(t.default):Hre(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Id(fp(t.default));o.contents;let a;const l=new Map;function c(b){return b}function u(b,T){const I=T.then(D=>{var M,$;return(($=((M=b.getState().nextTree)!==null&&M!==void 0?M:b.getState().currentTree).atomValues.get(e))===null||$===void 0?void 0:$.contents)===I&&U5(b,E,D),D}).catch(D=>{var M,$;throw(($=((M=b.getState().nextTree)!==null&&M!==void 0?M:b.getState().currentTree).atomValues.get(e))===null||$===void 0?void 0:$.contents)===I&&Xre(b,E,uE(D)),D});return I}function d(b,T,I){var D;i++;const M=()=>{var z;i--,(z=l.get(b))===null||z===void 0||z.forEach(Y=>Y()),l.delete(b)};if(b.getState().knownAtoms.add(e),o.state==="loading"){const z=()=>{var Y;((Y=b.getState().nextTree)!==null&&Y!==void 0?Y:b.getState().currentTree).atomValues.has(e)||Yre(b,E)};o.contents.finally(z)}const $=(D=t.effects)!==null&&D!==void 0?D:t.effects_UNSTABLE;if($!=null){let K=function(ne){if(Y&&ne.key===e){const te=z;return te instanceof bl?p(b,T):jn(te)?dE(te.then(ue=>ue instanceof bl?o.toPromise():ue)):Id(te)}return Qre(b,ne)},J=function(ne){return K(ne).toPromise()},Z=function(ne){var te;const ue=Wre(b,(te=b.getState().nextTree)!==null&&te!==void 0?te:b.getState().currentTree,ne.key);return Y&&ne.key===e&&!(z instanceof bl)?{...ue,isSet:!0,loadable:K(ne)}:ue};var O=K,W=J,V=Z;let z=eu,Y=!0,fe=!1,ge=null;const Te=ne=>te=>{if(Y){const ue=K(E),le=ue.state==="hasValue"?ue.contents:eu;z=typeof te=="function"?te(le):te,jn(z)&&(z=z.then(Oe=>(ge={effect:ne,value:Oe},Oe)))}else{if(jn(te))throw Lt("Setting atoms to async values is not implemented.");typeof te!="function"&&(ge={effect:ne,value:fp(te)}),U5(b,E,typeof te=="function"?ue=>{const le=fp(te(ue));return ge={effect:ne,value:le},le}:fp(te))}},ke=ne=>()=>Te(ne)(eu),U=ne=>te=>{var ue;const{release:le}=b.subscribeToTransactions(Oe=>{var We;let{currentTree:me,previousTree:Be}=Oe.getState();Be||(Be=me);const we=(We=me.atomValues.get(e))!==null&&We!==void 0?We:o;if(we.state==="hasValue"){var nt,rt,wt,_e;const Ye=we.contents,B=(nt=Be.atomValues.get(e))!==null&&nt!==void 0?nt:o,X=B.state==="hasValue"?B.contents:eu;((rt=ge)===null||rt===void 0?void 0:rt.effect)!==ne||((wt=ge)===null||wt===void 0?void 0:wt.value)!==Ye?te(Ye,X,!me.atomValues.has(e)):((_e=ge)===null||_e===void 0?void 0:_e.effect)===ne&&(ge=null)}},e);l.set(b,[...(ue=l.get(b))!==null&&ue!==void 0?ue:[],le])};for(const ne of $)try{const te=ne({node:E,storeID:b.storeID,parentStoreID_UNSTABLE:b.parentStoreID,trigger:I,setSelf:Te(ne),resetSelf:ke(ne),onSet:U(ne),getPromise:J,getLoadable:K,getInfo_UNSTABLE:Z});if(te!=null){var C;l.set(b,[...(C=l.get(b))!==null&&C!==void 0?C:[],te])}}catch(te){z=te,fe=!0}if(Y=!1,!(z instanceof bl)){var k;const ne=fe?uE(z):jn(z)?dE(u(b,z)):Id(fp(z));ne.contents,T.atomValues.set(e,ne),(k=b.getState().nextTree)===null||k===void 0||k.atomValues.set(e,ne)}}return M}function p(b,T){var I,D;return(I=(D=T.atomValues.get(e))!==null&&D!==void 0?D:a)!==null&&I!==void 0?I:o}function v(b,T){if(T.atomValues.has(e))return Xn(T.atomValues.get(e));if(T.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const I=T.nonvalidatedAtoms.get(e),D=n.validator(I,eu);return a=D instanceof bl?o:Id(D),a}else return o}function g(){a=void 0}function _(b,T,I){if(T.atomValues.has(e)){const D=Xn(T.atomValues.get(e));if(D.state==="hasValue"&&I===D.contents)return new Map}else if(!T.nonvalidatedAtoms.has(e)&&I instanceof bl)return new Map;return a=void 0,new Map().set(e,Id(I))}function R(){return r7(e)!==void 0&&i<=0}const E=Gre({key:e,nodeType:"atom",peek:p,get:v,set:_,init:d,invalidate:g,shouldDeleteConfigOnRelease:R,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return E}function VN(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return Kre(n)?eie({...e,default:n}):Zre({...e,default:n})}function eie(t){const e=VN({...t,default:eu,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof bl?r:Xn(t.persistence_UNSTABLE).validator(r,eu)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=$h({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof bl?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return qre(n.key,r7(t.key)),n}VN.value=t=>new n7(t);var i7=VN;class tie{constructor(e){var n;Pt(this,"_map",void 0),Pt(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var nie={MapCache:tie},rie=nie.MapCache,iie=Object.freeze({__proto__:null,MapCache:rie});const{LRUCache:V5}=J$,{MapCache:sie}=iie,Nv={equality:"reference",eviction:"none",maxSize:1/0};function oie({equality:t=Nv.equality,eviction:e=Nv.eviction,maxSize:n=Nv.maxSize}=Nv){const r=aie(t);return lie(e,n,r)}function aie(t){switch(t){case"reference":return e=>e;case"value":return e=>u1(e)}throw Lt(`Unrecognized equality policy ${t}`)}function lie(t,e,n){switch(t){case"keep-all":return new sie({mapKey:n});case"lru":return new V5({mapKey:n,maxSize:Xn(e)});case"most-recent":return new V5({mapKey:n,maxSize:1})}throw Lt(`Unrecognized eviction policy ${t}`)}var s7=oie;const{setConfigDeletionHandler:cie}=ps;function uie(t){var e,n;const r=s7({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...c}=t,u="default"in t?t.default:new Promise(()=>{}),d=i7({...c,key:`${t.key}__${(s=u1(i))!==null&&s!==void 0?s:"void"}`,default:typeof u=="function"?u(i):u,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,d),cie(d.key,()=>{r.delete(i)}),d}}var die=uie;const{setConfigDeletionHandler:hie}=ps;let fie=0;function pie(t){var e,n;const r=s7({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(p){throw Lt(`Problem with cache lookup for selector ${t.key}: ${p.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=u1(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${fie++}`,l=p=>t.get(i)(p),c=t.cachePolicy_UNSTABLE,u=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let d;if(t.set!=null){const p=t.set;d=$h({key:a,get:l,set:(g,_)=>p(i)(g,_),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else d=$h({key:a,get:l,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(i,d),hie(d.key,()=>{r.delete(i)}),d}}var Tc=pie;const mie=Tc({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function gie(t){return mie(t)}var vie=gie;const yie=Tc({key:"__error",get:t=>()=>{throw Lt(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function wie(t){return yie(t)}var _ie=wie;function bie(t){return t}var xie=bie;const{loadableWithError:o7,loadableWithPromise:a7,loadableWithValue:l7}=Ug;function d1(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function Eie(t){return t!=null&&!jn(t)}function h1(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function BT(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function fh(t,e,n){const r=n.map((i,s)=>i==null?l7(e[s]):jn(i)?a7(i):o7(i));return BT(t,r)}function Sie(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const Tie=Tc({key:"__waitForNone",get:t=>({get:e})=>{const n=h1(t),[r,i]=d1(e,n);return fh(t,r,i)},dangerouslyAllowMutability:!0}),Cie=Tc({key:"__waitForAny",get:t=>({get:e})=>{const n=h1(t),[r,i]=d1(e,n);return i.some(s=>!jn(s))?fh(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())jn(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(fh(t,r,i))}).catch(l=>{i[o]=l,s(fh(t,r,i))})})},dangerouslyAllowMutability:!0}),Iie=Tc({key:"__waitForAll",get:t=>({get:e})=>{const n=h1(t),[r,i]=d1(e,n);if(i.every(o=>o==null))return BT(t,r);const s=i.find(Eie);if(s!=null)throw s;return Promise.all(i).then(o=>BT(t,Sie(r,o)))},dangerouslyAllowMutability:!0}),Nie=Tc({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=h1(t),[r,i]=d1(e,n);return i.every(s=>!jn(s))?fh(t,r,i):Promise.all(i.map((s,o)=>jn(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>fh(t,r,i))},dangerouslyAllowMutability:!0}),Rie=Tc({key:"__noWait",get:t=>({get:e})=>{try{return $h.value(l7(e(t)))}catch(n){return $h.value(jn(n)?a7(n):o7(n))}},dangerouslyAllowMutability:!0});var Aie={waitForNone:Tie,waitForAny:Cie,waitForAll:Iie,waitForAllSettled:Nie,noWait:Rie};const{RecoilLoadable:kie}=Ug,{DefaultValue:Pie}=ps,{RecoilRoot:Die,useRecoilStoreID:Lie}=el,{isRecoilValue:Oie}=Mh,{retentionZone:Mie}=Z_,{freshSnapshot:Fie}=s1,{useRecoilState:Bie,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:$ie,useRecoilStateLoadable:Uie,useRecoilValue:Vie,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:jie,useRecoilValueLoadable:zie,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Hie,useResetRecoilState:Wie,useSetRecoilState:Gie}=nne,{useGotoRecoilSnapshot:qie,useRecoilSnapshot:Kie,useRecoilTransactionObserver:Qie}=W$,{useRecoilCallback:Yie}=Q$,{noWait:Xie,waitForAll:Jie,waitForAllSettled:Zie,waitForAny:ese,waitForNone:tse}=Aie;var jN={DefaultValue:Pie,isRecoilValue:Oie,RecoilLoadable:kie,RecoilEnv:xf,RecoilRoot:Die,useRecoilStoreID:Lie,useRecoilBridgeAcrossReactRoots_UNSTABLE:Rne,atom:i7,selector:$h,atomFamily:die,selectorFamily:Tc,constSelector:vie,errorSelector:_ie,readOnlySelector:xie,noWait:Xie,waitForNone:tse,waitForAny:ese,waitForAll:Jie,waitForAllSettled:Zie,useRecoilValue:Vie,useRecoilValueLoadable:zie,useRecoilState:Bie,useRecoilStateLoadable:Uie,useSetRecoilState:Gie,useResetRecoilState:Wie,useGetRecoilValueInfo_UNSTABLE:Ene,useRecoilRefresher_UNSTABLE:ire,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Hie,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:jie,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:$ie,useRecoilCallback:Yie,useRecoilTransaction_UNSTABLE:cre,useGotoRecoilSnapshot:qie,useRecoilSnapshot:Kie,useRecoilTransactionObserver_UNSTABLE:Qie,snapshot_UNSTABLE:Fie,useRetain:MN,retentionZone:Mie},nse=jN.RecoilRoot,rse=jN.atom,En=jN.useRecoilState;const Sn=rse({key:"Counter",default:!0}),c7=t=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...t},y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.651a3.75 3.75 0 010-5.303m5.304 0a3.75 3.75 0 010 5.303m-7.425 2.122a6.75 6.75 0 010-9.546m9.546 0a6.75 6.75 0 010 9.546M5.106 18.894c-3.808-3.808-3.808-9.98 0-13.789m13.788 0c3.808 3.808 3.808 9.981 0 13.79M12 12h.008v.007H12V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})),Ki=t=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...t},y.createElement("path",{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-.001 5.75c.69 0 1.251.56 1.251 1.25s-.561 1.25-1.251 1.25-1.249-.56-1.249-1.25.559-1.25 1.249-1.25zm2.001 12.25h-4v-1c.484-.179 1-.201 1-.735v-4.467c0-.534-.516-.618-1-.797v-1h3v6.265c0 .535.517.558 1 .735v.999z"})),u7=t=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",...t},y.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ro=t=>y.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 512 512",className:"text-xl text-yellow-500",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t},y.createElement("path",{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-141.651-35.33c4.937-32.999-20.191-50.739-54.55-62.573l11.146-44.702-27.213-6.781-10.851 43.524c-7.154-1.783-14.502-3.464-21.803-5.13l10.929-43.81-27.198-6.781-11.153 44.686c-5.922-1.349-11.735-2.682-17.377-4.084l.031-.14-37.53-9.37-7.239 29.062s20.191 4.627 19.765 4.913c11.022 2.751 13.014 10.044 12.68 15.825l-12.696 50.925c.76.194 1.744.473 2.829.907-.907-.225-1.876-.473-2.876-.713l-17.796 71.338c-1.349 3.348-4.767 8.37-12.471 6.464.271.395-19.78-4.937-19.78-4.937l-13.51 31.147 35.414 8.827c6.588 1.651 13.045 3.379 19.4 5.006l-11.262 45.213 27.182 6.781 11.153-44.733a1038.209 1038.209 0 0 0 21.687 5.627l-11.115 44.523 27.213 6.781 11.262-45.128c46.404 8.781 81.299 5.239 95.986-36.727 11.836-33.79-.589-53.281-25.004-65.991 17.78-4.098 31.174-15.792 34.747-39.949zm-62.177 87.179c-8.41 33.79-65.308 15.523-83.755 10.943l14.944-59.899c18.446 4.603 77.6 13.717 68.811 48.956zm8.417-87.667c-7.673 30.736-55.031 15.12-70.393 11.292l13.548-54.327c15.363 3.828 64.836 10.973 56.845 43.035z"})),pp=({title:t,path:e,index:n})=>{const{formatMessage:r}=bf();return En(Sn),x(wn,{to:e,children:[h("div",{className:"flex justify-center",children:t==r({id:"GoLive"})?h(c7,{id:"nav-item-3",className:"w-[60px] h-[28px] text-gray-500"}):t===r({id:"Rewards"})?h(RY,{id:"nav-item-4",className:"w-[60px] h-[28px] text-gray-500 "}):t===r({id:"Deposit"})?h(ro,{id:"nav-item-2",className:"w-[60px] pb-[1px] h-[28px] text-gray-500"}):t===r({id:"Withdraw"})?h(ZQ,{id:"nav-item-5",className:"w-[60px] h-[29px] text-gray-500"}):t===r({id:"myAccount"})&&h(dB,{id:"nav-item-1",className:"w-[60px] h-[29px] text-gray-500"})}),h("div",{className:"text-[9px] mt-[2px] md:text-[12px] text-gray-500 font-semibold",id:`nav-item-text-${n}`,children:t})]})},ise=()=>{const t=_f().pathname,{formatMessage:e}=bf(),[n,r]=En(Sn);return y.useEffect(()=>{var o,a,l,c;const i=t==="/myaccount"?1:t==="/deposit"?2:t==="/live"?3:t==="/rewards"?4:t==="/withdraw"&&5;n?(o=document.getElementById(`nav-item-${i}`))==null||o.setAttribute("style","color: #daa520; "):(a=document.getElementById(`nav-item-${i}`))==null||a.setAttribute("style","color: #f87171; "),n?(l=document.getElementById(`nav-item-text-${i}`))==null||l.setAttribute("style","color: #daa520;"):(c=document.getElementById(`nav-item-text-${i}`))==null||c.setAttribute("style","color: #f87171;");for(var s=1;s<=5;++s)if(s!=i){const u=document.getElementById(`nav-item-${s}`),d=document.getElementById(`nav-item-text-${s}`);u==null||u.setAttribute("style","color: #6b7280"),d==null||d.setAttribute("style","color: #6b7280")}},[t]),h(bs,{children:t.includes("/signup")||t.includes("/admin")||t==="/login"?h(bs,{}):x("div",{id:"bottomNav",className:"bg-gray-50 fixed z-50 bottom-0 flex flex-row w-full py-1",style:n?{boxShadow:"2px 2px 15px #372222ae",backgroundColor:"black"}:{boxShadow:"0px 1px 5px #d1d5db, 0px -1px 5px #d1d5db"},children:[h("div",{className:"text-center cursor-pointer basis-1/5 flex-col py-1",children:h(pp,{title:e({id:"myAccount"}),path:"/myaccount",index:1})}),h("div",{className:"text-center cursor-pointer  basis-1/5 flex-col py-1",children:h(pp,{title:e({id:"Deposit"}),path:"/deposit",index:2})}),h("div",{className:"text-center cursor-pointer basis-1/5 flex-col py-1",children:h(pp,{title:e({id:"GoLive"}),path:"/live",index:3})}),h("div",{className:"text-center cursor-pointer basis-1/5 flex-col py-1",children:h(pp,{title:e({id:"Rewards"}),path:"/rewards",index:4})}),h("div",{className:"text-center cursor-pointer basis-1/5 flex-col py-1",children:h(pp,{title:e({id:"Withdraw"}),path:"/withdraw",index:5})})]})})},zN="/assets/omo-logo-389de2f2.png";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe=function(t,e){if(!t)throw Sf(e)},Sf=function(t){return new Error("Firebase Database ("+d7.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sse=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},HN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(p=64)),r.push(n[u],n[d],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h7(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sse(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new ose;const p=s<<2|a>>4;if(r.push(p),c!==64){const v=a<<4&240|c>>2;if(r.push(v),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ose extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f7=function(t){const e=h7(t);return HN.encodeByteArray(e,!0)},fw=function(t){return f7(t).replace(/\./g,"")},pw=function(t){try{return HN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ase(t){return Um(void 0,t)}function Um(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!lse(n)||(t[n]=Um(t[n],e[n]));return t}function lse(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cse(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const use=()=>cse().__FIREBASE_DEFAULTS__,dse=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hse=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pw(t[1]);return e&&JSON.parse(e)},f1=()=>{try{return use()||dse()||hse()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},p7=t=>{var e,n;return(n=(e=f1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},p1=t=>{const e=p7(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},m7=()=>{var t;return(t=f1())===null||t===void 0?void 0:t.config},g7=t=>{var e;return(e=f1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[fw(JSON.stringify(n)),fw(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function m1(){var t;const e=(t=f1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fse(){return typeof self=="object"&&self.self===self}function v7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y7(){const t=ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w7(){return d7.NODE_ADMIN===!0}function pse(){return!m1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vm(){try{return typeof indexedDB=="object"}catch{return!1}}function mse(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gse="FirebaseError";class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gse,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sd.prototype.create)}}class sd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?vse(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ci(i,a,r)}}function vse(t,e){return t.replace(yse,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yse=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){return JSON.parse(t)}function Fr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=jm(pw(s[0])||""),n=jm(pw(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},wse=function(t){const e=_7(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_se=function(t){const e=_7(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ou(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function mw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gw(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function vw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(j5(s)&&j5(o)){if(!vw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function j5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Vp(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const p=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const p=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function b7(t,e){const n=new xse(t,e);return n.subscribe.bind(n)}class xse{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ese(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hE),i.error===void 0&&(i.error=hE),i.complete===void 0&&(i.complete=hE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ese(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hE(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function hs(t,e){return`${t} failed: ${e} argument `}function Gr(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(hs(t,e)+"must be a valid function.")}function z5(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(hs(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sse=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Fe(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},v1=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t){return t&&t._delegate?t._delegate:t}class zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ts;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cse(e))try{this.getOrInitializeService({instanceIdentifier:Xc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xc){return this.instances.has(e)}getOptions(e=Xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Tse(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xc){return this.component?this.component.multipleInstances?e:Xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tse(t){return t===Xc?void 0:t}function Cse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=[];var Xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xt||(Xt={}));const S7={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},Ise=Xt.INFO,Nse={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},Rse=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Nse[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tf{constructor(e){this.name=e,this._logLevel=Ise,this._logHandler=Rse,this._userLogHandler=null,qN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}function Ase(t){qN.forEach(e=>{e.setLogLevel(t)})}function kse(t,e){for(const n of qN){let r=null;e&&e.level&&(r=S7[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Xt[s].toLowerCase(),message:a,args:o,type:i.name})}}}const Pse=(t,e)=>e.some(n=>t instanceof n);let H5,W5;function Dse(){return H5||(H5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lse(){return W5||(W5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T7=new WeakMap,$T=new WeakMap,C7=new WeakMap,fE=new WeakMap,KN=new WeakMap;function Ose(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&T7.set(n,t)}).catch(()=>{}),KN.set(e,t),e}function Mse(t){if($T.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$T.set(t,e)}let UT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $T.get(t);if(e==="objectStoreNames")return t.objectStoreNames||C7.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Fse(t){UT=t(UT)}function Bse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pE(this),e,...n);return C7.set(r,e.sort?e.sort():[e]),Gl(r)}:Lse().includes(t)?function(...e){return t.apply(pE(this),e),Gl(T7.get(this))}:function(...e){return Gl(t.apply(pE(this),e))}}function $se(t){return typeof t=="function"?Bse(t):(t instanceof IDBTransaction&&Mse(t),Pse(t,Dse())?new Proxy(t,UT):t)}function Gl(t){if(t instanceof IDBRequest)return Ose(t);if(fE.has(t))return fE.get(t);const e=$se(t);return e!==t&&(fE.set(t,e),KN.set(e,t)),e}const pE=t=>KN.get(t);function Use(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gl(o.result),l.oldVersion,l.newVersion,Gl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Vse=["get","getKey","getAll","getAllKeys","count"],jse=["put","add","delete","clear"],mE=new Map;function G5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mE.get(e))return mE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Vse.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return mE.set(e,s),s}Fse(t=>({...t,get:(e,n,r)=>G5(e,n)||t.get(e,n,r),has:(e,n)=>!!G5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Hse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const VT="@firebase/app",q5="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new Tf("@firebase/app"),Wse="@firebase/app-compat",Gse="@firebase/analytics-compat",qse="@firebase/analytics",Kse="@firebase/app-check-compat",Qse="@firebase/app-check",Yse="@firebase/auth",Xse="@firebase/auth-compat",Jse="@firebase/database",Zse="@firebase/database-compat",eoe="@firebase/functions",toe="@firebase/functions-compat",noe="@firebase/installations",roe="@firebase/installations-compat",ioe="@firebase/messaging",soe="@firebase/messaging-compat",ooe="@firebase/performance",aoe="@firebase/performance-compat",loe="@firebase/remote-config",coe="@firebase/remote-config-compat",uoe="@firebase/storage",doe="@firebase/storage-compat",hoe="@firebase/firestore",foe="@firebase/firestore-compat",poe="firebase",moe="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="[DEFAULT]",goe={[VT]:"fire-core",[Wse]:"fire-core-compat",[qse]:"fire-analytics",[Gse]:"fire-analytics-compat",[Qse]:"fire-app-check",[Kse]:"fire-app-check-compat",[Yse]:"fire-auth",[Xse]:"fire-auth-compat",[Jse]:"fire-rtdb",[Zse]:"fire-rtdb-compat",[eoe]:"fire-fn",[toe]:"fire-fn-compat",[noe]:"fire-iid",[roe]:"fire-iid-compat",[ioe]:"fire-fcm",[soe]:"fire-fcm-compat",[ooe]:"fire-perf",[aoe]:"fire-perf-compat",[loe]:"fire-rc",[coe]:"fire-rc-compat",[uoe]:"fire-gcs",[doe]:"fire-gcs-compat",[hoe]:"fire-fst",[foe]:"fire-fst-compat","fire-js":"fire-js",[poe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,zm=new Map;function yw(t,e){try{t.container.addComponent(e)}catch(n){Mu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function I7(t,e){t.container.addOrOverwriteComponent(e)}function Ro(t){const e=t.name;if(zm.has(e))return Mu.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,t);for(const n of tc.values())yw(n,t);return!0}function Cc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function voe(t,e,n=ec){Cc(t,e).clearInstance(n)}function yoe(){zm.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ba=new sd("app","Firebase",woe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _oe=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=moe;function y1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ec,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ba.create("bad-app-name",{appName:String(i)});if(n||(n=m7()),!n)throw Ba.create("no-options");const s=tc.get(i);if(s){if(vw(n,s.options)&&vw(r,s.config))return s;throw Ba.create("duplicate-app",{appName:i})}const o=new E7(i);for(const l of zm.values())o.addComponent(l);const a=new _oe(n,r,o);return tc.set(i,a),a}function Cf(t=ec){const e=tc.get(t);if(!e&&t===ec&&m7())return y1();if(!e)throw Ba.create("no-app",{appName:t});return e}function boe(){return Array.from(tc.values())}async function N7(t){const e=t.name;tc.has(e)&&(tc.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function fi(t,e,n){var r;let i=(r=goe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mu.warn(a.join(" "));return}Ro(new zi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function R7(t,e){if(t!==null&&typeof t!="function")throw Ba.create("invalid-log-argument");kse(t,e)}function A7(t){Ase(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xoe="firebase-heartbeat-database",Eoe=1,Hm="firebase-heartbeat-store";let gE=null;function k7(){return gE||(gE=Use(xoe,Eoe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hm)}}}).catch(t=>{throw Ba.create("idb-open",{originalErrorMessage:t.message})})),gE}async function Soe(t){try{return await(await k7()).transaction(Hm).objectStore(Hm).get(P7(t))}catch(e){if(e instanceof Ci)Mu.warn(e.message);else{const n=Ba.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mu.warn(n.message)}}}async function K5(t,e){try{const r=(await k7()).transaction(Hm,"readwrite");await r.objectStore(Hm).put(e,P7(t)),await r.done}catch(n){if(n instanceof Ci)Mu.warn(n.message);else{const r=Ba.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mu.warn(r.message)}}}function P7(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Toe=1024,Coe=30*24*60*60*1e3;class Ioe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Roe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Q5();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Coe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Q5(),{heartbeatsToSend:n,unsentEntries:r}=Noe(this._heartbeatsCache.heartbeats),i=fw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Q5(){return new Date().toISOString().substring(0,10)}function Noe(t,e=Toe){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Y5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Y5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Roe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vm()?mse().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Soe(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return K5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return K5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Y5(t){return fw(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aoe(t){Ro(new zi("platform-logger",e=>new zse(e),"PRIVATE")),Ro(new zi("heartbeat",e=>new Ioe(e),"PRIVATE")),fi(VT,q5,t),fi(VT,q5,"esm2017"),fi("fire-js","")}Aoe("");const koe=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ci,SDK_VERSION:ya,_DEFAULT_ENTRY_NAME:ec,_addComponent:yw,_addOrOverwriteComponent:I7,_apps:tc,_clearComponents:yoe,_components:zm,_getProvider:Cc,_registerComponent:Ro,_removeServiceInstance:voe,deleteApp:N7,getApp:Cf,getApps:boe,initializeApp:y1,onLog:R7,registerVersion:fi,setLogLevel:A7},Symbol.toStringTag,{value:"Module"})),mp={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Nd={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Poe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}}function D7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Doe=Poe,Loe=D7,L7=new sd("auth","Firebase",D7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new Tf("@firebase/auth");function Ooe(t,...e){ww.logLevel<=Xt.WARN&&ww.warn(`Auth (${ya}): ${t}`,...e)}function yy(t,...e){ww.logLevel<=Xt.ERROR&&ww.error(`Auth (${ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,...e){throw QN(t,...e)}function pi(t,...e){return QN(t,...e)}function O7(t,e,n){const r=Object.assign(Object.assign({},Loe()),{[e]:n});return new sd("auth","Firebase",r).create(e,{appName:t.name})}function If(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jr(t,"argument-error"),O7(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function QN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return L7.create(t,...e)}function Me(t,e,...n){if(!t)throw QN(e,...n)}function Yo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yy(e),new Error(e)}function Ao(t,e){t||Yo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YN(){return X5()==="http:"||X5()==="https:"}function X5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Moe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YN()||v7()||"connection"in navigator)?navigator.onLine:!0}function Foe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ao(n>e,"Short delay should be less than long delay!"),this.isMobile=GN()||g1()}get(){return Moe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t,e){Ao(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Boe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $oe=new Gg(3e4,6e4);function Dr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vr(t,e,n,r,i={}){return F7(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=od(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),M7.fetch()(B7(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function F7(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Boe),e);try{const i=new Uoe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw jp(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw O7(t,u,c);Jr(t,u)}}catch(i){if(i instanceof Ci)throw i;Jr(t,"network-request-failed",{message:String(i)})}}async function tl(t,e,n,r,i={}){const s=await Vr(t,e,n,r,i);return"mfaPendingCredential"in s&&Jr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function B7(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?XN(t.config,i):`${t.config.apiScheme}://${i}`}class Uoe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),$oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Voe(t,e){return Vr(t,"POST","/v1/accounts:delete",e)}async function joe(t,e){return Vr(t,"POST","/v1/accounts:update",e)}async function zoe(t,e){return Vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hoe(t,e=!1){const n=qe(t),r=await n.getIdToken(e),i=w1(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:om(vE(i.auth_time)),issuedAtTime:om(vE(i.iat)),expirationTime:om(vE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vE(t){return Number(t)*1e3}function w1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yy("JWT malformed, contained fewer than 3 sections"),null;try{const i=pw(n);return i?JSON.parse(i):(yy("Failed to decode base64 JWT payload"),null)}catch(i){return yy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Woe(t){const e=w1(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ci&&Goe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Goe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qoe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=om(this.lastLoginAt),this.creationTime=om(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ka(t,zoe(n,{idToken:r}));Me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Yoe(s.providerUserInfo):[],a=Qoe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $7(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Koe(t){const e=qe(t);await Gm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qoe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yoe(t){return t.map(e=>{var{providerId:n}=e,r=td(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xoe(t,e){const n=await F7(t,{},async()=>{const r=od({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=B7(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",M7.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Woe(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Xoe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new qm;return r&&(Me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qm,this.toJSON())}_performRefresh(){return Yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _u{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=td(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qoe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $7(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Hoe(this,e)}reload(){return Koe(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _u(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ka(this,Voe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:T,emailVerified:I,isAnonymous:D,providerData:M,stsTokenManager:$}=n;Me(T&&$,e,"internal-error");const C=qm.fromJSON(this.name,$);Me(typeof T=="string",e,"internal-error"),pl(d,e.name),pl(p,e.name),Me(typeof I=="boolean",e,"internal-error"),Me(typeof D=="boolean",e,"internal-error"),pl(v,e.name),pl(g,e.name),pl(_,e.name),pl(R,e.name),pl(E,e.name),pl(b,e.name);const k=new _u({uid:T,auth:e,email:p,emailVerified:I,displayName:d,isAnonymous:D,photoURL:g,phoneNumber:v,tenantId:_,stsTokenManager:C,createdAt:E,lastLoginAt:b});return M&&Array.isArray(M)&&(k.providerData=M.map(O=>Object.assign({},O))),R&&(k._redirectEventId=R),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new qm;i.updateFromServerResponse(n);const s=new _u({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gm(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new Map;function Ss(t){Ao(t instanceof Function,"Expected a class definition");let e=J5.get(t);return e?(Ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}U7.type="NONE";const Uh=U7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t,e,n){return`firebase:${t}:${e}:${n}`}class ph{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bu(this.userKey,i.apiKey,s),this.fullPersistenceKey=bu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_u._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ph(Ss(Uh),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ss(Uh);const o=bu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=_u._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ph(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ph(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H7(e))return"Blackberry";if(W7(e))return"Webos";if(JN(e))return"Safari";if((e.includes("chrome/")||j7(e))&&!e.includes("edge/"))return"Chrome";if(qg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function V7(t=ar()){return/firefox\//i.test(t)}function JN(t=ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j7(t=ar()){return/crios\//i.test(t)}function z7(t=ar()){return/iemobile/i.test(t)}function qg(t=ar()){return/android/i.test(t)}function H7(t=ar()){return/blackberry/i.test(t)}function W7(t=ar()){return/webos/i.test(t)}function Nf(t=ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Joe(t=ar()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Zoe(t=ar()){var e;return Nf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eae(){return y7()&&document.documentMode===10}function G7(t=ar()){return Nf(t)||qg(t)||W7(t)||H7(t)||/windows phone/i.test(t)||z7(t)}function tae(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t,e=[]){let n;switch(t){case"Browser":n=Z5(ar());break;case"Worker":n=`${Z5(ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nae(t){return(await Vr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function K7(t,e){return Vr(t,"GET","/v2/recaptchaConfig",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){return t!==void 0&&t.getResponse!==void 0}function tL(t){return t!==void 0&&t.enterprise!==void 0}class Q7{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rae(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function ZN(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rae().appendChild(r)})}function Y7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const iae="https://www.google.com/recaptcha/enterprise.js?render=",sae="recaptcha-enterprise",oae="NO_RECAPTCHA";class X7{constructor(e){this.type=sae,this.auth=Tr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{K7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Q7(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;tL(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(oae)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&tL(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}ZN(iae+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function nc(t,e,n,r=!1){const i=new X7(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nL(this),this.idTokenSubscription=new nL(this),this.beforeStateQueue=new aae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ph.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Foe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?qe(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}async initializeRecaptchaConfig(){const e=await K7(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Q7(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new X7(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await ph.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Me(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ooe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Tr(t){return qe(t)}class nL{constructor(e){this.auth=e,this.observer=null,this.addObserver=b7(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cae(t,e){const n=Cc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(vw(s,e??{}))return i;Jr(i,"already-initialized")}return n.initialize({options:e})}function uae(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function J7(t,e,n){const r=Tr(t);Me(r._canInitEmulator,r,"emulator-config-failed"),Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Z7(e),{host:o,port:a}=dae(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||hae()}function Z7(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dae(t){const e=Z7(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rL(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:rL(o)}}}function rL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yo("not implemented")}_getIdTokenResponse(e){return Yo("not implemented")}_linkToIdToken(e,n){return Yo("not implemented")}_getReauthenticationResolver(e){return Yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e){return Vr(t,"POST","/v1/accounts:resetPassword",Dr(t,e))}async function tU(t,e){return Vr(t,"POST","/v1/accounts:update",e)}async function fae(t,e){return Vr(t,"POST","/v1/accounts:update",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yE(t,e){return tl(t,"POST","/v1/accounts:signInWithPassword",Dr(t,e))}async function _1(t,e){return Vr(t,"POST","/v1/accounts:sendOobCode",Dr(t,e))}async function pae(t,e){return _1(t,e)}async function wE(t,e){return _1(t,e)}async function _E(t,e){return _1(t,e)}async function mae(t,e){return _1(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gae(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",Dr(t,e))}async function vae(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends Rf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Km(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Km(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await nc(e,r,"signInWithPassword");return yE(e,i)}else return yE(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await nc(e,r,"signInWithPassword");return yE(e,s)}else return Promise.reject(i)});case"emailLink":return gae(e,{email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return tU(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return vae(e,{idToken:n,email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t,e){return tl(t,"POST","/v1/accounts:signInWithIdp",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yae="http://localhost";class ua extends Rf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=td(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ua(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $a(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$a(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$a(e,n)}buildRequest(){const e={requestUri:yae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=od(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wae(t,e){return Vr(t,"POST","/v1/accounts:sendVerificationCode",Dr(t,e))}async function _ae(t,e){return tl(t,"POST","/v1/accounts:signInWithPhoneNumber",Dr(t,e))}async function bae(t,e){const n=await tl(t,"POST","/v1/accounts:signInWithPhoneNumber",Dr(t,e));if(n.temporaryProof)throw jp(t,"account-exists-with-different-credential",n);return n}const xae={USER_NOT_FOUND:"user-not-found"};async function Eae(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return tl(t,"POST","/v1/accounts:signInWithPhoneNumber",Dr(t,n),xae)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Rf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new xu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new xu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return _ae(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return bae(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Eae(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new xu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tae(t){const e=nh(Vp(t)).link,n=e?nh(Vp(e)).deep_link_id:null,r=nh(Vp(t)).deep_link_id;return(r?nh(Vp(r)).link:null)||r||n||e||t}class b1{constructor(e){var n,r,i,s,o,a;const l=nh(Vp(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Sae((i=l.mode)!==null&&i!==void 0?i:null);Me(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Tae(e);try{return new b1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.providerId=Ic.PROVIDER_ID}static credential(e,n){return Km._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=b1.parseLink(n);return Me(r,"argument-error"),Km._fromEmailAndCode(e,r.code,r.tenantId)}}Ic.PROVIDER_ID="password";Ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends nl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mh extends Af{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Me("providerId"in n&&"signInMethod"in n,"argument-error"),ua._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Me(e.idToken||e.accessToken,"argument-error"),ua._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return mh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return mh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new mh(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Af{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wo.credential(n,r)}catch{return null}}}Wo.GOOGLE_SIGN_IN_METHOD="google.com";Wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Af{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Go.credential(e.oauthAccessToken)}catch{return null}}}Go.GITHUB_SIGN_IN_METHOD="github.com";Go.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cae="http://localhost";class Vh extends Rf{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return $a(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$a(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$a(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Vh(r,s)}static _create(e,n){return new Vh(e,n)}buildRequest(){return{requestUri:Cae,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae="saml.";class _w extends nl{constructor(e){Me(e.startsWith(Iae),"argument-error"),super(e)}static credentialFromResult(e){return _w.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return _w.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Vh.fromJSON(e);return Me(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Vh._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends Af{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qo.credential(n,r)}catch{return null}}}qo.TWITTER_SIGN_IN_METHOD="twitter.com";qo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wy(t,e){return tl(t,"POST","/v1/accounts:signUp",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await _u._fromIdTokenResponse(e,r,i),o=iL(r);return new io({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iL(r);return new io({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nae(t){var e;const n=Tr(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new io({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await wy(n,{returnSecureToken:!0}),i=await io._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw extends Ci{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bw(e,n,r,i)}}function nU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bw._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rae(t,e){const n=qe(t);await x1(!0,n,e);const{providerUserInfo:r}=await joe(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=rU(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function eR(t,e,n=!1){const r=await Ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return io._forOperation(t,"link",r)}async function x1(t,e,n){await Gm(e);const r=rU(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";Me(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ka(t,nU(r,i,e,t),n);Me(s.idToken,r,"internal-error");const o=w1(s.idToken);Me(o,r,"internal-error");const{sub:a}=o;return Me(t.uid===a,r,"user-mismatch"),io._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t,e,n=!1){const r="signIn",i=await nU(t,r,e),s=await io._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function E1(t,e){return sU(Tr(t),e)}async function oU(t,e){const n=qe(t);return await x1(!1,n,e.providerId),eR(n,e)}async function aU(t,e){return iU(qe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aae(t,e){return tl(t,"POST","/v1/accounts:signInWithCustomToken",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kae(t,e){const n=Tr(t),r=await Aae(n,{token:e,returnSecureToken:!0}),i=await io._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?tR._fromServerResponse(e,n):"totpInfo"in n?nR._fromServerResponse(e,n):Jr(e,"internal-error")}}class tR extends Kg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new tR(n)}}class nR extends Kg{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new nR(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t,e,n){var r;Me(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Me(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Me(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Me(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e,n){var r;const i=Tr(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await nc(i,s,"getOobCode",!0);n&&gh(i,o,n),await wE(i,o)}else n&&gh(i,s,n),await wE(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await nc(i,s,"getOobCode",!0);n&&gh(i,a,n),await wE(i,a)}else return Promise.reject(o)})}async function Pae(t,e,n){await eU(qe(t),{oobCode:e,newPassword:n})}async function Dae(t,e){await fae(qe(t),{oobCode:e})}async function cU(t,e){const n=qe(t),r=await eU(n,{oobCode:e}),i=r.requestType;switch(Me(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Me(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Me(r.mfaInfo,n,"internal-error");default:Me(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Kg._fromServerResponse(Tr(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Lae(t,e){const{data:n}=await cU(qe(t),e);return n.email}async function uU(t,e,n){var r;const i=Tr(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await nc(i,s,"signUpPassword");o=wy(i,c)}else o=wy(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await nc(i,s,"signUpPassword");return wy(i,u)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await io._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function dU(t,e,n){return E1(qe(t),Ic.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oae(t,e,n){var r;const i=Tr(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){Me(l.handleCodeInApp,i,"argument-error"),l&&gh(i,a,l)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await nc(i,s,"getOobCode",!0);o(a,n),await _E(i,a)}else o(s,n),await _E(i,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await nc(i,s,"getOobCode",!0);o(l,n),await _E(i,l)}else return Promise.reject(a)})}function Mae(t,e){const n=b1.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Fae(t,e,n){const r=qe(t),i=Ic.credentialWithLink(e,n||Wm());return Me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),E1(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bae(t,e){return Vr(t,"POST","/v1/accounts:createAuthUri",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ae(t,e){const n=YN()?Wm():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Bae(qe(t),r);return i||[]}async function rR(t,e){const n=qe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&gh(n.auth,i,e);const{email:s}=await pae(n.auth,i);s!==t.email&&await t.reload()}async function Uae(t,e,n){const r=qe(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&gh(r.auth,s,n);const{email:o}=await mae(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vae(t,e){return Vr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jae(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=qe(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ka(r,Vae(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function zae(t,e){return hU(qe(t),e,null)}function Hae(t,e){return hU(qe(t),null,e)}async function hU(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ka(t,tU(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wae(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=w1(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new vh(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new Gae(s,i);case"github.com":return new qae(s,i);case"google.com":return new Kae(s,i);case"twitter.com":return new Qae(s,i,t.screenName||null);case"custom":case"anonymous":return new vh(s,null);default:return new vh(s,r,i)}}class vh{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class fU extends vh{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Gae extends vh{constructor(e,n){super(e,"facebook.com",n)}}class qae extends fU{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Kae extends vh{constructor(e,n){super(e,"google.com",n)}}class Qae extends fU{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Yae(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Wae(n)}function Xae(t,e,n,r){return qe(t).onIdTokenChanged(e,n,r)}function Jae(t,e,n){return qe(t).beforeAuthStateChanged(e,n)}function Zae(t,e,n,r){return qe(t).onAuthStateChanged(e,n,r)}function pU(t){return qe(t).signOut()}class cu{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new cu("enroll",e,n)}static _fromMfaPendingCredential(e){return new cu("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return cu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return cu._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Tr(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Kg._fromServerResponse(r,a));Me(i.mfaPendingCredential,r,"internal-error");const o=cu._fromMfaPendingCredential(i.mfaPendingCredential);return new iR(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const u=await io._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return Me(n.user,r,"internal-error"),io._forOperation(n.user,n.operationType,c);default:Jr(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function ele(t,e){var n;const r=qe(t),i=e;return Me(e.customData.operationType,r,"argument-error"),Me((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),iR._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tle(t,e){return Vr(t,"POST","/v2/accounts/mfaEnrollment:start",Dr(t,e))}function nle(t,e){return Vr(t,"POST","/v2/accounts/mfaEnrollment:finalize",Dr(t,e))}function rle(t,e){return Vr(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Dr(t,e))}class sR{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Kg._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new sR(e)}async getSession(){return cu._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Ka(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ka(this.user,rle(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const bE=new WeakMap;function mU(t){const e=qe(t);return bE.has(e)||bE.set(e,sR._fromUser(e)),bE.get(e)}const xw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xw,"1"),this.storage.removeItem(xw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ile(){const t=ar();return JN(t)||Nf(t)}const sle=1e3,ole=10;class vU extends gU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ile()&&tae(),this.fallbackToPolling=G7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);eae()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ole):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vU.type="LOCAL";const S1=vU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU extends gU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yU.type="SESSION";const rc=yU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ale(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new T1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await ale(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}T1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Qg("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function cle(t){Nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function ule(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dle(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hle(){return oR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="firebaseLocalStorageDb",fle=1,Ew="firebaseLocalStorage",_U="fbase_key";class Yg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function C1(t,e){return t.transaction([Ew],e?"readwrite":"readonly").objectStore(Ew)}function ple(){const t=indexedDB.deleteDatabase(wU);return new Yg(t).toPromise()}function jT(){const t=indexedDB.open(wU,fle);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ew,{keyPath:_U})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ew)?e(r):(r.close(),await ple(),e(await jT()))})})}async function sL(t,e,n){const r=C1(t,!0).put({[_U]:e,value:n});return new Yg(r).toPromise()}async function mle(t,e){const n=C1(t,!1).get(e),r=await new Yg(n).toPromise();return r===void 0?null:r.value}function oL(t,e){const n=C1(t,!0).delete(e);return new Yg(n).toPromise()}const gle=800,vle=3;class bU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vle)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=T1._getInstance(hle()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ule(),!this.activeServiceWorker)return;this.sender=new lle(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jT();return await sL(e,xw,"1"),await oL(e,xw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sL(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mle(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oL(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=C1(i,!1).getAll();return new Yg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bU.type="LOCAL";const jh=bU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yle(t,e){return Vr(t,"POST","/v2/accounts/mfaSignIn:start",Dr(t,e))}function wle(t,e){return Vr(t,"POST","/v2/accounts/mfaSignIn:finalize",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _le=500,ble=6e4,Rv=1e12;class xle{constructor(e){this.auth=e,this.counter=Rv,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Ele(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Rv;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Rv;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Rv;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class Ele{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Me(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Sle(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},ble)},_le))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Sle(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=Y7("rcb"),Tle=new Gg(3e4,6e4),Cle="https://www.google.com/recaptcha/api.js?";class Ile{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Nr().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Me(Nle(n),e,"argument-error"),this.shouldResolveImmediately(n)&&eL(Nr().grecaptcha)?Promise.resolve(Nr().grecaptcha):new Promise((r,i)=>{const s=Nr().setTimeout(()=>{i(pi(e,"network-request-failed"))},Tle.get());Nr()[xE]=()=>{Nr().clearTimeout(s),delete Nr()[xE];const a=Nr().grecaptcha;if(!a||!eL(a)){i(pi(e,"internal-error"));return}const l=a.render;a.render=(c,u)=>{const d=l(c,u);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${Cle}?${od({onload:xE,render:"explicit",hl:n})}`;ZN(o).catch(()=>{clearTimeout(s),i(pi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Nr().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Nle(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Rle{async load(e){return new xle(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="recaptcha",Ale={theme:"light",type:"image"};let kle=class{constructor(e,n=Object.assign({},Ale),r){this.parameters=n,this.type=xU,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tr(r),this.isInvisible=this.parameters.size==="invisible",Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;Me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rle:new Ile,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Me(!this.parameters.sitekey,this.auth,"argument-error"),Me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Nr()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Me(YN()&&!oR(),this.auth,"internal-error"),await Ple(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await nae(this.auth);Me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Ple(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=xu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Dle(t,e,n){const r=Tr(t),i=await I1(r,e,qe(n));return new aR(i,s=>E1(r,s))}async function Lle(t,e,n){const r=qe(t);await x1(!1,r,"phone");const i=await I1(r.auth,e,qe(n));return new aR(i,s=>oU(r,s))}async function Ole(t,e,n){const r=qe(t),i=await I1(r.auth,e,qe(n));return new aR(i,s=>aU(r,s))}async function I1(t,e,n){var r;const i=await n.verify();try{Me(typeof i=="string",t,"argument-error"),Me(n.type===xU,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return Me(o.type==="enroll",t,"internal-error"),(await tle(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{Me(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return Me(a,t,"missing-multi-factor-info"),(await yle(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await wae(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function Mle(t,e){await eR(qe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu=class _y{constructor(e){this.providerId=_y.PROVIDER_ID,this.auth=Tr(e)}verifyPhoneNumber(e,n){return I1(this.auth,e,qe(n))}static credential(e,n){return xu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return _y.credentialFromTaggedObject(n)}static credentialFromError(e){return _y.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?xu._fromTokenResponse(n,r):null}};Fu.PROVIDER_ID="phone";Fu.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t,e){return e?Ss(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR extends Rf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Fle(t){return sU(t.auth,new lR(t),t.bypassAuthState)}function Ble(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),iU(n,new lR(t),t.bypassAuthState)}async function $le(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),eR(n,new lR(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fle;case"linkViaPopup":case"linkViaRedirect":return $le;case"reauthViaPopup":case"reauthViaRedirect":return Ble;default:Jr(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ule=new Gg(2e3,1e4);async function Vle(t,e,n){const r=Tr(t);If(t,e,nl);const i=ad(r,n);return new Aa(r,"signInViaPopup",e,i).executeNotNull()}async function jle(t,e,n){const r=qe(t);If(r.auth,e,nl);const i=ad(r.auth,n);return new Aa(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function zle(t,e,n){const r=qe(t);If(r.auth,e,nl);const i=ad(r.auth,n);return new Aa(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Aa extends EU{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Aa.currentPopupAction&&Aa.currentPopupAction.cancel(),Aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ao(this.filter.length===1,"Popup operations only handle one event");const e=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ule.get())};e()}}Aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle="pendingRedirect",am=new Map;class Wle extends EU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=am.get(this.auth._key());if(!e){try{const r=await Gle(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}am.set(this.auth._key(),e)}return this.bypassAuthState||am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gle(t,e){const n=TU(e),r=SU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function cR(t,e){return SU(t)._set(TU(e),"true")}function qle(){am.clear()}function uR(t,e){am.set(t._key(),e)}function SU(t){return Ss(t._redirectPersistence)}function TU(t){return bu(Hle,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kle(t,e,n){return Qle(t,e,n)}async function Qle(t,e,n){const r=Tr(t);If(t,e,nl),await r._initializationPromise;const i=ad(r,n);return await cR(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Yle(t,e,n){return Xle(t,e,n)}async function Xle(t,e,n){const r=qe(t);If(r.auth,e,nl),await r.auth._initializationPromise;const i=ad(r.auth,n);await cR(i,r.auth);const s=await CU(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function Jle(t,e,n){return Zle(t,e,n)}async function Zle(t,e,n){const r=qe(t);If(r.auth,e,nl),await r.auth._initializationPromise;const i=ad(r.auth,n);await x1(!1,r,e.providerId),await cR(i,r.auth);const s=await CU(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function ece(t,e){return await Tr(t)._initializationPromise,N1(t,e,!1)}async function N1(t,e,n=!1){const r=Tr(t),i=ad(r,e),o=await new Wle(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function CU(t){const e=Qg(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tce=10*60*1e3;class IU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NU(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tce&&this.cachedEventUids.clear(),this.cachedEventUids.has(aL(e))}saveEventToCache(e){this.cachedEventUids.add(aL(e)),this.lastProcessedEventTime=Date.now()}}function aL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NU({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NU(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(t,e={}){return Vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ice=/^https?/;async function sce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RU(t);for(const n of e)try{if(oce(n))return}catch{}Jr(t,"unauthorized-domain")}function oce(t){const e=Wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ice.test(n))return!1;if(rce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace=new Gg(3e4,6e4);function lL(){const t=Nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lce(t){return new Promise((e,n)=>{var r,i,s;function o(){lL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lL(),n(pi(t,"network-request-failed"))},timeout:ace.get()})}if(!((i=(r=Nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Nr().gapi)===null||s===void 0)&&s.load)o();else{const a=Y7("iframefcb");return Nr()[a]=()=>{gapi.load?o():n(pi(t,"network-request-failed"))},ZN(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw by=null,e})}let by=null;function cce(t){return by=by||lce(t),by}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uce=new Gg(5e3,15e3),dce="__/auth/iframe",hce="emulator/auth/iframe",fce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mce(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?XN(e,hce):`https://${t.config.authDomain}/${dce}`,r={apiKey:e.apiKey,appName:t.name,v:ya},i=pce.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${od(r).slice(1)}`}async function gce(t){const e=await cce(t),n=Nr().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:mce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fce,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=pi(t,"network-request-failed"),a=Nr().setTimeout(()=>{s(o)},uce.get());function l(){Nr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yce=500,wce=600,_ce="_blank",bce="http://localhost";class cL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xce(t,e,n,r=yce,i=wce){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},vce),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ar().toLowerCase();n&&(a=j7(c)?_ce:n),V7(c)&&(e=e||bce,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[v,g])=>`${p}${v}=${g},`,"");if(Zoe(c)&&a!=="_self")return Ece(e||"",a),new cL(null);const d=window.open(e||"",a,u);Me(d,t,"popup-blocked");try{d.focus()}catch{}return new cL(d)}function Ece(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sce="__/auth/handler",Tce="emulator/auth/handler",Cce=encodeURIComponent("fac");async function zT(t,e,n,r,i,s){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ya,eventId:i};if(e instanceof nl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Af){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Cce}=${encodeURIComponent(l)}`:"";return`${Ice(t)}?${od(a).slice(1)}${c}`}function Ice({config:t}){return t.emulator?XN(t,Tce):`https://${t.authDomain}/${Sce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="webStorageSupport";class Nce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rc,this._completeRedirectFn=N1,this._overrideRedirectResult=uR}async _openPopup(e,n,r,i){var s;Ao((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await zT(e,n,r,Wm(),i);return xce(e,o,Qg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await zT(e,n,r,Wm(),i);return cle(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ao(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gce(e),r=new IU(e);return n.register("authEvent",i=>(Me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(EE,{type:EE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[EE];o!==void 0&&n(!!o),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return G7()||JN()||Nf()}}const AU=Nce;class Rce{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Yo("unexpected MultiFactorSessionType")}}}class dR extends Rce{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new dR(e)}_finalizeEnroll(e,n,r){return nle(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return wle(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class kU{constructor(){}static assertion(e){return dR._fromCredential(e)}}kU.FACTOR_ID="phone";var uL="@firebase/auth",dL="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Pce(t){Ro(new zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q7(t)},c=new lae(r,i,s,l);return uae(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ro(new zi("auth-internal",e=>{const n=Tr(e.getProvider("auth").getImmediate());return(r=>new Ace(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fi(uL,dL,kce(t)),fi(uL,dL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dce=5*60,Lce=g7("authIdTokenMaxAge")||Dce;let hL=null;const Oce=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Lce)return;const i=n==null?void 0:n.token;hL!==i&&(hL=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rl(t=Cf()){const e=Cc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cae(t,{popupRedirectResolver:AU,persistence:[jh,S1,rc]}),r=g7("authTokenSyncURL");if(r){const s=Oce(r);Jae(n,s,()=>s(n.currentUser)),Xae(n,o=>s(o))}const i=p7("auth");return i&&J7(n,`http://${i}`),n}Pce("Browser");var Mce="firebase",Fce="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi(Mce,Fce,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bce{constructor(e,n){this._delegate=e,this.firebase=n,yw(e,new zi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),N7(this._delegate)))}_getService(e,n=ec){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ec){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){yw(this._delegate,e)}_addOrOverwriteComponent(e){I7(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ce={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},fL=new sd("app-compat","Firebase",$ce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uce(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:fi,setLogLevel:A7,onLog:R7,apps:null,SDK_VERSION:ya,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:koe}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||ec,!Rs(e,c))throw fL.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const d=y1(c,u);if(Rs(e,d.name))return e[d.name];const p=new t(d,n);return e[d.name]=p,p}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(Ro(c)&&c.type==="PUBLIC"){const p=(v=i())=>{if(typeof v[d]!="function")throw fL.create("invalid-app-argument",{appName:u});return v[d]()};c.serviceProps!==void 0&&Um(p,c.serviceProps),n[d]=p,t.prototype[d]=function(...v){return this._getService.bind(this,u).apply(this,c.multipleInstances?v:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(){const t=Uce(Bce);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:PU,extendNamespace:e,createSubscribe:b7,ErrorFactory:sd,deepExtend:Um});function e(n){Um(t,n)}return t}const Vce=PU();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new Tf("@firebase/app-compat"),jce="@firebase/app-compat",zce="0.2.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hce(t){fi(jce,zce,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(fse()&&self.firebase!==void 0){pL.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&pL.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Xg=Vce;Hce();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wce=2e3;async function Gce(t,e,n){var r;const{BuildInfo:i}=Bu();Ao(e.sessionId,"AuthEvent did not contain a session ID");const s=await Xce(e.sessionId),o={};return Nf()?o.ibi=i.packageName:qg()?o.apn=i.packageName:Jr(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,zT(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function qce(t){const{BuildInfo:e}=Bu(),n={};Nf()?n.iosBundleId=e.packageName:qg()?n.androidPackageName=e.packageName:Jr(t,"operation-not-supported-in-this-environment"),await RU(t,n)}function Kce(t){const{cordova:e}=Bu();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Joe()?"_blank":"_system","location=yes"),n(i)})})}async function Qce(t,e,n){const{cordova:r}=Bu();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const p=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof p=="function"&&p(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(pi(t,"redirect-cancelled-by-user"))},Wce))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),qg()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}function Yce(t){var e,n,r,i,s,o,a,l,c,u;const d=Bu();Me(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Me(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Me(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me(typeof((u=(c=d==null?void 0:d.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Xce(t){const e=Jce(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Jce(t){if(Ao(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zce=20;class eue extends IU{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function tue(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:iue(),postBody:null,tenantId:t.tenantId,error:pi(t,"no-auth-event")}}function nue(t,e){return HT()._set(WT(t),e)}async function mL(t){const e=await HT()._get(WT(t));return e&&await HT()._remove(WT(t)),e}function rue(t,e){var n,r;const i=oue(e);if(i.includes("/__/auth/callback")){const s=xy(i),o=s.firebaseError?sue(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?pi(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function iue(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Zce;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function HT(){return Ss(S1)}function WT(t){return bu("authEvent",t.config.apiKey,t.name)}function sue(t){try{return JSON.parse(t)}catch{return null}}function oue(t){const e=xy(t),n=e.link?decodeURIComponent(e.link):void 0,r=xy(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return xy(i).link||i||r||n||t}function xy(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return nh(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aue=500;class lue{constructor(){this._redirectPersistence=rc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N1,this._overrideRedirectResult=uR}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new eue(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Jr(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Yce(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),qle(),await this._originValidation(e);const o=tue(e,r,i);await nue(e,o);const a=await Gce(e,o,n),l=await Kce(a);return Qce(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qce(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Bu(),o=setTimeout(async()=>{await mL(e),n.onEvent(gL())},aue),a=async u=>{clearTimeout(o);const d=await mL(e);let p=null;d&&(u!=null&&u.url)&&(p=rue(d,u.url)),n.onEvent(p||gL())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;Bu().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&a({url:u}),typeof l=="function")try{l(u)}catch(d){console.error(d)}}}}const cue=lue;function gL(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pi("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uue(t,e){Tr(t)._logFramework(e)}var due="@firebase/auth-compat",hue="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fue=1e3;function lm(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function pue(){return lm()==="http:"||lm()==="https:"}function DU(t=ar()){return!!((lm()==="file:"||lm()==="ionic:"||lm()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mue(){return g1()||m1()}function gue(){return y7()&&(document==null?void 0:document.documentMode)===11}function vue(t=ar()){return/Edge\/\d+/.test(t)}function yue(t=ar()){return gue()||vue(t)}function LU(){try{const t=self.localStorage,e=Qg();if(t)return t.setItem(e,"1"),t.removeItem(e),yue()?Vm():!0}catch{return hR()&&Vm()}return!1}function hR(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function SE(){return(pue()||v7()||DU())&&!mue()&&LU()&&!hR()}function OU(){return DU()&&typeof document<"u"}async function wue(){return OU()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},fue);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function _ue(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={LOCAL:"local",NONE:"none",SESSION:"session"},gp=Me,MU="persistence";function bue(t,e){if(gp(Object.values(xs).includes(e),t,"invalid-persistence-type"),g1()){gp(e!==xs.SESSION,t,"unsupported-persistence-type");return}if(m1()){gp(e===xs.NONE,t,"unsupported-persistence-type");return}if(hR()){gp(e===xs.NONE||e===xs.LOCAL&&Vm(),t,"unsupported-persistence-type");return}gp(e===xs.NONE||LU(),t,"unsupported-persistence-type")}async function GT(t){await t._initializationPromise;const e=FU(),n=bu(MU,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function xue(t,e){const n=FU();if(!n)return[];const r=bu(MU,t,e);switch(n.getItem(r)){case xs.NONE:return[Uh];case xs.LOCAL:return[jh,rc];case xs.SESSION:return[rc];default:return[]}}function FU(){var t;try{return((t=_ue())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eue=Me;class Al{constructor(){this.browserResolver=Ss(AU),this.cordovaResolver=Ss(cue),this.underlyingResolver=null,this._redirectPersistence=rc,this._completeRedirectFn=N1,this._overrideRedirectResult=uR}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return OU()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Eue(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await wue();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){return t.unwrap()}function Sue(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tue(t){return $U(t)}function Cue(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Iue(t,ele(t,e))}else if(r){const i=$U(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function $U(t){const{_tokenResponse:e}=t instanceof Ci?t.customData:t;if(!e)return null;if(!(t instanceof Ci)&&"temporaryProof"in e&&"phoneNumber"in e)return Fu.credentialFromResult(t);const n=e.providerId;if(!n||n===mp.PASSWORD)return null;let r;switch(n){case mp.GOOGLE:r=Wo;break;case mp.FACEBOOK:r=Ho;break;case mp.GITHUB:r=Go;break;case mp.TWITTER:r=qo;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Vh._create(n,a):ua._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new mh(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Ci?r.credentialFromError(t):r.credentialFromResult(t)}function Yi(t,e){return e.catch(n=>{throw n instanceof Ci&&Cue(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Tue(n),additionalUserInfo:Yae(n),user:ka.getOrCreate(i)}})}async function qT(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Yi(t,n.confirm(r))}}class Iue{constructor(e,n){this.resolver=n,this.auth=Sue(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Yi(BU(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._delegate=e,this.multiFactor=mU(e)}static getOrCreate(e){return ka.USER_MAP.has(e)||ka.USER_MAP.set(e,new ka(e)),ka.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Yi(this.auth,oU(this._delegate,e))}async linkWithPhoneNumber(e,n){return qT(this.auth,Lle(this._delegate,e,n))}async linkWithPopup(e){return Yi(this.auth,zle(this._delegate,e,Al))}async linkWithRedirect(e){return await GT(Tr(this.auth)),Jle(this._delegate,e,Al)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Yi(this.auth,aU(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return qT(this.auth,Ole(this._delegate,e,n))}reauthenticateWithPopup(e){return Yi(this.auth,jle(this._delegate,e,Al))}async reauthenticateWithRedirect(e){return await GT(Tr(this.auth)),Yle(this._delegate,e,Al)}sendEmailVerification(e){return rR(this._delegate,e)}async unlink(e){return await Rae(this._delegate,e),this}updateEmail(e){return zae(this._delegate,e)}updatePassword(e){return Hae(this._delegate,e)}updatePhoneNumber(e){return Mle(this._delegate,e)}updateProfile(e){return jae(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Uae(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ka.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=Me;class KT{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;vp(r,"invalid-api-key",{appName:e.name}),vp(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Al:void 0;this._delegate=n.initialize({options:{persistence:Nue(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Doe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ka.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){J7(this._delegate,e,n)}applyActionCode(e){return Dae(this._delegate,e)}checkActionCode(e){return cU(this._delegate,e)}confirmPasswordReset(e,n){return Pae(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Yi(this._delegate,uU(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return $ae(this._delegate,e)}isSignInWithEmailLink(e){return Mae(this._delegate,e)}async getRedirectResult(){vp(SE(),this._delegate,"operation-not-supported-in-this-environment");const e=await ece(this._delegate,Al);return e?Yi(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){uue(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=vL(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=vL(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return Oae(this._delegate,e,n)}sendPasswordResetEmail(e,n){return lU(this._delegate,e,n||void 0)}async setPersistence(e){bue(this._delegate,e);let n;switch(e){case xs.SESSION:n=rc;break;case xs.LOCAL:n=await Ss(jh)._isAvailable()?jh:S1;break;case xs.NONE:n=Uh;break;default:return Jr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Yi(this._delegate,Nae(this._delegate))}signInWithCredential(e){return Yi(this._delegate,E1(this._delegate,e))}signInWithCustomToken(e){return Yi(this._delegate,kae(this._delegate,e))}signInWithEmailAndPassword(e,n){return Yi(this._delegate,dU(this._delegate,e,n))}signInWithEmailLink(e,n){return Yi(this._delegate,Fae(this._delegate,e,n))}signInWithPhoneNumber(e,n){return qT(this._delegate,Dle(this._delegate,e,n))}async signInWithPopup(e){return vp(SE(),this._delegate,"operation-not-supported-in-this-environment"),Yi(this._delegate,Vle(this._delegate,e,Al))}async signInWithRedirect(e){return vp(SE(),this._delegate,"operation-not-supported-in-this-environment"),await GT(this._delegate),Kle(this._delegate,e,Al)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Lae(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}KT.Persistence=xs;function vL(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&ka.getOrCreate(o)),error:e,complete:n}}function Nue(t,e){const n=xue(t,e);if(typeof self<"u"&&!n.includes(jh)&&n.push(jh),typeof window<"u")for(const r of[S1,rc])n.includes(r)||n.push(r);return n.includes(Uh)||n.push(Uh),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.providerId="phone",this._delegate=new Fu(BU(Xg.auth()))}static credential(e,n){return Fu.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}fR.PHONE_SIGN_IN_METHOD=Fu.PHONE_SIGN_IN_METHOD;fR.PROVIDER_ID=Fu.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rue=Me;class Aue{constructor(e,n,r=Xg.app()){var i;Rue((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new kle(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kue="auth-compat";function Pue(t){t.INTERNAL.registerComponent(new zi(kue,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new KT(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Nd.EMAIL_SIGNIN,PASSWORD_RESET:Nd.PASSWORD_RESET,RECOVER_EMAIL:Nd.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Nd.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Nd.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Nd.VERIFY_EMAIL}},EmailAuthProvider:Ic,FacebookAuthProvider:Ho,GithubAuthProvider:Go,GoogleAuthProvider:Wo,OAuthProvider:mh,SAMLAuthProvider:_w,PhoneAuthProvider:fR,PhoneMultiFactorGenerator:kU,RecaptchaVerifier:Aue,TwitterAuthProvider:qo,Auth:KT,AuthCredential:Rf,Error:Ci}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(due,hue)}Pue(Xg);var Due=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qe,pR=pR||{},It=Due||self;function R1(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Jg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Lue(t){return Object.prototype.hasOwnProperty.call(t,TE)&&t[TE]||(t[TE]=++Oue)}var TE="closure_uid_"+(1e9*Math.random()>>>0),Oue=0;function Mue(t,e,n){return t.call.apply(t.bind,arguments)}function Fue(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ii(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ii=Mue:Ii=Fue,Ii.apply(null,arguments)}function Av(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ni(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Nc(){this.s=this.s,this.o=this.o}var Bue=0;Nc.prototype.s=!1;Nc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Bue!=0)&&Lue(this)};Nc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const UU=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function mR(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function yL(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(R1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ni(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ni.prototype.h=function(){this.defaultPrevented=!0};var $ue=function(){if(!It.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{It.addEventListener("test",()=>{},e),It.removeEventListener("test",()=>{},e)}catch{}return t}();function Qm(t){return/^[\s\xa0]*$/.test(t)}function A1(){var t=It.navigator;return t&&(t=t.userAgent)?t:""}function Ko(t){return A1().indexOf(t)!=-1}function gR(t){return gR[" "](t),t}gR[" "]=function(){};function Uue(t,e){var n=Pde;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Vue=Ko("Opera"),zh=Ko("Trident")||Ko("MSIE"),VU=Ko("Edge"),QT=VU||zh,jU=Ko("Gecko")&&!(A1().toLowerCase().indexOf("webkit")!=-1&&!Ko("Edge"))&&!(Ko("Trident")||Ko("MSIE"))&&!Ko("Edge"),jue=A1().toLowerCase().indexOf("webkit")!=-1&&!Ko("Edge");function zU(){var t=It.document;return t?t.documentMode:void 0}var YT;e:{var CE="",IE=function(){var t=A1();if(jU)return/rv:([^\);]+)(\)|;)/.exec(t);if(VU)return/Edge\/([\d\.]+)/.exec(t);if(zh)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(jue)return/WebKit\/(\S+)/.exec(t);if(Vue)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(IE&&(CE=IE?IE[1]:""),zh){var NE=zU();if(NE!=null&&NE>parseFloat(CE)){YT=String(NE);break e}}YT=CE}var XT;if(It.document&&zh){var wL=zU();XT=wL||parseInt(YT,10)||void 0}else XT=void 0;var zue=XT;function Ym(t,e){if(Ni.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(jU){e:{try{gR(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Hue[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ym.$.h.call(this)}}ni(Ym,Ni);var Hue={2:"touch",3:"pen",4:"mouse"};Ym.prototype.h=function(){Ym.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zg="closure_listenable_"+(1e6*Math.random()|0),Wue=0;function Gue(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Wue,this.fa=this.ia=!1}function k1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function vR(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function que(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function HU(t){const e={};for(const n in t)e[n]=t[n];return e}const _L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WU(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<_L.length;s++)n=_L[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function P1(t){this.src=t,this.g={},this.h=0}P1.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ZT(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Gue(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function JT(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=UU(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(k1(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ZT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var yR="closure_lm_"+(1e6*Math.random()|0),RE={};function GU(t,e,n,r,i){if(r&&r.once)return KU(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)GU(t,e[s],n,r,i);return null}return n=bR(n),t&&t[Zg]?t.O(e,n,Jg(r)?!!r.capture:!!r,i):qU(t,e,n,!1,r,i)}function qU(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Jg(i)?!!i.capture:!!i,a=_R(t);if(a||(t[yR]=a=new P1(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Kue(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$ue||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(YU(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Kue(){function t(n){return e.call(t.src,t.listener,n)}const e=Que;return t}function KU(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)KU(t,e[s],n,r,i);return null}return n=bR(n),t&&t[Zg]?t.P(e,n,Jg(r)?!!r.capture:!!r,i):qU(t,e,n,!0,r,i)}function QU(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)QU(t,e[s],n,r,i);else r=Jg(r)?!!r.capture:!!r,n=bR(n),t&&t[Zg]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ZT(s,n,r,i),-1<n&&(k1(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=_R(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ZT(e,n,r,i)),(n=-1<t?e[t]:null)&&wR(n))}function wR(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Zg])JT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(YU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_R(e))?(JT(n,t),n.h==0&&(n.src=null,e[yR]=null)):k1(t)}}}function YU(t){return t in RE?RE[t]:RE[t]="on"+t}function Que(t,e){if(t.fa)t=!0;else{e=new Ym(e,this);var n=t.listener,r=t.la||t.src;t.ia&&wR(t),t=n.call(r,e)}return t}function _R(t){return t=t[yR],t instanceof P1?t:null}var AE="__closure_events_fn_"+(1e9*Math.random()>>>0);function bR(t){return typeof t=="function"?t:(t[AE]||(t[AE]=function(e){return t.handleEvent(e)}),t[AE])}function Zr(){Nc.call(this),this.i=new P1(this),this.S=this,this.J=null}ni(Zr,Nc);Zr.prototype[Zg]=!0;Zr.prototype.removeEventListener=function(t,e,n,r){QU(this,t,e,n,r)};function mi(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ni(e,t);else if(e instanceof Ni)e.target=e.target||t;else{var i=e;e=new Ni(r,t),WU(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=kv(o,r,!0,e)&&i}if(o=e.g=t,i=kv(o,r,!0,e)&&i,i=kv(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=kv(o,r,!1,e)&&i}Zr.prototype.N=function(){if(Zr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)k1(n[r]);delete t.g[e],t.h--}}this.J=null};Zr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Zr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function kv(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&JT(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var xR=It.JSON.stringify;class Yue{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Xue(){var t=ER;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Jue{constructor(){this.h=this.g=null}add(e,n){const r=XU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var XU=new Yue(()=>new Zue,t=>t.reset());class Zue{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ede(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function tde(t){It.setTimeout(()=>{throw t},0)}let Xm,Jm=!1,ER=new Jue,JU=()=>{const t=It.Promise.resolve(void 0);Xm=()=>{t.then(nde)}};var nde=()=>{for(var t;t=Xue();){try{t.h.call(t.g)}catch(n){tde(n)}var e=XU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jm=!1};function D1(t,e){Zr.call(this),this.h=t||1,this.g=e||It,this.j=Ii(this.qb,this),this.l=Date.now()}ni(D1,Zr);Qe=D1.prototype;Qe.ga=!1;Qe.T=null;Qe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mi(this,"tick"),this.ga&&(SR(this),this.start()))}};Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function SR(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Qe.N=function(){D1.$.N.call(this),SR(this),delete this.g};function TR(t,e,n){if(typeof t=="function")n&&(t=Ii(t,n));else if(t&&typeof t.handleEvent=="function")t=Ii(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:It.setTimeout(t,e||0)}function ZU(t){t.g=TR(()=>{t.g=null,t.i&&(t.i=!1,ZU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class rde extends Nc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZU(this)}N(){super.N(),this.g&&(It.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zm(t){Nc.call(this),this.h=t,this.g={}}ni(Zm,Nc);var bL=[];function e6(t,e,n,r){Array.isArray(n)||(n&&(bL[0]=n.toString()),n=bL);for(var i=0;i<n.length;i++){var s=GU(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function t6(t){vR(t.g,function(e,n){this.g.hasOwnProperty(n)&&wR(e)},t),t.g={}}Zm.prototype.N=function(){Zm.$.N.call(this),t6(this)};Zm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function L1(){this.g=!0}L1.prototype.Ea=function(){this.g=!1};function ide(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function sde(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function rh(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+ade(t,n)+(r?" "+r:"")})}function ode(t,e){t.info(function(){return"TIMEOUT: "+e})}L1.prototype.info=function(){};function ade(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return xR(n)}catch{return e}}var ld={},xL=null;function O1(){return xL=xL||new Zr}ld.Ta="serverreachability";function n6(t){Ni.call(this,ld.Ta,t)}ni(n6,Ni);function eg(t){const e=O1();mi(e,new n6(e))}ld.STAT_EVENT="statevent";function r6(t,e){Ni.call(this,ld.STAT_EVENT,t),this.stat=e}ni(r6,Ni);function Fi(t){const e=O1();mi(e,new r6(e,t))}ld.Ua="timingevent";function i6(t,e){Ni.call(this,ld.Ua,t),this.size=e}ni(i6,Ni);function e0(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return It.setTimeout(function(){t()},e)}var M1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},s6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function CR(){}CR.prototype.h=null;function EL(t){return t.h||(t.h=t.i())}function o6(){}var t0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function IR(){Ni.call(this,"d")}ni(IR,Ni);function NR(){Ni.call(this,"c")}ni(NR,Ni);var eC;function F1(){}ni(F1,CR);F1.prototype.g=function(){return new XMLHttpRequest};F1.prototype.i=function(){return{}};eC=new F1;function n0(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Zm(this),this.P=lde,t=QT?125:void 0,this.V=new D1(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new a6}function a6(){this.i=null,this.g="",this.h=!1}var lde=45e3,tC={},Sw={};Qe=n0.prototype;Qe.setTimeout=function(t){this.P=t};function nC(t,e,n){t.L=1,t.v=$1(Qa(e)),t.s=n,t.S=!0,l6(t,null)}function l6(t,e){t.G=Date.now(),r0(t),t.A=Qa(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),g6(n.i,"t",r),t.C=0,n=t.l.J,t.h=new a6,t.g=F6(t.l,n?e:null,!t.s),0<t.O&&(t.M=new rde(Ii(t.Pa,t,t.g),t.O)),e6(t.U,t.g,"readystatechange",t.nb),e=t.I?HU(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),eg(),ide(t.j,t.u,t.A,t.m,t.W,t.s)}Qe.nb=function(t){t=t.target;const e=this.M;e&&Xo(t)==3?e.l():this.Pa(t)};Qe.Pa=function(t){try{if(t==this.g)e:{const u=Xo(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||QT||this.g&&(this.h.h||this.g.ja()||IL(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?eg(3):eg(2)),B1(this);var n=this.g.da();this.ca=n;t:if(c6(this)){var r=IL(this.g);t="";var i=r.length,s=Xo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){uu(this),cm(this);var o="";break t}this.h.i=new It.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,sde(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qm(a)){var c=a;break t}}c=null}if(n=c)rh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rC(this,n);else{this.i=!1,this.o=3,Fi(12),uu(this),cm(this);break e}}this.S?(u6(this,u,o),QT&&this.i&&u==3&&(e6(this.U,this.V,"tick",this.mb),this.V.start())):(rh(this.j,this.m,o,null),rC(this,o)),u==4&&uu(this),this.i&&!this.J&&(u==4?D6(this.l,this):(this.i=!1,r0(this)))}else Rde(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Fi(12)):(this.o=0,Fi(13)),uu(this),cm(this)}}}catch{}finally{}};function c6(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function u6(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=cde(t,n),i==Sw){e==4&&(t.o=4,Fi(14),r=!1),rh(t.j,t.m,null,"[Incomplete Response]");break}else if(i==tC){t.o=4,Fi(15),rh(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else rh(t.j,t.m,i,null),rC(t,i);c6(t)&&i!=Sw&&i!=tC&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Fi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),LR(e),e.M=!0,Fi(11))):(rh(t.j,t.m,n,"[Invalid Chunked Response]"),uu(t),cm(t))}Qe.mb=function(){if(this.g){var t=Xo(this.g),e=this.g.ja();this.C<e.length&&(B1(this),u6(this,t,e),this.i&&t!=4&&r0(this))}};function cde(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Sw:(n=Number(e.substring(n,r)),isNaN(n)?tC:(r+=1,r+n>e.length?Sw:(e=e.slice(r,r+n),t.C=r+n,e)))}Qe.cancel=function(){this.J=!0,uu(this)};function r0(t){t.Y=Date.now()+t.P,d6(t,t.P)}function d6(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=e0(Ii(t.lb,t),e)}function B1(t){t.B&&(It.clearTimeout(t.B),t.B=null)}Qe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(ode(this.j,this.A),this.L!=2&&(eg(),Fi(17)),uu(this),this.o=2,cm(this)):d6(this,this.Y-t)};function cm(t){t.l.H==0||t.J||D6(t.l,t)}function uu(t){B1(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,SR(t.V),t6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function rC(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||iC(n.i,t))){if(!t.K&&iC(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Iw(n),j1(n);else break e;DR(n),Fi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=e0(Ii(n.ib,n),6e3));if(1>=w6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else du(n,11)}else if((t.K||n.g==t)&&Iw(n),!Qm(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const p=c[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const g=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(RR(s,s.h),s.h=null))}if(r.F){const _=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Un(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=M6(r,r.J?r.pa:null,r.Y),o.K){_6(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(B1(a),r0(a)),r.g=o}else k6(r);0<n.j.length&&z1(n)}else c[0]!="stop"&&c[0]!="close"||du(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?du(n,7):PR(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}eg(4)}catch{}}function ude(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(R1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function dde(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(R1(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function h6(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(R1(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=dde(t),r=ude(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var f6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hde(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Eu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Eu){this.h=t.h,Tw(this,t.j),this.s=t.s,this.g=t.g,Cw(this,t.m),this.l=t.l;var e=t.i,n=new tg;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),SL(this,n),this.o=t.o}else t&&(e=String(t).match(f6))?(this.h=!1,Tw(this,e[1]||"",!0),this.s=zp(e[2]||""),this.g=zp(e[3]||"",!0),Cw(this,e[4]),this.l=zp(e[5]||"",!0),SL(this,e[6]||"",!0),this.o=zp(e[7]||"")):(this.h=!1,this.i=new tg(null,this.h))}Eu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Hp(e,TL,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Hp(e,TL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Hp(n,n.charAt(0)=="/"?mde:pde,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Hp(n,vde)),t.join("")};function Qa(t){return new Eu(t)}function Tw(t,e,n){t.j=n?zp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Cw(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function SL(t,e,n){e instanceof tg?(t.i=e,yde(t.i,t.h)):(n||(e=Hp(e,gde)),t.i=new tg(e,t.h))}function Un(t,e,n){t.i.set(e,n)}function $1(t){return Un(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hp(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,fde),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fde(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TL=/[#\/\?@]/g,pde=/[#\?:]/g,mde=/[#\?]/g,gde=/[#\?@]/g,vde=/#/g;function tg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Rc(t){t.g||(t.g=new Map,t.h=0,t.i&&hde(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Qe=tg.prototype;Qe.add=function(t,e){Rc(this),this.i=null,t=kf(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function p6(t,e){Rc(t),e=kf(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function m6(t,e){return Rc(t),e=kf(t,e),t.g.has(e)}Qe.forEach=function(t,e){Rc(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Qe.ta=function(){Rc(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Qe.Z=function(t){Rc(this);let e=[];if(typeof t=="string")m6(this,t)&&(e=e.concat(this.g.get(kf(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Qe.set=function(t,e){return Rc(this),this.i=null,t=kf(this,t),m6(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Qe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function g6(t,e,n){p6(t,e),0<n.length&&(t.i=null,t.g.set(kf(t,e),mR(n)),t.h+=n.length)}Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function kf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yde(t,e){e&&!t.j&&(Rc(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(p6(this,r),g6(this,i,n))},t)),t.j=e}var wde=class{constructor(t,e){this.g=t,this.map=e}};function v6(t){this.l=t||_de,It.PerformanceNavigationTiming?(t=It.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(It.g&&It.g.Ka&&It.g.Ka()&&It.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _de=10;function y6(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function w6(t){return t.h?1:t.g?t.g.size:0}function iC(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function RR(t,e){t.g?t.g.add(e):t.h=e}function _6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}v6.prototype.cancel=function(){if(this.i=b6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function b6(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return mR(t.i)}var bde=class{stringify(t){return It.JSON.stringify(t,void 0)}parse(t){return It.JSON.parse(t,void 0)}};function xde(){this.g=new bde}function Ede(t,e,n){const r=n||"";try{h6(t,function(i,s){let o=i;Jg(i)&&(o=xR(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sde(t,e){const n=new L1;if(It.Image){const r=new Image;r.onload=Av(Pv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Av(Pv,n,r,"TestLoadImage: error",!1,e),r.onabort=Av(Pv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Av(Pv,n,r,"TestLoadImage: timeout",!1,e),It.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Pv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function i0(t){this.l=t.fc||null,this.j=t.ob||!1}ni(i0,CR);i0.prototype.g=function(){return new U1(this.l,this.j)};i0.prototype.i=function(t){return function(){return t}}({});function U1(t,e){Zr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=AR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ni(U1,Zr);var AR=0;Qe=U1.prototype;Qe.open=function(t,e){if(this.readyState!=AR)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ng(this)};Qe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||It).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,s0(this)),this.readyState=AR};Qe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ng(this)),this.g&&(this.readyState=3,ng(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof It.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;x6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function x6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Qe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?s0(this):ng(this),this.readyState==3&&x6(this)}};Qe.Za=function(t){this.g&&(this.response=this.responseText=t,s0(this))};Qe.Ya=function(t){this.g&&(this.response=t,s0(this))};Qe.ka=function(){this.g&&s0(this)};function s0(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ng(t)}Qe.setRequestHeader=function(t,e){this.v.append(t,e)};Qe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Qe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ng(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(U1.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Tde=It.JSON.parse;function fr(t){Zr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=E6,this.L=this.M=!1}ni(fr,Zr);var E6="",Cde=/^https?$/i,Ide=["POST","PUT"];Qe=fr.prototype;Qe.Oa=function(t){this.M=t};Qe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():eC.g(),this.C=this.u?EL(this.u):EL(eC),this.g.onreadystatechange=Ii(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){CL(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=It.FormData&&t instanceof It.FormData,!(0<=UU(Ide,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{C6(this),0<this.B&&((this.L=Nde(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ii(this.ua,this)):this.A=TR(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){CL(this,s)}};function Nde(t){return zh&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Qe.ua=function(){typeof pR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mi(this,"timeout"),this.abort(8))};function CL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,S6(t),V1(t)}function S6(t){t.F||(t.F=!0,mi(t,"complete"),mi(t,"error"))}Qe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mi(this,"complete"),mi(this,"abort"),V1(this))};Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),V1(this,!0)),fr.$.N.call(this)};Qe.La=function(){this.s||(this.G||this.v||this.l?T6(this):this.kb())};Qe.kb=function(){T6(this)};function T6(t){if(t.h&&typeof pR<"u"&&(!t.C[1]||Xo(t)!=4||t.da()!=2)){if(t.v&&Xo(t)==4)TR(t.La,0,t);else if(mi(t,"readystatechange"),Xo(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(f6)[1]||null;!i&&It.self&&It.self.location&&(i=It.self.location.protocol.slice(0,-1)),r=!Cde.test(i?i.toLowerCase():"")}n=r}if(n)mi(t,"complete"),mi(t,"success");else{t.m=6;try{var s=2<Xo(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",S6(t)}}finally{V1(t)}}}}function V1(t,e){if(t.g){C6(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mi(t,"ready");try{n.onreadystatechange=r}catch{}}}function C6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(It.clearTimeout(t.A),t.A=null)}Qe.isActive=function(){return!!this.g};function Xo(t){return t.g?t.g.readyState:0}Qe.da=function(){try{return 2<Xo(this)?this.g.status:-1}catch{return-1}};Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Qe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Tde(e)}};function IL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case E6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Rde(t){const e={};t=(t.g&&2<=Xo(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Qm(t[r]))continue;var n=ede(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}que(e,function(r){return r.join(", ")})}Qe.Ia=function(){return this.m};Qe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function I6(t){let e="";return vR(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function kR(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=I6(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Un(t,e,n))}function yp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function N6(t){this.Ga=0,this.j=[],this.l=new L1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yp("baseRetryDelayMs",5e3,t),this.hb=yp("retryDelaySeedMs",1e4,t),this.eb=yp("forwardChannelMaxRetries",2,t),this.xa=yp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new v6(t&&t.concurrentRequestLimit),this.Ja=new xde,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Qe=N6.prototype;Qe.ra=8;Qe.H=1;function PR(t){if(R6(t),t.H==3){var e=t.W++,n=Qa(t.I);if(Un(n,"SID",t.K),Un(n,"RID",e),Un(n,"TYPE","terminate"),o0(t,n),e=new n0(t,t.l,e),e.L=2,e.v=$1(Qa(n)),n=!1,It.navigator&&It.navigator.sendBeacon)try{n=It.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&It.Image&&(new Image().src=e.v,n=!0),n||(e.g=F6(e.l,null),e.g.ha(e.v)),e.G=Date.now(),r0(e)}O6(t)}function j1(t){t.g&&(LR(t),t.g.cancel(),t.g=null)}function R6(t){j1(t),t.u&&(It.clearTimeout(t.u),t.u=null),Iw(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&It.clearTimeout(t.m),t.m=null)}function z1(t){if(!y6(t.i)&&!t.m){t.m=!0;var e=t.Na;Xm||JU(),Jm||(Xm(),Jm=!0),ER.add(e,t),t.C=0}}function Ade(t,e){return w6(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=e0(Ii(t.Na,t,e),L6(t,t.C)),t.C++,!0)}Qe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new n0(this,this.l,t);let s=this.s;if(this.U&&(s?(s=HU(s),WU(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=A6(this,i,e),n=Qa(this.I),Un(n,"RID",t),Un(n,"CVER",22),this.F&&Un(n,"X-HTTP-Session-Id",this.F),o0(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(I6(s)))+"&"+e:this.o&&kR(n,this.o,s)),RR(this.i,i),this.bb&&Un(n,"TYPE","init"),this.P?(Un(n,"$req",e),Un(n,"SID","null"),i.aa=!0,nC(i,n,null)):nC(i,n,e),this.H=2}}else this.H==3&&(t?NL(this,t):this.j.length==0||y6(this.i)||NL(this))};function NL(t,e){var n;e?n=e.m:n=t.W++;const r=Qa(t.I);Un(r,"SID",t.K),Un(r,"RID",n),Un(r,"AID",t.V),o0(t,r),t.o&&t.s&&kR(r,t.o,t.s),n=new n0(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=A6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),RR(t.i,n),nC(n,r,e)}function o0(t,e){t.na&&vR(t.na,function(n,r){Un(e,r,n)}),t.h&&h6({},function(n,r){Un(e,r,n)})}function A6(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ii(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{Ede(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function k6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xm||JU(),Jm||(Xm(),Jm=!0),ER.add(e,t),t.A=0}}function DR(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=e0(Ii(t.Ma,t),L6(t,t.A)),t.A++,!0)}Qe.Ma=function(){if(this.u=null,P6(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=e0(Ii(this.jb,this),t)}};Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fi(10),j1(this),P6(this))};function LR(t){t.B!=null&&(It.clearTimeout(t.B),t.B=null)}function P6(t){t.g=new n0(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Qa(t.wa);Un(e,"RID","rpc"),Un(e,"SID",t.K),Un(e,"AID",t.V),Un(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Un(e,"TO",t.qa),Un(e,"TYPE","xmlhttp"),o0(t,e),t.o&&t.s&&kR(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=$1(Qa(e)),n.s=null,n.S=!0,l6(n,t)}Qe.ib=function(){this.v!=null&&(this.v=null,j1(this),DR(this),Fi(19))};function Iw(t){t.v!=null&&(It.clearTimeout(t.v),t.v=null)}function D6(t,e){var n=null;if(t.g==e){Iw(t),LR(t),t.g=null;var r=2}else if(iC(t.i,e))n=e.F,_6(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=O1(),mi(r,new i6(r,n)),z1(t)}else k6(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&Ade(t,e)||r==2&&DR(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:du(t,5);break;case 4:du(t,10);break;case 3:du(t,6);break;default:du(t,2)}}}function L6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function du(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ii(t.pb,t);n||(n=new Eu("//www.google.com/images/cleardot.gif"),It.location&&It.location.protocol=="http"||Tw(n,"https"),$1(n)),Sde(n.toString(),r)}else Fi(2);t.H=0,t.h&&t.h.za(e),O6(t),R6(t)}Qe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Fi(2)):(this.l.info("Failed to ping google.com"),Fi(1))};function O6(t){if(t.H=0,t.ma=[],t.h){const e=b6(t.i);(e.length!=0||t.j.length!=0)&&(yL(t.ma,e),yL(t.ma,t.j),t.i.i.length=0,mR(t.j),t.j.length=0),t.h.ya()}}function M6(t,e,n){var r=n instanceof Eu?Qa(n):new Eu(n);if(r.g!="")e&&(r.g=e+"."+r.g),Cw(r,r.m);else{var i=It.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Eu(null);r&&Tw(s,r),e&&(s.g=e),i&&Cw(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Un(r,n,e),Un(r,"VER",t.ra),o0(t,r),r}function F6(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new fr(new i0({ob:!0})):new fr(t.va),e.Oa(t.J),e}Qe.isActive=function(){return!!this.h&&this.h.isActive(this)};function B6(){}Qe=B6.prototype;Qe.Ba=function(){};Qe.Aa=function(){};Qe.za=function(){};Qe.ya=function(){};Qe.isActive=function(){return!0};Qe.Va=function(){};function Nw(){if(zh&&!(10<=Number(zue)))throw Error("Environmental error: no available transport.")}Nw.prototype.g=function(t,e){return new As(t,e)};function As(t,e){Zr.call(this),this.g=new N6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qm(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Pf(this)}ni(As,Zr);As.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Fi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=M6(t,null,t.Y),z1(t)};As.prototype.close=function(){PR(this.g)};As.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=xR(t),t=n);e.j.push(new wde(e.fb++,t)),e.H==3&&z1(e)};As.prototype.N=function(){this.g.h=null,delete this.j,PR(this.g),delete this.g,As.$.N.call(this)};function $6(t){IR.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ni($6,IR);function U6(){NR.call(this),this.status=1}ni(U6,NR);function Pf(t){this.g=t}ni(Pf,B6);Pf.prototype.Ba=function(){mi(this.g,"a")};Pf.prototype.Aa=function(t){mi(this.g,new $6(t))};Pf.prototype.za=function(t){mi(this.g,new U6)};Pf.prototype.ya=function(){mi(this.g,"b")};function kde(){this.blockSize=-1}function ko(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ni(ko,kde);ko.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function kE(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ko.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)kE(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){kE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){kE(this,r),i=0;break}}this.h=i,this.i+=e};ko.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function mn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Pde={};function OR(t){return-128<=t&&128>t?Uue(t,function(e){return new mn([e|0],0>e?-1:0)}):new mn([t|0],0>t?-1:0)}function Jo(t){if(isNaN(t)||!isFinite(t))return yh;if(0>t)return ui(Jo(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=sC;return new mn(e,0)}function V6(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ui(V6(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Jo(Math.pow(e,8)),r=yh,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Jo(Math.pow(e,s)),r=r.R(s).add(Jo(o))):(r=r.R(n),r=r.add(Jo(o)))}return r}var sC=4294967296,yh=OR(0),oC=OR(1),RL=OR(16777216);Qe=mn.prototype;Qe.ea=function(){if(Gs(this))return-ui(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:sC+r)*e,e*=sC}return t};Qe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Pa(this))return"0";if(Gs(this))return"-"+ui(this).toString(t);for(var e=Jo(Math.pow(t,6)),n=this,r="";;){var i=Aw(n,e).g;n=Rw(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Pa(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Qe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Pa(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Gs(t){return t.h==-1}Qe.X=function(t){return t=Rw(this,t),Gs(t)?-1:Pa(t)?0:1};function ui(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new mn(n,~t.h).add(oC)}Qe.abs=function(){return Gs(this)?ui(this):this};Qe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new mn(n,n[n.length-1]&-2147483648?-1:0)};function Rw(t,e){return t.add(ui(e))}Qe.R=function(t){if(Pa(this)||Pa(t))return yh;if(Gs(this))return Gs(t)?ui(this).R(ui(t)):ui(ui(this).R(t));if(Gs(t))return ui(this.R(ui(t)));if(0>this.X(RL)&&0>t.X(RL))return Jo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Dv(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Dv(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Dv(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Dv(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new mn(n,0)};function Dv(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function wp(t,e){this.g=t,this.h=e}function Aw(t,e){if(Pa(e))throw Error("division by zero");if(Pa(t))return new wp(yh,yh);if(Gs(t))return e=Aw(ui(t),e),new wp(ui(e.g),ui(e.h));if(Gs(e))return e=Aw(t,ui(e)),new wp(ui(e.g),e.h);if(30<t.g.length){if(Gs(t)||Gs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=oC,r=e;0>=r.X(t);)n=AL(n),r=AL(r);var i=Rd(n,1),s=Rd(r,1);for(r=Rd(r,2),n=Rd(n,2);!Pa(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Rd(r,1),n=Rd(n,1)}return e=Rw(t,i.R(e)),new wp(i,e)}for(i=yh;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Jo(n),o=s.R(e);Gs(o)||0<o.X(t);)n-=r,s=Jo(n),o=s.R(e);Pa(s)&&(s=oC),i=i.add(s),t=Rw(t,o)}return new wp(i,t)}Qe.gb=function(t){return Aw(this,t).h};Qe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new mn(n,this.h&t.h)};Qe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new mn(n,this.h|t.h)};Qe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new mn(n,this.h^t.h)};function AL(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new mn(n,t.h)}function Rd(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new mn(i,t.h)}Nw.prototype.createWebChannel=Nw.prototype.g;As.prototype.send=As.prototype.u;As.prototype.open=As.prototype.m;As.prototype.close=As.prototype.close;M1.NO_ERROR=0;M1.TIMEOUT=8;M1.HTTP_ERROR=6;s6.COMPLETE="complete";o6.EventType=t0;t0.OPEN="a";t0.CLOSE="b";t0.ERROR="c";t0.MESSAGE="d";Zr.prototype.listen=Zr.prototype.O;fr.prototype.listenOnce=fr.prototype.P;fr.prototype.getLastError=fr.prototype.Sa;fr.prototype.getLastErrorCode=fr.prototype.Ia;fr.prototype.getStatus=fr.prototype.da;fr.prototype.getResponseJson=fr.prototype.Wa;fr.prototype.getResponseText=fr.prototype.ja;fr.prototype.send=fr.prototype.ha;fr.prototype.setWithCredentials=fr.prototype.Oa;ko.prototype.digest=ko.prototype.l;ko.prototype.reset=ko.prototype.reset;ko.prototype.update=ko.prototype.j;mn.prototype.add=mn.prototype.add;mn.prototype.multiply=mn.prototype.R;mn.prototype.modulo=mn.prototype.gb;mn.prototype.compare=mn.prototype.X;mn.prototype.toNumber=mn.prototype.ea;mn.prototype.toString=mn.prototype.toString;mn.prototype.getBits=mn.prototype.D;mn.fromNumber=Jo;mn.fromString=V6;var Dde=function(){return new Nw},Lde=function(){return O1()},PE=M1,Ode=s6,Mde=ld,kL={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fde=i0,Lv=o6,Bde=fr,$de=ko,wh=mn;const PL="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Tf("@firebase/firestore");function aC(){return ic.logLevel}function Ude(t){ic.setLogLevel(t)}function Re(t,...e){if(ic.logLevel<=Xt.DEBUG){const n=e.map(MR);ic.debug(`Firestore (${Df}): ${t}`,...n)}}function xr(t,...e){if(ic.logLevel<=Xt.ERROR){const n=e.map(MR);ic.error(`Firestore (${Df}): ${t}`,...n)}}function Po(t,...e){if(ic.logLevel<=Xt.WARN){const n=e.map(MR);ic.warn(`Firestore (${Df}): ${t}`,...n)}}function MR(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t="Unexpected state"){const e=`FIRESTORE (${Df}) INTERNAL ASSERTION FAILED: `+t;throw xr(e),new Error(e)}function pt(t,e){t||et()}function Vde(t,e){t||et()}function Ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qr.UNAUTHENTICATED))}shutdown(){}}class zde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Hde{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string"),new j6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string"),new qr(e)}}class Wde{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=qr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Gde{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Wde(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qde{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kde{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pt(typeof n.token=="string"),this.T=n.token,new qde(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Qde(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function kt(t,e){return t<e?-1:t>e?1:0}function Hh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function H6(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new er(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ft(e)}static min(){return new ft(new er(0,0))}static max(){return new ft(new er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r){n===void 0?n=0:n>e.length&&et(),r===void 0?r=e.length-n:r>e.length-n&&et(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rg.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rg?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nn extends rg{construct(e,n,r){return new nn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nn(n)}static emptyPath(){return new nn([])}}const Yde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends rg{construct(e,n,r){return new Er(e,n,r)}static isValidIdentifier(e){return Yde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Er(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Se(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Se(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(n)}static emptyPath(){return new Er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(nn.fromString(e))}static fromName(e){return new He(nn.fromString(e).popFirst(5))}static empty(){return new He(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new nn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function lC(t){return t.fields.find(e=>e.kind===2)}function Jc(t){return t.fields.filter(e=>e.kind!==2)}W6.UNKNOWN_ID=-1;class Xde{constructor(e,n){this.fieldPath=e,this.kind=n}}class kw{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new kw(0,ks.min())}}function G6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ft.fromTimestamp(r===1e9?new er(n+1,0):new er(n,r));return new ks(i,He.empty(),e)}function q6(t){return new ks(t.readTime,t.key,-1)}class ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ks(ft.min(),He.empty(),-1)}static max(){return new ks(ft.max(),He.empty(),-1)}}function FR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=He.comparator(t.documentKey,e.documentKey),n!==0?n:kt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==K6)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(i=>i?ae.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new ae((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Xr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new um(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=BR(r.target.error);this.v.reject(new um(e,i))}}static open(e,n,r,i){try{return new H1(n,e.transaction(i,r))}catch(s){throw new um(n,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Zde(n)}}class bo{constructor(e,n,r){this.name=e,this.version=n,this.V=r,bo.S(ar())===12.2&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),tu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Vm())return!1;if(bo.C())return!0;const e=ar(),n=bo.S(e),r=0<n&&n<10,i=bo.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(Re("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new um(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new Se(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Se(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new um(e,o))},i.onupgradeneeded=s=>{Re("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.V.O(o,i.transaction,s.oldVersion,this.version).next(()=>{Re("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.$(e);const a=H1.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.P(),c)).catch(c=>(a.abort(c),ae.reject(c))).toPromise();return l.catch(()=>{}),await a.R,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(Re("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Jde{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return tu(this.L.delete())}}class um extends Se{constructor(e,n){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function kc(t){return t.name==="IndexedDbTransactionError"}class Zde{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Re("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),tu(r)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),tu(this.store.add(e))}get(e){return tu(this.store.get(e)).next(n=>(n===void 0&&(n=null),Re("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),tu(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),tu(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.W(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new ae((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ae((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){Re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Z(e){const n=this.cursor({});return new ae((r,i)=>{n.onerror=s=>{const o=BR(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new ae((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Jde(a),c=n(a.primaryKey,a.value,l);if(c instanceof ae){const u=c.catch(d=>(l.done(),ae.reject(d)));r.push(u)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>ae.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function tu(t){return new ae((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=BR(r.target.error);n(i)}})}let DL=!1;function BR(t){const e=bo.S(ar());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DL||(DL=!0,setTimeout(()=>{throw r},0)),r}}return t}class ehe{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){Re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Re("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){kc(n)?Re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ac(n)}await this.et(6e4)})}}class the{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let i=n,s=!0;return ae.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return Re("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(i,s)).next(a=>(Re("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=q6(s);FR(o,r)>0&&(r=o)}),new ks(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}is.ct=-1;function a0(t){return t==null}function ig(t){return t===0&&1/t==-1/0}function Y6(t){return typeof t=="number"&&Number.isInteger(t)&&!ig(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LL(e)),e=nhe(t.get(n),e);return LL(e)}function nhe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function LL(t){return t+""}function Zo(t){const e=t.length;if(pt(e>=2),e===2)return pt(t.charAt(0)===""&&t.charAt(1)===""),nn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&et(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:et()}s=o+2}return new nn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t,e){return[t,Ui(e)]}function X6(t,e,n){return[t,Ui(e),n]}const rhe={},ihe=["prefixPath","collectionGroup","readTime","documentId"],she=["prefixPath","collectionGroup","documentId"],ohe=["collectionGroup","readTime","prefixPath","documentId"],ahe=["canonicalId","targetId"],lhe=["targetId","path"],che=["path","targetId"],uhe=["collectionId","parent"],dhe=["indexId","uid"],hhe=["uid","sequenceNumber"],fhe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],phe=["indexId","uid","orderedDocumentKey"],mhe=["userId","collectionPath","documentId"],ghe=["userId","collectionPath","largestBatchId"],vhe=["userId","collectionGroup","largestBatchId"],J6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yhe=[...J6,"documentOverlays"],Z6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eV=Z6,whe=[...eV,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends Q6{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function ri(t,e){const n=Ke(t);return bo.M(n.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){this.comparator=e,this.root=n||ci.EMPTY}insert(e,n){return new Pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new Pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ov(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ov(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ov(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ov(this.root,e,this.comparator,!0)}}class Ov{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ci{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ci.RED,this.left=i??ci.EMPTY,this.right=s??ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ci(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ci.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1;ci.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ci(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FL(this.data.getIterator())}getIteratorFrom(e){return new FL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Hn(this.comparator);return n.data=e,n}}class FL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ad(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new ss([])}unionWith(e){let n=new Hn(Er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ss(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _he(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nV("Invalid base64 string: "+i):i}}(e);return new $r(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new $r(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const bhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sc(t){if(pt(!!t),typeof t=="string"){let e=0;const n=bhe.exec(t);if(pt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hr(t.seconds),nanos:hr(t.nanos)}}function hr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oc(t){return typeof t=="string"?$r.fromBase64String(t):$r.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $R(t){const e=t.mapValue.fields.__previous_value__;return W1(e)?$R(e):e}function sg(t){const e=sc(t.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xhe{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ac{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sy={nullValue:"NULL_VALUE"};function $u(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?W1(t)?4:rV(t)?9007199254740991:10:et()}function da(t,e){if(t===e)return!0;const n=$u(t);if(n!==$u(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sg(t).isEqual(sg(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=sc(r.timestampValue),o=sc(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return oc(r.bytesValue).isEqual(oc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return hr(r.geoPointValue.latitude)===hr(i.geoPointValue.latitude)&&hr(r.geoPointValue.longitude)===hr(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return hr(r.integerValue)===hr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=hr(r.doubleValue),o=hr(i.doubleValue);return s===o?ig(s)===ig(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Hh(t.arrayValue.values||[],e.arrayValue.values||[],da);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(ML(s)!==ML(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!da(s[a],o[a])))return!1;return!0}(t,e);default:return et()}}function og(t,e){return(t.values||[]).find(n=>da(n,e))!==void 0}function lc(t,e){if(t===e)return 0;const n=$u(t),r=$u(e);if(n!==r)return kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=hr(i.integerValue||i.doubleValue),a=hr(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return BL(t.timestampValue,e.timestampValue);case 4:return BL(sg(t),sg(e));case 5:return kt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=oc(i),a=oc(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=kt(o[l],a[l]);if(c!==0)return c}return kt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=kt(hr(i.latitude),hr(s.latitude));return o!==0?o:kt(hr(i.longitude),hr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=lc(o[l],a[l]);if(c)return c}return kt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===kl.mapValue&&s===kl.mapValue)return 0;if(i===kl.mapValue)return 1;if(s===kl.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=kt(a[u],c[u]);if(d!==0)return d;const p=lc(o[a[u]],l[c[u]]);if(p!==0)return p}return kt(a.length,c.length)}(t.mapValue,e.mapValue);default:throw et()}}function BL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return kt(t,e);const n=sc(t),r=sc(e),i=kt(n.seconds,r.seconds);return i!==0?i:kt(n.nanos,r.nanos)}function Wh(t){return uC(t)}function uC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=sc(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?oc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,He.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=uC(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${uC(r.fields[a])}`;return s+"}"}(t.mapValue):et();var e,n}function Uu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dC(t){return!!t&&"integerValue"in t}function ag(t){return!!t&&"arrayValue"in t}function $L(t){return!!t&&"nullValue"in t}function UL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ty(t){return!!t&&"mapValue"in t}function dm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Ehe(t){return"nullValue"in t?Sy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Uu(ac.empty(),He.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:et()}function She(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Uu(ac.empty(),He.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?kl:et()}function VL(t,e){const n=lc(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function jL(t,e){const n=lc(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ty(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dm(n)}setAll(e){let n=Er.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dm(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ty(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return da(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ty(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cd(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new di(dm(this.value))}}function iV(t){const e=[];return cd(t.fields,(n,r)=>{const i=new Er([n]);if(Ty(r)){const s=iV(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ss(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vn(e,0,ft.min(),ft.min(),ft.min(),di.empty(),0)}static newFoundDocument(e,n,r,i){return new Vn(e,1,n,ft.min(),r,i,0)}static newNoDocument(e,n){return new Vn(e,2,n,ft.min(),ft.min(),di.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,ft.min(),ft.min(),di.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this.position=e,this.inclusive=n}}function zL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=He.comparator(He.fromName(o.referenceValue),n.key):r=lc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function HL(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!da(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function The(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{}class qt extends sV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Che(e,n,r):n==="array-contains"?new Rhe(e,r):n==="in"?new dV(e,r):n==="not-in"?new Ahe(e,r):n==="array-contains-any"?new khe(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ihe(e,r):new Nhe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lc(n,this.value)):n!==null&&$u(this.value)===$u(n)&&this.matchesComparison(lc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fn extends sV{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new fn(e,n)}matches(e){return Gh(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Gh(t){return t.op==="and"}function hC(t){return t.op==="or"}function UR(t){return oV(t)&&Gh(t)}function oV(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function fC(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Wh(t.value);if(UR(t))return t.filters.map(e=>fC(e)).join(",");{const e=t.filters.map(n=>fC(n)).join(",");return`${t.op}(${e})`}}function aV(t,e){return t instanceof qt?function(n,r){return r instanceof qt&&n.op===r.op&&n.field.isEqual(r.field)&&da(n.value,r.value)}(t,e):t instanceof fn?function(n,r){return r instanceof fn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&aV(s,r.filters[o]),!0):!1}(t,e):void et()}function lV(t,e){const n=t.filters.concat(e);return fn.create(n,t.op)}function cV(t){return t instanceof qt?function(e){return`${e.field.canonicalString()} ${e.op} ${Wh(e.value)}`}(t):t instanceof fn?function(e){return e.op.toString()+" {"+e.getFilters().map(cV).join(" ,")+"}"}(t):"Filter"}class Che extends qt{constructor(e,n,r){super(e,n,r),this.key=He.fromName(r.referenceValue)}matches(e){const n=He.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ihe extends qt{constructor(e,n){super(e,"in",n),this.keys=uV("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Nhe extends qt{constructor(e,n){super(e,"not-in",n),this.keys=uV("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>He.fromName(r.referenceValue))}class Rhe extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ag(n)&&og(n.arrayValue,this.value)}}class dV extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&og(this.value.arrayValue,n)}}class Ahe extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(og(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!og(this.value.arrayValue,n)}}class khe extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>og(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function pC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Phe(t,e,n,r,i,s,o)}function Vu(t){const e=Ke(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),a0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wh(r)).join(",")),e.dt=n}return e.dt}function l0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!The(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HL(t.startAt,e.startAt)&&HL(t.endAt,e.endAt)}function Pw(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Dw(t,e){return t.filters.filter(n=>n instanceof qt&&n.field.isEqual(e))}function WL(t,e,n){let r=Sy,i=!0;for(const s of Dw(t,e)){let o=Sy,a=!0;switch(s.op){case"<":case"<=":o=Ehe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Sy}VL({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];VL({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function GL(t,e,n){let r=kl,i=!0;for(const s of Dw(t,e)){let o=kl,a=!0;switch(s.op){case">=":case">":o=She(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=kl}jL({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];jL({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function hV(t,e,n,r,i,s,o,a){return new il(t,e,n,r,i,s,o,a)}function Lf(t){return new il(t)}function qL(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VR(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function G1(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function jR(t){return t.collectionGroup!==null}function Su(t){const e=Ke(t);if(e.wt===null){e.wt=[];const n=G1(e),r=VR(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new _h(n)),e.wt.push(new _h(Er.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new _h(Er.keyField(),s))}}}return e.wt}function fs(t){const e=Ke(t);if(!e._t)if(e.limitType==="F")e._t=pC(e.path,e.collectionGroup,Su(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Su(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new _h(s.field,o))}const r=e.endAt?new cc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new cc(e.startAt.position,e.startAt.inclusive):null;e._t=pC(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function mC(t,e){e.getFirstInequalityField(),G1(t);const n=t.filters.concat([e]);return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lw(t,e,n){return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function c0(t,e){return l0(fs(t),fs(e))&&t.limitType===e.limitType}function fV(t){return`${Vu(fs(t))}|lt:${t.limitType}`}function gC(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>cV(r)).join(", ")}]`),a0(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wh(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wh(r)).join(",")),`Target(${n})`}(fs(t))}; limitType=${t.limitType})`}function u0(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):He.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Su(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=zL(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Su(n),r)||n.endAt&&!function(i,s,o){const a=zL(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Su(n),r))}(t,e)}function pV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mV(t){return(e,n)=>{let r=!1;for(const i of Su(t)){const s=Dhe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Dhe(t,e,n){const r=t.field.isKeyField()?He.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?lc(a,l):et()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cd(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return tV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lhe=new Pn(He.comparator);function os(){return Lhe}const gV=new Pn(He.comparator);function Wp(...t){let e=gV;for(const n of t)e=e.insert(n.key,n);return e}function vV(t){let e=gV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ea(){return hm()}function yV(){return hm()}function hm(){return new Pc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ohe=new Pn(He.comparator),Mhe=new Hn(He.comparator);function Dt(...t){let e=Mhe;for(const n of t)e=e.add(n);return e}const Fhe=new Hn(kt);function zR(){return Fhe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ig(e)?"-0":e}}function _V(t){return{integerValue:""+t}}function bV(t,e){return Y6(e)?_V(e):wV(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this._=void 0}}function Bhe(t,e,n){return t instanceof qh?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&W1(i)&&(i=$R(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ju?EV(t,e):t instanceof zu?SV(t,e):function(r,i){const s=xV(r,i),o=KL(s)+KL(r.gt);return dC(s)&&dC(r.gt)?_V(o):wV(r.serializer,o)}(t,e)}function $he(t,e,n){return t instanceof ju?EV(t,e):t instanceof zu?SV(t,e):n}function xV(t,e){return t instanceof Kh?dC(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class qh extends q1{}class ju extends q1{constructor(e){super(),this.elements=e}}function EV(t,e){const n=TV(e);for(const r of t.elements)n.some(i=>da(i,r))||n.push(r);return{arrayValue:{values:n}}}class zu extends q1{constructor(e){super(),this.elements=e}}function SV(t,e){let n=TV(e);for(const r of t.elements)n=n.filter(i=>!da(i,r));return{arrayValue:{values:n}}}class Kh extends q1{constructor(e,n){super(),this.serializer=e,this.gt=n}}function KL(t){return hr(t.integerValue||t.doubleValue)}function TV(t){return ag(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.field=e,this.transform=n}}function Uhe(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ju&&r instanceof ju||n instanceof zu&&r instanceof zu?Hh(n.elements,r.elements,da):n instanceof Kh&&r instanceof Kh?da(n.gt,r.gt):n instanceof qh&&r instanceof qh}(t.transform,e.transform)}class Vhe{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class K1{}function CV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mf(t.key,Jn.none()):new Of(t.key,t.data,Jn.none());{const n=t.data,r=di.empty();let i=new Hn(Er.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new sl(t.key,r,new ss(i.toArray()),Jn.none())}}function jhe(t,e,n){t instanceof Of?function(r,i,s){const o=r.value.clone(),a=YL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof sl?function(r,i,s){if(!Cy(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=YL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(IV(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function fm(t,e,n,r){return t instanceof Of?function(i,s,o,a){if(!Cy(i.precondition,s))return o;const l=i.value.clone(),c=XL(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof sl?function(i,s,o,a){if(!Cy(i.precondition,s))return o;const l=XL(i.fieldTransforms,a,s),c=s.data;return c.setAll(IV(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(i,s,o){return Cy(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function zhe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=xV(r.transform,i||null);s!=null&&(n===null&&(n=di.empty()),n.set(r.field,s))}return n||null}function QL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Hh(n,r,(i,s)=>Uhe(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Of extends K1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sl extends K1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YL(t,e,n){const r=new Map;pt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$he(o,a,n[i]))}return r}function XL(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Bhe(s,o,e))}return r}class Mf extends K1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HR extends K1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jhe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=CV(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ft.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Dt())}isEqual(e){return this.batchId===e.batchId&&Hh(this.mutations,e.mutations,(n,r)=>QL(n,r))&&Hh(this.baseMutations,e.baseMutations,(n,r)=>QL(n,r))}}class GR{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pt(e.mutations.length===r.length);let i=Ohe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new GR(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hhe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr,Zt;function NV(t){switch(t){default:return et();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function RV(t){if(t===void 0)return xr("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Cr.OK:return ce.OK;case Cr.CANCELLED:return ce.CANCELLED;case Cr.UNKNOWN:return ce.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return ce.INTERNAL;case Cr.UNAVAILABLE:return ce.UNAVAILABLE;case Cr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Cr.NOT_FOUND:return ce.NOT_FOUND;case Cr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Cr.ABORTED:return ce.ABORTED;case Cr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Cr.DATA_LOSS:return ce.DATA_LOSS;default:return et()}}(Zt=Cr||(Cr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Mv}static getOrCreateInstance(){return Mv===null&&(Mv=new KR),Mv}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Mv=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Whe=new wh([4294967295,4294967295],0);function JL(t){const e=AV().encode(t),n=new $de;return n.update(e),new Uint8Array(n.digest())}function ZL(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wh([n,r],0),new wh([i,s],0)]}class QR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gp(`Invalid padding: ${n}`);if(r<0)throw new Gp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gp(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=wh.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(wh.fromNumber(r)));return i.compare(Whe)===1&&(i=new wh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=JL(e),[r,i]=ZL(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new QR(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=JL(e),[r,i]=ZL(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,f0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new h0(ft.min(),i,new Pn(kt),os(),Dt())}}class f0{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new f0(r,n,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class kV{constructor(e,n){this.targetId=e,this.Vt=n}}class PV{constructor(e,n,r=$r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class eO{constructor(){this.St=0,this.Dt=nO(),this.Ct=$r.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Dt(),n=Dt(),r=Dt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:et()}}),new f0(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=nO()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Ghe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=os(),this.zt=tO(),this.Wt=new Pn(kt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:et()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Pw(o))if(i===0){const a=new He(o.path);this.Yt(r,a,Vn.newNoDocument(a,ft.min()))}else pt(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=KR.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,d){var p,v,g,_,R,E;const b={localCacheCount:u,existenceFilterCount:d.count},T=d.unchangedNames;return T&&(b.bloomFilter={applied:c===0,hashCount:(p=T==null?void 0:T.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(_=(g=(v=T==null?void 0:T.bits)===null||v===void 0?void 0:v.bitmap)===null||g===void 0?void 0:g.length)!==null&&_!==void 0?_:0,padding:(E=(R=T==null?void 0:T.bits)===null||R===void 0?void 0:R.padding)!==null&&E!==void 0?E:0}),b}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=oc(s).toUint8Array()}catch(u){if(u instanceof nV)return Po("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new QR(l,o,a)}catch(u){return Po(u instanceof Gp?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Pw(a.target)){const l=new He(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Vn.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Dt();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new h0(e,n,this.Wt,this.jt,r);return this.jt=os(),this.zt=tO(),this.Wt=new Pn(kt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new eO,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Hn(kt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new eO),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function tO(){return new Pn(He.comparator)}function nO(){return new Pn(He.comparator)}const qhe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Khe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Qhe=(()=>({and:"AND",or:"OR"}))();class Yhe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vC(t,e){return t.useProto3Json||a0(e)?e:{value:e}}function Qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xhe(t,e){return Qh(t,e.toTimestamp())}function Sr(t){return pt(!!t),ft.fromTimestamp(function(e){const n=sc(e);return new er(n.seconds,n.nanos)}(t))}function YR(t,e){return function(n){return new nn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function LV(t){const e=nn.fromString(t);return pt(zV(e)),e}function lg(t,e){return YR(t.databaseId,e.path)}function sa(t,e){const n=LV(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new He(MV(n))}function yC(t,e){return YR(t.databaseId,e)}function OV(t){const e=LV(t);return e.length===4?nn.emptyPath():MV(e)}function cg(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MV(t){return pt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rO(t,e,n){return{name:lg(t,e),fields:n.value.mapValue.fields}}function FV(t,e,n){const r=sa(t,e.name),i=Sr(e.updateTime),s=e.createTime?Sr(e.createTime):ft.min(),o=new di({mapValue:{fields:e.fields}}),a=Vn.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Jhe(t,e){return"found"in e?function(n,r){pt(!!r.found),r.found.name,r.found.updateTime;const i=sa(n,r.found.name),s=Sr(r.found.updateTime),o=r.found.createTime?Sr(r.found.createTime):ft.min(),a=new di({mapValue:{fields:r.found.fields}});return Vn.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){pt(!!r.missing),pt(!!r.readTime);const i=sa(n,r.missing),s=Sr(r.readTime);return Vn.newNoDocument(i,s)}(t,e):et()}function Zhe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:et()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(pt(c===void 0||typeof c=="string"),$r.fromBase64String(c||"")):(pt(c===void 0||c instanceof Uint8Array),$r.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?ce.UNKNOWN:RV(l.code);return new Se(c,l.message||"")}(o);n=new PV(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sa(t,r.document.name),s=Sr(r.document.updateTime),o=r.document.createTime?Sr(r.document.createTime):ft.min(),a=new di({mapValue:{fields:r.document.fields}}),l=Vn.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Iy(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sa(t,r.document),s=r.readTime?Sr(r.readTime):ft.min(),o=Vn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Iy([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sa(t,r.document),s=r.removedTargetIds||[];n=new Iy([],s,i,null)}else{if(!("filter"in e))return et();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Hhe(i,s),a=r.targetId;n=new kV(a,o)}}return n}function ug(t,e){let n;if(e instanceof Of)n={update:rO(t,e.key,e.value)};else if(e instanceof Mf)n={delete:lg(t,e.key)};else if(e instanceof sl)n={update:rO(t,e.key,e.data),updateMask:sfe(e.fieldMask)};else{if(!(e instanceof HR))return et();n={verify:lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof qh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ju)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof zu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Kh)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw et()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Xhe(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:et()}(t,e.precondition)),n}function wC(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Jn.updateTime(Sr(i.updateTime)):i.exists!==void 0?Jn.exists(i.exists):Jn.none()}(e.currentDocument):Jn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)pt(o.setToServerValue==="REQUEST_TIME"),a=new qh;else if("appendMissingElements"in o){const c=o.appendMissingElements.values||[];a=new ju(c)}else if("removeAllFromArray"in o){const c=o.removeAllFromArray.values||[];a=new zu(c)}else"increment"in o?a=new Kh(s,o.increment):et();const l=Er.fromServerFormat(o.fieldPath);return new d0(l,a)}(t,i)):[];if(e.update){e.update.name;const i=sa(t,e.update.name),s=new di({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new ss(l.map(c=>Er.fromServerFormat(c)))}(e.updateMask);return new sl(i,s,o,n,r)}return new Of(i,s,n,r)}if(e.delete){const i=sa(t,e.delete);return new Mf(i,n)}if(e.verify){const i=sa(t,e.verify);return new HR(i,n)}return et()}function efe(t,e){return t&&t.length>0?(pt(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Sr(r.updateTime):Sr(i);return s.isEqual(ft.min())&&(s=Sr(i)),new Vhe(s,r.transformResults||[])}(n,e))):[]}function BV(t,e){return{documents:[yC(t,e.path)]}}function $V(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=yC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yC(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return jV(fn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:$d(u.field),direction:nfe(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=vC(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function UV(t){let e=OV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const d=VV(u);return d instanceof fn&&UR(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(d){return new _h(Ud(d.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,a0(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(u){const d=!!u.before,p=u.values||[];return new cc(p,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,p=u.values||[];return new cc(p,d)}(n.endAt)),hV(e,i,o,s,a,"F",l,c)}function tfe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VV(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ud(e.unaryFilter.field);return qt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ud(e.unaryFilter.field);return qt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ud(e.unaryFilter.field);return qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ud(e.unaryFilter.field);return qt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return et()}}(t):t.fieldFilter!==void 0?function(e){return qt.create(Ud(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return fn.create(e.compositeFilter.filters.map(n=>VV(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return et()}}(e.compositeFilter.op))}(t):et()}function nfe(t){return qhe[t]}function rfe(t){return Khe[t]}function ife(t){return Qhe[t]}function $d(t){return{fieldPath:t.canonicalString()}}function Ud(t){return Er.fromServerFormat(t.fieldPath)}function jV(t){return t instanceof qt?function(e){if(e.op==="=="){if(UL(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NAN"}};if($L(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(UL(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NOT_NAN"}};if($L(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$d(e.field),op:rfe(e.op),value:e.value}}}(t):t instanceof fn?function(e){const n=e.getFilters().map(r=>jV(r));return n.length===1?n[0]:{compositeFilter:{op:ife(e.op),filters:n}}}(t):et()}function sfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r,i,s=ft.min(),o=ft.min(),a=$r.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.fe=e}}function ofe(t,e){let n;if(e.document)n=FV(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),i=Wu(e.noDocument.readTime);n=Vn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return et();{const r=He.fromSegments(e.unknownDocument.path),i=Wu(e.unknownDocument.version);n=Vn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new er(r[0],r[1]);return ft.fromTimestamp(i)}(e.readTime)),n}function iO(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ow(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:lg(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Qh(i,s.version.toTimestamp()),createTime:Qh(i,s.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Hu(e.version)};else{if(!e.isUnknownDocument())return et();r.unknownDocument={path:n.path.toArray(),version:Hu(e.version)}}return r}function Ow(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wu(t){const e=new er(t.seconds,t.nanoseconds);return ft.fromTimestamp(e)}function nu(t,e){const n=(e.baseMutations||[]).map(s=>wC(t.fe,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>wC(t.fe,s)),i=er.fromMillis(e.localWriteTimeMs);return new WR(e.batchId,i,n,r)}function qp(t){const e=Wu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Wu(t.lastLimboFreeSnapshotVersion):ft.min();let r;var i;return t.query.documents!==void 0?(pt((i=t.query).documents.length===1),r=fs(Lf(OV(i.documents[0])))):r=function(s){return fs(UV(s))}(t.query),new Da(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,$r.fromBase64String(t.resumeToken))}function WV(t,e){const n=Hu(e.snapshotVersion),r=Hu(e.lastLimboFreeSnapshotVersion);let i;i=Pw(e.target)?BV(t.fe,e.target):$V(t.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function XR(t){const e=UV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lw(e,e.limit,"L"):e}function DE(t,e){return new qR(e.largestBatchId,wC(t.fe,e.overlayMutation))}function sO(t,e){const n=e.path.lastSegment();return[t,Ui(e.path.popLast()),n]}function oO(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Hu(r.readTime),documentKey:Ui(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class afe{getBundleMetadata(e,n){return aO(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Wu(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return aO(e).put({bundleId:(r=n).id,createTime:Hu(Sr(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return lO(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:XR(i.bundledQuery),readTime:Wu(i.readTime)};var i})}saveNamedQuery(e,n){return lO(e).put(function(r){return{name:r.name,readTime:Hu(Sr(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function aO(t){return ri(t,"bundles")}function lO(t){return ri(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){const r=n.uid||"";return new Q1(e,r)}getOverlay(e,n){return _p(e).get(sO(this.userId,n)).next(r=>r?DE(this.serializer,r):null)}getOverlays(e,n){const r=ea();return ae.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new qR(n,o);i.push(this.we(e,a))}),ae.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Ui(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(_p(e).J("collectionPathOverlayIndex",a))}),ae.waitFor(s)}getOverlaysForCollection(e,n,r){const i=ea(),s=Ui(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return _p(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=DE(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=ea();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return _p(e).X({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=DE(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}we(e,n){return _p(e).put(function(r,i,s){const[o,a,l]=sO(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ug(r.fe,s.mutation)}}(this.serializer,this.userId,n))}}function _p(t){return ri(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(hr(e.integerValue));else if("doubleValue"in e){const r=hr(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),ig(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),typeof r=="string"?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(oc(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?rV(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):et()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),He.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ru.Ve=new ru;function lfe(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function cO(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=lfe(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class cfe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=n.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=n.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const n=this.Fe(e),r=cO(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Le(e){const n=this.Fe(e),r=cO(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}De(e){const n=255&e;n===0?(this.Ue(0),this.Ue(255)):n===255?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;n===0?(this.Ge(0),this.Ge(255)):n===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ufe{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class dfe{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class bp{constructor(){this.je=new cfe,this.ze=new ufe(this.je),this.We=new dfe(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new iu(this.indexId,this.documentKey,this.arrayValue,r)}}function ml(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=uO(t.arrayValue,e.arrayValue),n!==0?n:(n=uO(t.directionalValue,e.directionalValue),n!==0?n:He.comparator(t.documentKey,e.documentKey)))}function uO(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){pt(e.collectionGroup===this.collectionId);const n=lC(e);if(n!==void 0&&!this.en(n))return!1;const r=Jc(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.en(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Ze!==void 0){if(!i.has(this.Ze.field.canonicalString())){const a=r[s];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[o++],a))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Ye.length||!this.sn(this.Ye[o++],a))return!1}return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){var e,n;if(pt(t instanceof qt||t instanceof fn),t instanceof qt){if(t instanceof dV){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>qt.create(t.field,"==",s)))||[];return fn.create(i,"or")}return t}const r=t.filters.map(i=>GV(i));return fn.create(r,t.op)}function ffe(t){if(t.getFilters().length===0)return[];const e=xC(GV(t));return pt(qV(e)),_C(e)||bC(e)?[e]:e.getFilters()}function _C(t){return t instanceof qt}function bC(t){return t instanceof fn&&UR(t)}function qV(t){return _C(t)||bC(t)||function(e){if(e instanceof fn&&hC(e)){for(const n of e.getFilters())if(!_C(n)&&!bC(n))return!1;return!0}return!1}(t)}function xC(t){if(pt(t instanceof qt||t instanceof fn),t instanceof qt)return t;if(t.filters.length===1)return xC(t.filters[0]);const e=t.filters.map(r=>xC(r));let n=fn.create(e,t.op);return n=Mw(n),qV(n)?n:(pt(n instanceof fn),pt(Gh(n)),pt(n.filters.length>1),n.filters.reduce((r,i)=>JR(r,i)))}function JR(t,e){let n;return pt(t instanceof qt||t instanceof fn),pt(e instanceof qt||e instanceof fn),n=t instanceof qt?e instanceof qt?function(r,i){return fn.create([r,i],"and")}(t,e):dO(t,e):e instanceof qt?dO(e,t):function(r,i){if(pt(r.filters.length>0&&i.filters.length>0),Gh(r)&&Gh(i))return lV(r,i.getFilters());const s=hC(r)?r:i,o=hC(r)?i:r,a=s.filters.map(l=>JR(l,o));return fn.create(a,"or")}(t,e),Mw(n)}function dO(t,e){if(Gh(e))return lV(e,t.getFilters());{const n=e.filters.map(r=>JR(t,r));return fn.create(n,"or")}}function Mw(t){if(pt(t instanceof qt||t instanceof fn),t instanceof qt)return t;const e=t.getFilters();if(e.length===1)return Mw(e[0]);if(oV(t))return t;const n=e.map(i=>Mw(i)),r=[];return n.forEach(i=>{i instanceof qt?r.push(i):i instanceof fn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:fn.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(){this.rn=new ZR}addToCollectionParentIndex(e,n){return this.rn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(ks.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class ZR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Hn(nn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Hn(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Uint8Array(0);class mfe{constructor(e,n){this.user=e,this.databaseId=n,this.on=new ZR,this.un=new Pc(r=>Vu(r),(r,i)=>l0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const s={collectionId:r,parent:Ui(i)};return hO(e).put(s)}return ae.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[H6(n),""],!1,!0);return hO(e).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Zo(o.parent))}return r})}addFieldIndex(e,n){const r=Bv(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Ep(e);return s.next(a=>{o.put(oO(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Bv(e),i=Ep(e),s=xp(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=xp(e);let i=!0;const s=new Map;return ae.forEach(this.cn(n),o=>this.an(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Dt();const a=[];return ae.forEach(s,(l,c)=>{var u;Re("IndexedDbIndexManager",`Using index ${u=l,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(T=>`${T.fieldPath}:${T.kind}`).join(",")}`} to execute ${Vu(n)}`);const d=function(T,I){const D=lC(I);if(D===void 0)return null;for(const M of Dw(T,D.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(c,l),p=function(T,I){const D=new Map;for(const M of Jc(I))for(const $ of Dw(T,M.fieldPath))switch($.op){case"==":case"in":D.set(M.fieldPath.canonicalString(),$.value);break;case"not-in":case"!=":return D.set(M.fieldPath.canonicalString(),$.value),Array.from(D.values())}return null}(c,l),v=function(T,I){const D=[];let M=!0;for(const $ of Jc(I)){const C=$.kind===0?WL(T,$.fieldPath,T.startAt):GL(T,$.fieldPath,T.startAt);D.push(C.value),M&&(M=C.inclusive)}return new cc(D,M)}(c,l),g=function(T,I){const D=[];let M=!0;for(const $ of Jc(I)){const C=$.kind===0?GL(T,$.fieldPath,T.endAt):WL(T,$.fieldPath,T.endAt);D.push(C.value),M&&(M=C.inclusive)}return new cc(D,M)}(c,l),_=this.hn(l,c,v),R=this.hn(l,c,g),E=this.ln(l,c,p),b=this.fn(l.indexId,d,_,v.inclusive,R,g.inclusive,E);return ae.forEach(b,T=>r.H(T,n.limit).next(I=>{I.forEach(D=>{const M=He.fromSegments(D.documentKey);o.has(M)||(o=o.add(M),a.push(M))})}))}).next(()=>a)}return ae.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=ffe(fn.create(e.filters,"and")).map(r=>pC(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const p=n?this.dn(n[d/c]):Fv,v=this.wn(e,p,r[d%c],i),g=this._n(e,p,s[d%c],o),_=a.map(R=>this.wn(e,p,R,!0));u.push(...this.createRange(v,g,_))}return u}wn(e,n,r,i){const s=new iu(e,He.empty(),n,r);return i?s:s.Je()}_n(e,n,r,i){const s=new iu(e,He.empty(),n,r);return i?s.Je():s}an(e,n){const r=new hfe(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return ae.forEach(i,s=>this.an(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new Hn(Er.comparator),c=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?c=!0:l=l.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(l=l.add(u.field));return l.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}mn(e,n){const r=new bp;for(const i of Jc(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.He(i.kind);ru.Ve._e(s,o)}return r.Qe()}dn(e){const n=new bp;return ru.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new bp;return ru.Ve._e(Uu(this.databaseId,n),r.He(function(i){const s=Jc(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(r===null)return[];let i=[];i.push(new bp);let s=0;for(const o of Jc(e)){const a=r[s++];for(const l of i)if(this.yn(n,o.fieldPath)&&ag(a))i=this.pn(i,o,a);else{const c=l.He(o.kind);ru.Ve._e(a,c)}}return this.In(i)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new bp;l.seed(a.Qe()),ru.Ve._e(o,l.He(n.kind)),s.push(l)}return s}yn(e,n){return!!e.filters.find(r=>r instanceof qt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Bv(e),i=Ep(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return ae.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,u){const d=u?new kw(u.sequenceNumber,new ks(Wu(u.readTime),new He(Zo(u.documentKey)),u.largestBatchId)):kw.empty(),p=c.fields.map(([v,g])=>new Xde(Er.fromServerFormat(v),g));return new W6(c.indexId,c.collectionGroup,p,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:kt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Bv(e),s=Ep(e);return this.Tn(e).next(o=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>ae.forEach(a,l=>s.put(oO(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return ae.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?ae.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),ae.forEach(a,l=>this.En(e,i,l).next(c=>{const u=this.An(s,l);return c.isEqual(u)?ae.resolve():this.vn(e,s,l,c,u)}))))})}Rn(e,n,r,i){return xp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,i){return xp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const i=xp(e);let s=new Hn(ml);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(o,a)=>{s=s.add(new iu(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}An(e,n){let r=new Hn(ml);const i=this.mn(n,e);if(i==null)return r;const s=lC(n);if(s!=null){const o=e.data.field(s.fieldPath);if(ag(o))for(const a of o.arrayValue.values||[])r=r.add(new iu(n.indexId,e.key,this.dn(a),i))}else r=r.add(new iu(n.indexId,e.key,Fv,i));return r}vn(e,n,r,i,s){Re("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,c,u,d){const p=a.getIterator(),v=l.getIterator();let g=Ad(p),_=Ad(v);for(;g||_;){let R=!1,E=!1;if(g&&_){const b=c(g,_);b<0?E=!0:b>0&&(R=!0)}else g!=null?E=!0:R=!0;R?(u(_),_=Ad(v)):E?(d(g),g=Ad(p)):(g=Ad(p),_=Ad(v))}}(i,s,ml,a=>{o.push(this.Rn(e,n,r,a))},a=>{o.push(this.Pn(e,n,r,a))}),ae.waitFor(o)}Tn(e){let n=1;return Ep(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>ml(o,a)).filter((o,a,l)=>!a||ml(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=ml(o,e),l=ml(o,n);if(a===0)i[0]=e.Je();else if(a>0&&l<0)i.push(o),i.push(o.Je());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Fv,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Fv,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return ml(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(fO)}getMinOffset(e,n){return ae.mapArray(this.cn(n),r=>this.an(e,r).next(i=>i||et())).next(fO)}}function hO(t){return ri(t,"collectionParents")}function xp(t){return ri(t,"indexEntries")}function Bv(t){return ri(t,"indexConfiguration")}function Ep(t){return ri(t,"indexState")}function fO(t){pt(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;FR(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ks(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xi(e,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(u,d,p)=>(a++,p.delete()));s.push(l.next(()=>{pt(a===1)}));const c=[];for(const u of n.mutations){const d=X6(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return ae.waitFor(s).next(()=>c)}function Fw(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw et();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(41943040,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);class Y1{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,n,r,i){pt(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Y1(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gl(e).X({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Vd(e),o=gl(e);return o.add({}).next(a=>{pt(typeof a=="number");const l=new WR(a,n,r,i),c=function(p,v,g){const _=g.baseMutations.map(E=>ug(p.fe,E)),R=g.mutations.map(E=>ug(p.fe,E));return{userId:v,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:_,mutations:R}}(this.serializer,this.userId,l),u=[];let d=new Hn((p,v)=>kt(p.canonicalString(),v.canonicalString()));for(const p of i){const v=X6(this.userId,p.key.path,a);d=d.add(p.key.path.popLast()),u.push(o.put(c)),u.push(s.put(v,rhe))}return d.forEach(p=>{u.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Vn[a]=l.keys()}),ae.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return gl(e).get(n).next(r=>r?(pt(r.userId===this.userId),nu(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?ae.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return gl(e).X({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(pt(a.batchId>=r),s=nu(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return gl(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gl(e).j("userMutationsIndex",n).next(r=>r.map(i=>nu(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Ey(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Vd(e).X({range:i},(o,a,l)=>{const[c,u,d]=o,p=Zo(u);if(c===this.userId&&n.path.isEqual(p))return gl(e).get(d).next(v=>{if(!v)throw et();pt(v.userId===this.userId),s.push(nu(this.serializer,v))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Hn(kt);const i=[];return n.forEach(s=>{const o=Ey(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Vd(e).X({range:a},(c,u,d)=>{const[p,v,g]=c,_=Zo(v);p===this.userId&&s.path.isEqual(_)?r=r.add(g):d.done()});i.push(l)}),ae.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Ey(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Hn(kt);return Vd(e).X({range:o},(l,c,u)=>{const[d,p,v]=l,g=Zo(p);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(v)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(gl(e).get(s).next(o=>{if(o===null)throw et();pt(o.userId===this.userId),r.push(nu(this.serializer,o))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return KV(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Vd(e).X({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Zo(s[1]);i.push(l)}else a.done()}).next(()=>{pt(i.length===0)})})}containsKey(e,n){return QV(e,this.userId,n)}xn(e){return YV(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function QV(t,e,n){const r=Ey(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Vd(t).X({range:s,Y:!0},(a,l,c)=>{const[u,d,p]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function gl(t){return ri(t,"mutations")}function Vd(t){return ri(t,"documentMutations")}function YV(t){return ri(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Gu(0)}static Mn(){return new Gu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gfe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new Gu(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>ft.fromTimestamp(new er(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.On(e,i)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>kd(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(pt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return kd(e).X((o,a)=>{const l=qp(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>ae.waitFor(s)).next(()=>i)}forEachTarget(e,n){return kd(e).X((r,i)=>{const s=qp(i);n(s)})}$n(e){return mO(e).get("targetGlobalKey").next(n=>(pt(n!==null),n))}On(e,n){return mO(e).put("targetGlobalKey",n)}Fn(e,n){return kd(e).put(WV(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Vu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return kd(e).X({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=qp(a);l0(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Sl(e);return n.forEach(o=>{const a=Ui(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),ae.waitFor(i)}removeMatchingKeys(e,n,r){const i=Sl(e);return ae.forEach(n,s=>{const o=Ui(s.path);return ae.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Sl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Sl(e);let s=Dt();return i.X({range:r,Y:!0},(o,a,l)=>{const c=Zo(o[1]),u=new He(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=Ui(n.path),i=IDBKeyRange.bound([r],[H6(r)],!1,!0);let s=0;return Sl(e).X({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}le(e,n){return kd(e).get(n).next(r=>r?qp(r):null)}}function kd(t){return ri(t,"targets")}function mO(t){return ri(t,"targetGlobal")}function Sl(t){return ri(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO([t,e],[n,r]){const i=kt(t,n);return i===0?kt(e,r):i}class vfe{constructor(e){this.Ln=e,this.buffer=new Hn(gO),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yfe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kc(n)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ac(n)}await this.Qn(3e5)})}}class wfe{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(is.ct);const r=new vfe(n);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(pO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pO):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),aC()<=Xt.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function _fe(t,e){return new wfe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe{constructor(e,n){this.db=e,this.garbageCollector=_fe(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,i)=>n(i))}addReference(e,n,r){return $v(e,r)}removeReference(e,n,r){return $v(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return $v(e,n)}Xn(e,n){return function(r,i){let s=!1;return YV(r).Z(o=>QV(r,o,i).next(a=>(a&&(s=!0),ae.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ft.min()),Sl(e).delete([0,Ui(o.path)])))});i.push(l)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return $v(e,n)}Yn(e,n){const r=Sl(e);let i,s=is.ct;return r.X({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==is.ct&&n(new He(Zo(i)),s),s=c,i=l):s=is.ct}).next(()=>{s!==is.ct&&n(new He(Zo(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $v(t,e){return Sl(t).put(function(n,r){return{targetId:0,path:Ui(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.changes=new Pc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Gc(e).put(r)}removeEntry(e,n,r){return Gc(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Ow(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=Vn.newInvalidDocument(n);return Gc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Sp(n))},(i,s)=>{r=this.ts(n,s)}).next(()=>r)}es(e,n){let r={size:0,document:Vn.newInvalidDocument(n)};return Gc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Sp(n))},(i,s)=>{r={document:this.ts(n,s),size:Fw(s)}}).next(()=>r)}getEntries(e,n){let r=os();return this.ns(e,n,(i,s)=>{const o=this.ts(i,s);r=r.insert(i,o)}).next(()=>r)}ss(e,n){let r=os(),i=new Pn(He.comparator);return this.ns(e,n,(s,o)=>{const a=this.ts(s,o);r=r.insert(s,a),i=i.insert(s,Fw(o))}).next(()=>({documents:r,rs:i}))}ns(e,n,r){if(n.isEmpty())return ae.resolve();let i=new Hn(wO);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Sp(i.first()),Sp(i.last())),o=i.getIterator();let a=o.getNext();return Gc(e).X({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=He.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&wO(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.G(Sp(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Ow(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gc(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let c=os();for(const u of l){const d=this.ts(He.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(u0(n,d)||i.has(d.key))&&(c=c.insert(d.key,d))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=os();const o=yO(n,r),a=yO(n,ks.max());return Gc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.ts(He.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new Efe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return vO(e).get("remoteDocumentGlobalKey").next(n=>(pt(!!n),n))}Zn(e,n){return vO(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=ofe(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ft.min())))return r}return Vn.newInvalidDocument(e)}}function JV(t){return new xfe(t)}class Efe extends XV{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new Pc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Hn((s,o)=>kt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.us.get(s);if(n.push(this.os.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=iO(this.os.serializer,o);i=i.add(s.path.popLast());const c=Fw(l);r+=c-a.size,n.push(this.os.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=iO(this.os.serializer,o.convertToNoDocument(ft.min()));n.push(this.os.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.os.updateMetadata(e,r)),ae.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:i})=>(i.forEach((s,o)=>{this.us.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function vO(t){return ri(t,"remoteDocumentGlobal")}function Gc(t){return ri(t,"remoteDocumentsV14")}function Sp(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yO(t,e){const n=e.documentKey.path.toArray();return[t,Ow(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function wO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=kt(n[s],r[s]),i)return i;return i=kt(n.length,r.length),i||(i=kt(n[n.length-2],r[r.length-2]),i||kt(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fm(r.mutation,i,ss.empty(),er.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Dt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Dt()){const i=ea();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ea();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Dt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=os();const o=hm(),a=hm();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof sl)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),fm(u.mutation,c,u.mutation.getFieldMask(),er.now())):o.set(c.key,ss.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Sfe(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hm();let i=new Pn((o,a)=>o-a),s=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ss.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Dt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=yV();u.forEach(p=>{if(!s.has(p)){const v=CV(n.get(p),r.get(p));v!==null&&d.set(p,v),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return ae.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return He.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ae.resolve(ea());let a=-1,l=s;return o.next(c=>ae.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?ae.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Dt())).next(u=>({batchId:a,changes:vV(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new He(n)).next(r=>{let i=Wp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Wp();return this.indexManager.getCollectionParents(e,i).next(o=>ae.forEach(o,a=>{const l=function(c,u){return new il(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Vn.newInvalidDocument(c)))});let o=Wp();return s.forEach((a,l)=>{const c=i.get(a);c!==void 0&&fm(c.mutation,l,ss.empty(),er.now()),u0(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return ae.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Sr(r.createTime)}),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:XR(r.bundledQuery),readTime:Sr(r.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe{constructor(){this.overlays=new Pn(He.comparator),this.ls=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ea();return ae.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const i=ea(),s=n.length+1,o=new He(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=ea(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ea(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ae.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qR(n,r));let s=this.ls.get(n);s===void 0&&(s=Dt(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.fs=new Hn(Hr.ds),this.ws=new Hn(Hr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Hr(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Hr(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new He(new nn([])),r=new Hr(n,e),i=new Hr(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new He(new nn([])),r=new Hr(n,e),i=new Hr(n,e+1);let s=Dt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Hr(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hr{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return He.comparator(e.key,n.key)||kt(e.As,n.As)}static _s(e,n){return kt(e.As,n.As)||He.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ife{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Hn(Hr.ds)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new WR(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Hr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ae.resolve(o)}lookupMutationBatch(e,n){return ae.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hr(n,0),i=new Hr(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Hn(kt);return n.forEach(i=>{const s=new Hr(i,0),o=new Hr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),ae.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;He.isDocumentKey(s)||(s=s.child(""));const o=new Hr(new He(s),0);let a=new Hn(kt);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),ae.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pt(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return ae.forEach(n.mutations,i=>{const s=new Hr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Hr(n,0),i=this.Rs.firstAfterOrEqual(r);return ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nfe{constructor(e){this.Ds=e,this.docs=new Pn(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vn.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=os();const o=n.path,a=new He(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||FR(q6(u),r)<=0||(i.has(u.key)||u0(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ae.resolve(s)}getAllFromCollectionGroup(e,n,r,i){et()}Cs(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rfe(this)}getSize(e){return ae.resolve(this.size)}}class Rfe extends XV{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{constructor(e){this.persistence=e,this.xs=new Pc(n=>Vu(n),l0),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Ns=0,this.ks=new e2,this.targetCount=0,this.Ms=Gu.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),ae.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Gu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Fn(n),ae.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ae.waitFor(s).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ae.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n){this.$s={},this.overlays={},this.Os=new is(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Afe(this),this.indexManager=new pfe,this.remoteDocumentCache=function(r){return new Nfe(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new HV(n),this.qs=new Tfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cfe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Ife(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const i=new kfe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return ae.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class kfe extends Q6{constructor(e){super(),this.currentSequenceNumber=e}}class X1{constructor(e){this.persistence=e,this.Qs=new e2,this.js=null}static zs(e){return new X1(e)}get Ws(){if(this.js)return this.js;throw et()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,r=>{const i=He.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ft.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return ae.or([()=>ae.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pfe{constructor(e){this.serializer=e}O(e,n,r,i){const s=new H1("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OL,{unique:!0}),a.createObjectStore("documentMutations")}(e),_O(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=ae.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),_O(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ft.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OL,{unique:!0});const u=l.store("mutations"),d=c.map(p=>u.put(p));return ae.waitFor(d)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Ys(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),r<7&&i>=7&&(o=o.next(()=>this.Zs(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ei(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:mhe});l.createIndex("collectionPathOverlayIndex",ghe,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",vhe,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:ihe});l.createIndex("documentKeyIndex",she),l.createIndex("collectionGroupIndex",ohe)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:dhe}).createIndex("sequenceNumberIndex",hhe,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:fhe}).createIndex("documentKeyIndex",phe,{unique:!1})}(e))),o}Xs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=Fw(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>ae.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",o).next(a=>ae.forEach(a,l=>{pt(l.userId===s.userId);const c=nu(this.serializer,l);return KV(e,s.userId,c).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((o,a)=>{const l=new nn(o),c=function(u){return[0,Ui(u)]}(l);s.push(n.get(c).next(u=>u?ae.resolve():(d=>n.put({targetId:0,path:Ui(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>ae.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:uhe});const r=n.store("collectionParents"),i=new ZR,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Ui(l)})}};return n.store("remoteDocuments").X({Y:!0},(o,a)=>{const l=new nn(o);return s(l.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([o,a,l],c)=>{const u=Zo(a);return s(u.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,i)=>{const s=qp(i),o=WV(this.serializer,s);return n.put(o)})}ni(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(c=o,c.document?new He(nn.fromString(c.document.name).popFirst(5)):c.noDocument?He.fromSegments(c.noDocument.path):c.unknownDocument?He.fromSegments(c.unknownDocument.path):et()).path.toArray();var c;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>ae.waitFor(i))}si(e,n){const r=n.store("mutations"),i=JV(this.serializer),s=new e9(X1.zs,this.serializer.fe);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:Dt();nu(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),ae.forEach(a,(l,c)=>{const u=new qr(c),d=Q1.de(this.serializer,u),p=s.getIndexManager(u),v=Y1.de(u,this.serializer,p,s.referenceDelegate);return new ZV(i,v,d,p).recalculateAndSaveOverlaysForDocumentKeys(new cC(n,is.ct),l).next()})})}}function _O(t){t.createObjectStore("targetDocuments",{keyPath:lhe}).createIndex("documentTargetsIndex",che,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ahe,{unique:!0}),t.createObjectStore("targetGlobal")}const LE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class t2{constructor(e,n,r,i,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=s,this.window=o,this.document=a,this.ri=c,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=p=>Promise.resolve(),!t2.D())throw new Se(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bfe(this,i),this.di=n+"main",this.serializer=new HV(l),this.wi=new bo(this.di,this.ui,new Pfe(this.serializer)),this.Bs=new gfe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=JV(this.serializer),this.qs=new afe,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,u===!1&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(ce.FAILED_PRECONDITION,LE);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new is(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Uv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(kc(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Tp(e).get("owner").next(n=>ae.resolve(this.Ri(n)))}Pi(e){return Uv(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=ri(n,"clientMetadata");return r.j().next(i=>{const s=this.Si(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return ae.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this._i)for(const n of e)this._i.removeItem(this.Di(n.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ae.resolve(!0):Tp(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Se(ce.FAILED_PRECONDITION,LE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uv(e).j().next(r=>this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Re("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new cC(e,is.ct);return this.Ai(n).next(()=>this.Pi(n))}),this.wi.close(),this.Mi()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Uv(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return Y1.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mfe(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Q1.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){Re("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.ui)===15?whe:o===14?eV:o===13?Z6:o===12?yhe:o===11?J6:void et();var o;let a;return this.wi.runTransaction(e,i,s,l=>(a=new cC(l,this.Os?this.Os.next():is.ct),n==="readwrite-primary"?this.Ti(a).next(c=>!!c||this.Ei(a)).next(c=>{if(!c)throw xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Se(ce.FAILED_PRECONDITION,K6);return r(a)}).next(c=>this.vi(a).next(()=>c)):this.Oi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Oi(e){return Tp(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Se(ce.FAILED_PRECONDITION,LE)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tp(e).put("owner",n)}static D(){return bo.D()}Ai(e){const n=Tp(e);return n.get("owner").next(r=>this.Ri(r)?(Re("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ae.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(xr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;pse()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Di(e)))!==null;return Re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){xr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tp(t){return ri(t,"owner")}function Uv(t){return ri(t,"clientMetadata")}function n2(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Dt(),i=Dt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new r2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(qL(n))return ae.resolve(null);let r=fs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lw(n,null,"F"),r=fs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Dt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Lw(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,i){return qL(n)||i.isEqual(ft.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(aC()<=Xt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gC(n)),this.Wi(e,o,n,G6(i,-1)))})}ji(e,n){let r=new Hn(mV(e));return n.forEach((i,s)=>{u0(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return aC()<=Xt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",gC(n)),this.Ui.getDocumentsMatchingQuery(e,n,ks.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dfe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Pn(kt),this.Yi=new Pc(s=>Vu(s),l0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZV(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function n9(t,e,n,r){return new Dfe(t,e,n,r)}async function r9(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Dt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function Lfe(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let p=ae.resolve();return d.forEach(v=>{p=p.next(()=>c.getEntry(a,v)).next(g=>{const _=l.docVersions.get(v);pt(_!==null),g.version.compareTo(_)<0&&(u.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Dt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function i9(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Ofe(t,e){const n=Ke(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const p=i.get(d);if(!p)return;a.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,d)));let v=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?v=v.withResumeToken($r.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):u.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(u.resumeToken,r)),i=i.insert(d,v),function(g,_,R){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(p,v,u)&&a.push(n.Bs.updateTargetData(s,v))});let l=os(),c=Dt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(s9(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(ft.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ae.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=i,s))}function s9(t,e,n){let r=Dt(),i=Dt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=os();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ft.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}function Mfe(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yh(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,ae.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Da(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Xh(t,e,n){const r=Ke(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!kc(o))throw o;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Bw(t,e,n){const r=Ke(t);let i=ft.min(),s=Dt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=Ke(a),d=u.Yi.get(c);return d!==void 0?ae.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(r,o,fs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ft.min(),n?s:Dt())).next(a=>(l9(r,pV(e),a),{documents:a,ir:s})))}function o9(t,e){const n=Ke(t),r=Ke(n.Bs),i=n.Ji.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.le(s,e).next(o=>o?o.target:null))}function a9(t,e){const n=Ke(t),r=n.Xi.get(e)||ft.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Zi.getAllFromCollectionGroup(i,e,G6(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(l9(n,e,i),i))}function l9(t,e,n){let r=t.Xi.get(e)||ft.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}async function Ffe(t,e,n,r){const i=Ke(t);let s=Dt(),o=os();for(const c of n){const u=e.rr(c.metadata.name);c.document&&(s=s.add(u));const d=e.ur(c);d.setReadTime(e.cr(c.metadata.readTime)),o=o.insert(u,d)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await Yh(i,function(c){return fs(Lf(nn.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>s9(c,a,o).next(u=>(a.apply(c),u)).next(u=>i.Bs.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Bs.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,u.nr,u.sr)).next(()=>u.nr)))}async function Bfe(t,e,n=Dt()){const r=await Yh(t,fs(XR(e.bundledQuery))),i=Ke(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Sr(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(s,e);const a=r.withResumeToken($r.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(s,a).next(()=>i.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Bs.addMatchingKeys(s,n,r.targetId)).next(()=>i.qs.saveNamedQuery(s,e))})}function bO(t,e){return`firestore_clients_${t}_${e}`}function xO(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function OE(t,e){return`firestore_targets_${t}_${e}`}class $w{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static ar(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new Se(i.error.code,i.error.message))),o?new $w(e,n,i.state,s):(xr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pm{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Se(r.error.code,r.error.message))),s?new pm(e,r.state,i):(xr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uw{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=zR();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=Y6(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Uw(e,s):(xr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class i2{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new i2(n.clientId,n.onlineState):(xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class EC{constructor(){this.activeTargetIds=zR()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ME{constructor(e,n,r,i,s){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Pn(kt),this.started=!1,this.yr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=bO(this.persistenceKey,this.wr),this.Ir=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new EC),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.Rr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.wr)continue;const i=this.getItem(bO(this.persistenceKey,r));if(i){const s=Uw.ar(r,i);s&&(this.gr=this.gr.insert(s.clientId,s))}}this.Pr();const n=this.storage.getItem(this.vr);if(n){const r=this.br(n);r&&this.Vr(r)}for(const r of this.yr)this.mr(r);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(OE(this.persistenceKey,e));if(r){const i=pm.ar(e,r);i&&(n=i.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(OE(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Re("SharedClientState","READ",e,n),n}setItem(e,n){Re("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const n=e;if(n.storageArea===this.storage){if(Re("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Tr.test(n.key)){if(n.newValue==null){const r=this.Or(n.key);return this.Fr(r,null)}{const r=this.Br(n.key,n.newValue);if(r)return this.Fr(r.clientId,r)}}else if(this.Er.test(n.key)){if(n.newValue!==null){const r=this.Lr(n.key,n.newValue);if(r)return this.qr(r)}}else if(this.Ar.test(n.key)){if(n.newValue!==null){const r=this.Ur(n.key,n.newValue);if(r)return this.Kr(r)}}else if(n.key===this.vr){if(n.newValue!==null){const r=this.br(n.newValue);if(r)return this.Vr(r)}}else if(n.key===this.Ir){const r=function(i){let s=is.ct;if(i!=null)try{const o=JSON.parse(i);pt(typeof o=="number"),s=o}catch(o){xr("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==is.ct&&this.sequenceNumberHandler(r)}else if(n.key===this.Rr){const r=this.Gr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Qr(i)))}}}else this.yr.push(n)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const i=new $w(this.currentUser,e,n,r),s=xO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.hr())}Cr(e){const n=xO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){const n={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(n))}kr(e,n,r){const i=OE(this.persistenceKey,e),s=new pm(e,n,r);this.setItem(i,s.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return Uw.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return $w.ar(new qr(s),i,n)}Ur(e,n){const r=this.Ar.exec(e),i=Number(r[1]);return pm.ar(i,n)}br(e){return i2.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),i=this.Sr(this.gr),s=this.Sr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Wr(o,a).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=zR();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class c9{constructor(){this.Hr=new EC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new EC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vv=null;function FE(){return Vv===null?Vv=268435456+Math.round(2147483648*Math.random()):Vv++,"0x"+Vv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ufe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vfe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="WebChannelConnection";class jfe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=FE(),a=this.To(e,n);Re("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(Re("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Po("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Df,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=Ufe[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=FE();return new Promise((o,a)=>{const l=new Bde;l.setWithCredentials(!0),l.listenOnce(Ode.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case PE.NO_ERROR:const u=l.getResponseJson();Re(xi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case PE.TIMEOUT:Re(xi,`RPC '${e}' ${s} timed out`),a(new Se(ce.DEADLINE_EXCEEDED,"Request time out"));break;case PE.HTTP_ERROR:const d=l.getStatus();if(Re(xi,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const g=function(_){const R=_.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(R)>=0?R:ce.UNKNOWN}(v.status);a(new Se(g,v.message))}else a(new Se(ce.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Se(ce.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Re(xi,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Re(xi,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=FE(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dde(),a=Lde(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Fde({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Re(xi,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let p=!1,v=!1;const g=new Vfe({ro:R=>{v?Re(xi,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(Re(xi,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),Re(xi,`RPC '${e}' stream ${i} sending:`,R),d.send(R))},oo:()=>d.close()}),_=(R,E,b)=>{R.listen(E,T=>{try{b(T)}catch(I){setTimeout(()=>{throw I},0)}})};return _(d,Lv.EventType.OPEN,()=>{v||Re(xi,`RPC '${e}' stream ${i} transport opened.`)}),_(d,Lv.EventType.CLOSE,()=>{v||(v=!0,Re(xi,`RPC '${e}' stream ${i} transport closed`),g.wo())}),_(d,Lv.EventType.ERROR,R=>{v||(v=!0,Po(xi,`RPC '${e}' stream ${i} transport errored:`,R),g.wo(new Se(ce.UNAVAILABLE,"The operation could not be completed")))}),_(d,Lv.EventType.MESSAGE,R=>{var E;if(!v){const b=R.data[0];pt(!!b);const T=b,I=T.error||((E=T[0])===null||E===void 0?void 0:E.error);if(I){Re(xi,`RPC '${e}' stream ${i} received error:`,I);const D=I.status;let M=function(C){const k=Cr[C];if(k!==void 0)return RV(k)}(D),$=I.message;M===void 0&&(M=ce.INTERNAL,$="Unknown error status: "+D+" with message "+I.message),v=!0,g.wo(new Se(M,$)),d.close()}else Re(xi,`RPC '${e}' stream ${i} received:`,b),g._o(b)}}),_(a,Mde.STAT_EVENT,R=>{R.stat===kL.PROXY?Re(xi,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===kL.NOPROXY&&Re(xi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(){return typeof window<"u"?window:null}function Ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t){return new Yhe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new s2(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Se(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zfe extends d9{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=Zhe(this.serializer,e),r=function(i){if(!("targetChange"in i))return ft.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ft.min():s.readTime?Sr(s.readTime):ft.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=cg(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Pw(a)?{documents:BV(i,a)}:{query:$V(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=DV(i,s.resumeToken);const l=vC(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ft.min())>0){o.readTime=Qh(i,s.snapshotVersion.toTimestamp());const l=vC(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=tfe(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=cg(this.serializer),n.removeTarget=e,this.Wo(n)}}class Hfe extends d9{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=efe(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.cu(r,n)}return pt(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=cg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ug(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wfe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(ce.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(ce.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Gfe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(xr(n),this.mu=!1):Re("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qfe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Dc(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Ke(a);l.vu.add(4),await Ff(l),l.bu.set("Unknown"),l.vu.delete(4),await m0(l)}(this))})}),this.bu=new Gfe(r,i)}}async function m0(t){if(Dc(t))for(const e of t.Ru)await e(!0)}async function Ff(t){for(const e of t.Ru)await e(!1)}function J1(t,e){const n=Ke(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),l2(n)?a2(n):$f(n).Ko()&&o2(n,e))}function dg(t,e){const n=Ke(t),r=$f(n);n.Au.delete(e),r.Ko()&&h9(n,e),n.Au.size===0&&(r.Ko()?r.jo():Dc(n)&&n.bu.set("Unknown"))}function o2(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$f(t).su(e)}function h9(t,e){t.Vu.qt(e),$f(t).iu(e)}function a2(t){t.Vu=new Ghe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),$f(t).start(),t.bu.gu()}function l2(t){return Dc(t)&&!$f(t).Uo()&&t.Au.size>0}function Dc(t){return Ke(t).vu.size===0}function f9(t){t.Vu=void 0}async function Kfe(t){t.Au.forEach((e,n)=>{o2(t,e)})}async function Qfe(t,e){f9(t),l2(t)?(t.bu.Iu(e),a2(t)):t.bu.set("Unknown")}async function Yfe(t,e,n){if(t.bu.set("Online"),e instanceof PV&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vw(t,r)}else if(e instanceof Iy?t.Vu.Ht(e):e instanceof kV?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ft.min()))try{const r=await i9(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken($r.EMPTY_BYTE_STRING,c.snapshotVersion)),h9(i,a);const u=new Da(c.target,a,l,c.sequenceNumber);o2(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),await Vw(t,r)}}async function Vw(t,e,n){if(!kc(e))throw e;t.vu.add(1),await Ff(t),t.bu.set("Offline"),n||(n=()=>i9(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await m0(t)})}function p9(t,e){return e().catch(n=>Vw(t,n,e))}async function Bf(t){const e=Ke(t),n=uc(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Xfe(e);)try{const i=await Mfe(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,Jfe(e,i)}catch(i){await Vw(e,i)}m9(e)&&g9(e)}function Xfe(t){return Dc(t)&&t.Eu.length<10}function Jfe(t,e){t.Eu.push(e);const n=uc(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function m9(t){return Dc(t)&&!uc(t).Uo()&&t.Eu.length>0}function g9(t){uc(t).start()}async function Zfe(t){uc(t).hu()}async function epe(t){const e=uc(t);for(const n of t.Eu)e.uu(n.mutations)}async function tpe(t,e,n){const r=t.Eu.shift(),i=GR.from(r,e,n);await p9(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bf(t)}async function npe(t,e){e&&uc(t).ou&&await async function(n,r){if(i=r.code,NV(i)&&i!==ce.ABORTED){const s=n.Eu.shift();uc(n).Qo(),await p9(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Bf(n)}var i}(t,e),m9(t)&&g9(t)}async function SO(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=Dc(n);n.vu.add(3),await Ff(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await m0(n)}async function SC(t,e){const n=Ke(t);e?(n.vu.delete(2),await m0(n)):e||(n.vu.add(2),await Ff(n),n.bu.set("Unknown"))}function $f(t){return t.Su||(t.Su=function(e,n,r){const i=Ke(e);return i.fu(),new zfe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Kfe.bind(null,t),ao:Qfe.bind(null,t),nu:Yfe.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),l2(t)?a2(t):t.bu.set("Unknown")):(await t.Su.stop(),f9(t))})),t.Su}function uc(t){return t.Du||(t.Du=function(e,n,r){const i=Ke(e);return i.fu(),new Hfe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Zfe.bind(null,t),ao:npe.bind(null,t),au:epe.bind(null,t),cu:tpe.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Bf(t)):(await t.Du.stop(),t.Eu.length>0&&(Re("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new c2(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uf(t,e){if(xr("AsyncQueue",`${e}: ${t}`),kc(t))return new Se(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.comparator=e?(n,r)=>e(n,r)||He.comparator(n.key,r.key):(n,r)=>He.comparator(n.key,r.key),this.keyedMap=Wp(),this.sortedSet=new Pn(this.comparator)}static emptySet(e){return new bh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.Cu=new Pn(He.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):et():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jh{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Jh(e,n,bh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&c0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rpe{constructor(){this.Nu=void 0,this.listeners=[]}}class ipe{constructor(){this.queries=new Pc(e=>fV(e),c0),this.onlineState="Unknown",this.ku=new Set}}async function u2(t,e){const n=Ke(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new rpe),i)try{s.Nu=await n.onListen(r)}catch(o){const a=Uf(o,`Initialization of query '${gC(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&h2(n)}async function d2(t,e){const n=Ke(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function spe(t,e){const n=Ke(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&h2(n)}function ope(t,e,n){const r=Ke(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function h2(t){t.ku.forEach(e=>{e.next()})}class f2{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Jh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Jh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ape{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.serializer=e}rr(e){return sa(this.serializer,e)}ur(e){return e.metadata.exists?FV(this.serializer,e.document,!1):Vn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Sr(e)}}class lpe{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=v9(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=nn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new CO(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.rr(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Dt()).add(s);n.set(o,a)}}return n}async complete(){const e=await Ffe(this.localStore,new CO(this.serializer),this.documents,this.ju.id),n=this.Wu(this.documents);for(const r of this.queries)await Bfe(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function v9(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e){this.key=e}}class w9{constructor(e){this.key=e}}class _9{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Dt(),this.mutatedKeys=Dt(),this.tc=mV(e),this.ec=new bh(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new TO,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const p=i.get(u),v=u0(this.query,d)?d:null,g=!!p&&this.mutatedKeys.has(p.key),_=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;p&&v?p.data.isEqual(v.data)?g!==_&&(r.track({type:3,doc:v}),R=!0):this.rc(p,v)||(r.track({type:2,doc:v}),R=!0,(l&&this.tc(v,l)>0||c&&this.tc(v,c)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),R=!0):p&&!v&&(r.track({type:1,doc:p}),R=!0,(l||c)&&(a=!0)),R&&(v?(o=o.add(v),s=_?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(d,p){const v=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return v(d)-v(p)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Jh(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new TO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Dt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new w9(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new y9(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Dt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Jh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class cpe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class upe{constructor(e){this.key=e,this.fc=!1}}class dpe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Pc(a=>fV(a),c0),this._c=new Map,this.mc=new Set,this.gc=new Pn(He.comparator),this.yc=new Map,this.Ic=new e2,this.Tc={},this.Ec=new Map,this.Ac=Gu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function hpe(t,e){const n=y2(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await Yh(n.localStore,fs(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await p2(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&J1(n.remoteStore,o)}return i}async function p2(t,e,n,r,i){t.Rc=(d,p,v)=>async function(g,_,R,E){let b=_.view.sc(R);b.zi&&(b=await Bw(g.localStore,_.query,!1).then(({documents:D})=>_.view.sc(D,b)));const T=E&&E.targetChanges.get(_.targetId),I=_.view.applyChanges(b,g.isPrimaryClient,T);return TC(g,_.targetId,I.cc),I.snapshot}(t,d,p,v);const s=await Bw(t.localStore,e,!0),o=new _9(e,s.ir),a=o.sc(s.documents),l=f0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);TC(t,n,c.cc);const u=new cpe(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function fpe(t,e){const n=Ke(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!c0(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Xh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),dg(n.remoteStore,r.targetId),Zh(n,r.targetId)}).catch(Ac)):(Zh(n,r.targetId),await Xh(n.localStore,r.targetId,!0))}async function ppe(t,e,n){const r=w2(t);try{const i=await function(s,o){const a=Ke(s),l=er.now(),c=o.reduce((p,v)=>p.add(v.key),Dt());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=os(),g=Dt();return a.Zi.getEntries(p,c).next(_=>{v=_,v.forEach((R,E)=>{E.isValidDocument()||(g=g.add(R))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,v)).next(_=>{u=_;const R=[];for(const E of o){const b=zhe(E,u.get(E.key).overlayedDocument);b!=null&&R.push(new sl(E.key,b,iV(b.value.mapValue),Jn.exists(!0)))}return a.mutationQueue.addMutationBatch(p,l,R,o)}).next(_=>{d=_;const R=_.applyToLocalDocumentSet(u,g);return a.documentOverlayCache.saveOverlays(p,_.batchId,R)})}).then(()=>({batchId:d.batchId,changes:vV(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Pn(kt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await ol(r,i.changes),await Bf(r.remoteStore)}catch(i){const s=Uf(i,"Failed to persist write");n.reject(s)}}async function b9(t,e){const n=Ke(t);try{const r=await Ofe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?pt(o.fc):i.removedDocuments.size>0&&(pt(o.fc),o.fc=!1))}),await ol(n,r,e)}catch(r){await Ac(r)}}function IO(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Ke(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(l=!0)}),l&&h2(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mpe(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Pn(He.comparator);o=o.insert(s,Vn.newNoDocument(s,ft.min()));const a=Dt().add(s),l=new h0(ft.min(),new Map,new Pn(kt),o,a);await b9(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),v2(r)}else await Xh(r.localStore,e,!1).then(()=>Zh(r,e,n)).catch(Ac)}async function gpe(t,e){const n=Ke(t),r=e.batch.batchId;try{const i=await Lfe(n.localStore,e);g2(n,r,null),m2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ol(n,i)}catch(i){await Ac(i)}}async function vpe(t,e,n){const r=Ke(t);try{const i=await function(s,o){const a=Ke(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(pt(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);g2(r,e,n),m2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ol(r,i)}catch(i){await Ac(i)}}async function ype(t,e){const n=Ke(t);Dc(n.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=Ke(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ec.get(r)||[];i.push(e),n.Ec.set(r,i)}catch(r){const i=Uf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function m2(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function g2(t,e,n){const r=Ke(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Zh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||x9(t,r)})}function x9(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(dg(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),v2(t))}function TC(t,e,n){for(const r of n)r instanceof y9?(t.Ic.addReference(r.key,e),wpe(t,r)):r instanceof w9?(Re("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||x9(t,r.key)):et()}function wpe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Re("SyncEngine","New document in limbo: "+n),t.mc.add(r),v2(t))}function v2(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new He(nn.fromString(e)),r=t.Ac.next();t.yc.set(r,new upe(n)),t.gc=t.gc.insert(n,r),J1(t.remoteStore,new Da(fs(Lf(n.path)),r,"TargetPurposeLimboResolution",is.ct))}}async function ol(t,e,n){const r=Ke(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=r2.Li(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const c=Ke(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>ae.forEach(l,d=>ae.forEach(d.Fi,p=>c.persistence.referenceDelegate.addReference(u,d.targetId,p)).next(()=>ae.forEach(d.Bi,p=>c.persistence.referenceDelegate.removeReference(u,d.targetId,p)))))}catch(u){if(!kc(u))throw u;Re("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const d=u.targetId;if(!u.fromCache){const p=c.Ji.get(d),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);c.Ji=c.Ji.insert(d,g)}}}(r.localStore,s))}async function _pe(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=await r9(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Se(ce.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ol(n,r.er)}}function bpe(t,e){const n=Ke(t),r=n.yc.get(e);if(r&&r.fc)return Dt().add(r.key);{let i=Dt();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}async function xpe(t,e){const n=Ke(t),r=await Bw(n.localStore,e.query,!0),i=e.view.hc(r);return n.isPrimaryClient&&TC(n,e.targetId,i.cc),i}async function Epe(t,e){const n=Ke(t);return a9(n.localStore,e).then(r=>ol(n,r))}async function Spe(t,e,n,r){const i=Ke(t),s=await function(o,a){const l=Ke(o),c=Ke(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>c.Sn(u,a).next(d=>d?l.localDocuments.getDocuments(u,d):ae.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Bf(i.remoteStore):n==="acknowledged"||n==="rejected"?(g2(i,e,r||null),m2(i,e),function(o,a){Ke(Ke(o).mutationQueue).Cn(a)}(i.localStore,e)):et(),await ol(i,s)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Tpe(t,e){const n=Ke(t);if(y2(n),w2(n),e===!0&&n.vc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await NO(n,r.toArray());n.vc=!0,await SC(n.remoteStore,!0);for(const s of i)J1(n.remoteStore,s)}else if(e===!1&&n.vc!==!1){const r=[];let i=Promise.resolve();n._c.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Zh(n,o),Xh(n.localStore,o,!0))),dg(n.remoteStore,o)}),await i,await NO(n,r),function(s){const o=Ke(s);o.yc.forEach((a,l)=>{dg(o.remoteStore,l)}),o.Ic.Ts(),o.yc=new Map,o.gc=new Pn(He.comparator)}(n),n.vc=!1,await SC(n.remoteStore,!1)}}async function NO(t,e,n){const r=Ke(t),i=[],s=[];for(const o of e){let a;const l=r._c.get(o);if(l&&l.length!==0){a=await Yh(r.localStore,fs(l[0]));for(const c of l){const u=r.wc.get(c),d=await xpe(r,u);d.snapshot&&s.push(d.snapshot)}}else{const c=await o9(r.localStore,o);a=await Yh(r.localStore,c),await p2(r,E9(c),o,!1,a.resumeToken)}i.push(a)}return r.dc.nu(s),i}function E9(t){return hV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cpe(t){const e=Ke(t);return Ke(Ke(e.localStore).persistence).$i()}async function Ipe(t,e,n,r){const i=Ke(t);if(i.vc)return void Re("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await a9(i.localStore,pV(s[0])),a=h0.createSynthesizedRemoteEventForCurrentChange(e,n==="current",$r.EMPTY_BYTE_STRING);await ol(i,o,a);break}case"rejected":await Xh(i.localStore,e,!0),Zh(i,e,r);break;default:et()}}async function Npe(t,e,n){const r=y2(t);if(r.vc){for(const i of e){if(r._c.has(i)){Re("SyncEngine","Adding an already active target "+i);continue}const s=await o9(r.localStore,i),o=await Yh(r.localStore,s);await p2(r,E9(s),o.targetId,!1,o.resumeToken),J1(r.remoteStore,o)}for(const i of n)r._c.has(i)&&await Xh(r.localStore,i,!1).then(()=>{dg(r.remoteStore,i),Zh(r,i)}).catch(Ac)}}function y2(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=b9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bpe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mpe.bind(null,e),e.dc.nu=spe.bind(null,e.eventManager),e.dc.Pc=ope.bind(null,e.eventManager),e}function w2(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vpe.bind(null,e),e}function Rpe(t,e,n){const r=Ke(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(d,p){const v=Ke(d),g=Sr(p.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",_=>v.qs.getBundleMetadata(_,p.id)).then(_=>!!_&&_.createTime.compareTo(g)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(v9(a));const l=new lpe(a,i.localStore,s.serializer);let c=await s.bc();for(;c;){const d=await l.zu(c);d&&o._updateProgress(d),c=await s.bc()}const u=await l.complete();return await ol(i,u.Ju,void 0),await function(d,p){const v=Ke(d);return v.persistence.runTransaction("Save bundle","readwrite",g=>v.qs.saveBundleMetadata(g,p))}(i.localStore,a),o._completeWith(u.progress),Promise.resolve(u.Hu)}catch(a){return Po("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class CC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=p0(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return n9(this.persistence,new t9,e.initialUser,this.serializer)}createPersistence(e){return new e9(X1.zs,this.serializer)}createSharedClientState(e){return new c9}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class S9 extends CC{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await w2(this.Vc.syncEngine),await Bf(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return n9(this.persistence,new t9,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new yfe(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new the(n,this.persistence);return new ehe(e.asyncQueue,r)}createPersistence(e){const n=n2(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new t2(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,u9(),Ny(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new c9}}class Ape extends S9{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Vc.syncEngine;this.sharedClientState instanceof ME&&(this.sharedClientState.syncEngine={jr:Spe.bind(null,n),zr:Ipe.bind(null,n),Wr:Npe.bind(null,n),$i:Cpe.bind(null,n),Qr:Epe.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ii(async r=>{await Tpe(this.Vc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=u9();if(!ME.D(n))throw new Se(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=n2(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ME(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class _2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_pe.bind(null,this.syncEngine),await SC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ipe}createDatastore(e){const n=p0(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new jfe(i));var i;return function(s,o,a,l){return new Wfe(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>IO(this.syncEngine,a,0),o=EO.D()?new EO:new $fe,new qfe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,c){const u=new dpe(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ke(e);Re("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Ff(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kpe{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new Xr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(e===null)return null;const n=this.xc.decode(e),r=Number(n);isNaN(r)&&this.Mc(`length string (${n}) is not valid number`);const i=await this.$c(r);return new ape(JSON.parse(i),e.length+r)}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const n=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ppe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Se(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=Ke(r),o=cg(s.serializer)+"/documents",a={documents:i.map(d=>lg(s.serializer,d))},l=await s.vo("BatchGetDocuments",o,a,i.length),c=new Map;l.forEach(d=>{const p=Jhe(s.serializer,d);c.set(p.key.toString(),p)});const u=[];return i.forEach(d=>{const p=c.get(d.toString());pt(!!p),u.push(p)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=He.fromPath(r);this.mutations.push(new HR(i,this.precondition(i)))}),await async function(n,r){const i=Ke(n),s=cg(i.serializer)+"/documents",o={writes:r.map(a=>ug(i.serializer,a))};await i.Io("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw et();n=ft.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Se(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ft.min())?Jn.exists(!1):Jn.updateTime(n):Jn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ft.min()))throw new Se(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jn.updateTime(n)}return Jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dpe{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new s2(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new Ppe(this.datastore),n=this.qc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Uc(i)}))}).catch(r=>{this.Uc(r)})})}qc(e){try{const n=this.updateFunction(e);return!a0(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!NV(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lpe{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qr.UNAUTHENTICATED,this.clientId=z6.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Uf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ry(t,e){t.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await r9(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function IC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b2(t);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>SO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>SO(e.remoteStore,s)),t._onlineComponents=e}function T9(t){return t.name==="FirebaseError"?t.code===ce.FAILED_PRECONDITION||t.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function b2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ry(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!T9(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await Ry(t,new CC)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await Ry(t,new CC);return t._offlineComponents}async function eb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await IC(t,t._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await IC(t,new _2))),t._onlineComponents}function C9(t){return b2(t).then(e=>e.persistence)}function x2(t){return b2(t).then(e=>e.localStore)}function I9(t){return eb(t).then(e=>e.remoteStore)}function E2(t){return eb(t).then(e=>e.syncEngine)}function Ope(t){return eb(t).then(e=>e.datastore)}async function ef(t){const e=await eb(t),n=e.eventManager;return n.onListen=hpe.bind(null,e.syncEngine),n.onUnlisten=fpe.bind(null,e.syncEngine),n}function Mpe(t){return t.asyncQueue.enqueue(async()=>{const e=await C9(t),n=await I9(t);return e.setNetworkEnabled(!0),function(r){const i=Ke(r);return i.vu.delete(0),m0(i)}(n)})}function Fpe(t){return t.asyncQueue.enqueue(async()=>{const e=await C9(t),n=await I9(t);return e.setNetworkEnabled(!1),async function(r){const i=Ke(r);i.vu.add(0),await Ff(i),i.bu.set("Offline")}(n)})}function Bpe(t,e){const n=new Xr;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const c=Ke(a);return c.persistence.runTransaction("read document","readonly",u=>c.localDocuments.getDocument(u,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new Se(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=Uf(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await x2(t),e,n)),n.promise}function N9(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new Z1({next:d=>{s.enqueueAndForget(()=>d2(i,u));const p=d.docs.has(o);!p&&d.fromCache?l.reject(new Se(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&a&&a.source==="server"?l.reject(new Se(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new f2(Lf(o.path),c,{includeMetadataChanges:!0,Ku:!0});return u2(i,u)}(await ef(t),t.asyncQueue,e,n,r)),r.promise}function $pe(t,e){const n=new Xr;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await Bw(r,i,!0),a=new _9(i,o.ir),l=a.sc(o.documents),c=a.applyChanges(l,!1);s.resolve(c.snapshot)}catch(o){const a=Uf(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await x2(t),e,n)),n.promise}function R9(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new Z1({next:d=>{s.enqueueAndForget(()=>d2(i,u)),d.fromCache&&a.source==="server"?l.reject(new Se(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new f2(o,c,{includeMetadataChanges:!0,Ku:!0});return u2(i,u)}(await ef(t),t.asyncQueue,e,n,r)),r.promise}function Upe(t,e){const n=new Z1(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){Ke(r).ku.add(i),i.next()}(await ef(t),n)),()=>{n.Dc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){Ke(r).ku.delete(i)}(await ef(t),n))}}function Vpe(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?AV().encode(s):s,function(l,c){return new kpe(l,c)}(function(l,c){if(l instanceof Uint8Array)return RO(l,c);if(l instanceof ArrayBuffer)return RO(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,p0(e));t.asyncQueue.enqueueAndForget(async()=>{Rpe(await E2(t),i,r)})}function jpe(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=Ke(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.qs.getNamedQuery(s,r))}(await x2(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t,e,n){if(!n)throw new Se(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k9(t,e,n,r){if(e===!0&&r===!0)throw new Se(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kO(t){if(!He.isDocumentKey(t))throw new Se(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PO(t){if(He.isDocumentKey(t))throw new Se(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":et()}function on(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tb(t);throw new Se(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function P9(t,e){if(e<=0)throw new Se(ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class g0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Se(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DO(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jde;switch(n.type){case"firstParty":return new Gde(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Se(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=AO.get(e);n&&(Re("ComponentProvider","Removing Datastore"),AO.delete(e),n.terminate())}(this),Promise.resolve()}}function D9(t,e,n,r={}){var i;const s=(t=on(t,g0))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=qr.MOCK_USER;else{a=WN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Se(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new qr(c)}t._authCredentials=new zde(new j6(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class vi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vi(this.firestore,e,this._query)}}class oa extends vi{constructor(e,n,r){super(e,n,Lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new He(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function Vi(t,e,...n){if(t=qe(t),S2("collection","path",e),t instanceof g0){const r=nn.fromString(e,...n);return PO(r),new oa(t,null,r)}{if(!(t instanceof Wn||t instanceof oa))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return PO(r),new oa(t.firestore,null,r)}}function zpe(t,e){if(t=on(t,g0),S2("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vi(t,null,function(n){return new il(nn.emptyPath(),n)}(e))}function yt(t,e,...n){if(t=qe(t),arguments.length===1&&(e=z6.A()),S2("doc","path",e),t instanceof g0){const r=nn.fromString(e,...n);return kO(r),new Wn(t,null,new He(r))}{if(!(t instanceof Wn||t instanceof oa))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return kO(r),new Wn(t.firestore,t instanceof oa?t.converter:null,new He(r))}}function L9(t,e){return t=qe(t),e=qe(e),(t instanceof Wn||t instanceof oa)&&(e instanceof Wn||e instanceof oa)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function O9(t,e){return t=qe(t),e=qe(e),t instanceof vi&&e instanceof vi&&t.firestore===e.firestore&&c0(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hpe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new s2(this,"async_queue_retry"),this.Xc=()=>{const n=Ny();n&&Re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ny();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Xr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!kc(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=c2.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&et()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function NC(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Wpe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gpe=-1;class pr extends g0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hpe,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||M9(this),this._firestoreClient.terminate()}}function lr(t,e){const n=typeof t=="object"?t:Cf(),r=typeof t=="string"?t:e||"(default)",i=Cc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=p1("firestore");s&&D9(i,...s)}return i}function ii(t){return t._firestoreClient||M9(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function M9(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,c){return new xhe(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,A9(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Lpe(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function qpe(t,e){B9(t=on(t,pr));const n=ii(t);if(n._uninitializedComponentsProvider)throw new Se(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Po("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new _2;return F9(n,i,new S9(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Kpe(t){B9(t=on(t,pr));const e=ii(t);if(e._uninitializedComponentsProvider)throw new Se(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Po("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new _2;return F9(e,r,new Ape(r,n.cacheSizeBytes))}function F9(t,e,n){const r=new Xr;return t.asyncQueue.enqueue(async()=>{try{await Ry(t,n),await IC(t,e),r.resolve()}catch(i){const s=i;if(!T9(s))throw s;Po("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function Qpe(t){if(t._initialized&&!t._terminated)throw new Se(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xr;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!bo.D())return Promise.resolve();const r=n+"main";await bo.delete(r)}(n2(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Ype(t){return function(e){const n=new Xr;return e.asyncQueue.enqueueAndForget(async()=>ype(await E2(e),n)),n.promise}(ii(t=on(t,pr)))}function Xpe(t){return Mpe(ii(t=on(t,pr)))}function Jpe(t){return Fpe(ii(t=on(t,pr)))}function Zpe(t,e){const n=ii(t=on(t,pr)),r=new Wpe;return Vpe(n,t._databaseId,e,r),r}function eme(t,e){return jpe(ii(t=on(t,pr)),e).then(n=>n?new vi(t,null,n.query):null)}function B9(t){if(t._initialized||t._terminated)throw new Se(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha($r.fromBase64String(e))}catch(n){throw new Se(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ha($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tme=/^__.*__$/;class nme{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Of(e,this.data,n,this.fieldTransforms)}}class $9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function U9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class rb{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new rb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return jw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(U9(this.ca)&&tme.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class rme{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||p0(e)}ya(e,n,r,i=!1){return new rb({ca:e,methodName:n,ga:r,path:Er.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dd(t){const e=t._freezeSettings(),n=p0(t._databaseId);return new rme(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ib(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);N2("Data must be an object, but it was:",o,r);const a=z9(r,o);let l,c;if(s.merge)l=new ss(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const p=RC(e,d,n);if(!o.contains(p))throw new Se(ce.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);W9(u,p)||u.push(p)}l=new ss(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new nme(new di(a),l,c)}class v0 extends ud{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof v0}}function V9(t,e,n){return new rb({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class T2 extends ud{_toFieldTransform(e){return new d0(e.path,new qh)}isEqual(e){return e instanceof T2}}class ime extends ud{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=V9(this,e,!0),r=this.pa.map(s=>hd(s,n)),i=new ju(r);return new d0(e.path,i)}isEqual(e){return this===e}}class sme extends ud{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=V9(this,e,!0),r=this.pa.map(s=>hd(s,n)),i=new zu(r);return new d0(e.path,i)}isEqual(e){return this===e}}class ome extends ud{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Kh(e.serializer,bV(e.serializer,this.Ia));return new d0(e.path,n)}isEqual(e){return this===e}}function C2(t,e,n,r){const i=t.ya(1,e,n);N2("Data must be an object, but it was:",i,r);const s=[],o=di.empty();cd(r,(l,c)=>{const u=R2(e,l,n);c=qe(c);const d=i.da(u);if(c instanceof v0)s.push(u);else{const p=hd(c,d);p!=null&&(s.push(u),o.set(u,p))}});const a=new ss(s);return new $9(o,a,i.fieldTransforms)}function I2(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[RC(e,r,n)],l=[i];if(s.length%2!=0)throw new Se(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(RC(e,s[p])),l.push(s[p+1]);const c=[],u=di.empty();for(let p=a.length-1;p>=0;--p)if(!W9(c,a[p])){const v=a[p];let g=l[p];g=qe(g);const _=o.da(v);if(g instanceof v0)c.push(v);else{const R=hd(g,_);R!=null&&(c.push(v),u.set(v,R))}}const d=new ss(c);return new $9(u,d,o.fieldTransforms)}function j9(t,e,n,r=!1){return hd(n,t.ya(r?4:3,e))}function hd(t,e){if(H9(t=qe(t)))return N2("Unsupported field value:",e,t),z9(t,e);if(t instanceof ud)return function(n,r){if(!U9(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=hd(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=qe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bV(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=er.fromDate(n);return{timestampValue:Qh(r.serializer,i)}}if(n instanceof er){const i=new er(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Qh(r.serializer,i)}}if(n instanceof nb)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ha)return{bytesValue:DV(r.serializer,n._byteString)};if(n instanceof Wn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:YR(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${tb(n)}`)}(t,e)}function z9(t,e){const n={};return tV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cd(t,(r,i)=>{const s=hd(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function H9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof er||t instanceof nb||t instanceof ha||t instanceof Wn||t instanceof ud)}function N2(t,e,n){if(!H9(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=tb(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function RC(t,e,n){if((e=qe(e))instanceof dc)return e._internalPath;if(typeof e=="string")return R2(t,e);throw jw("Field path arguments must be of type string or ",t,!1,void 0,n)}const ame=new RegExp("[~\\*/\\[\\]]");function R2(t,e,n){if(e.search(ame)>=0)throw jw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dc(...e.split("."))._internalPath}catch{throw jw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jw(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Se(ce.INVALID_ARGUMENT,a+t+l)}function W9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lme extends hg{data(){return super.data()}}function sb(t,e){return typeof e=="string"?R2(t,e):e instanceof dc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A2{}class y0 extends A2{}function Si(t,e,...n){let r=[];e instanceof A2&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof P2).length,o=i.filter(a=>a instanceof ob).length;if(s>1||s>0&&o>0)throw new Se(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ob extends y0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ob(e,n,r)}_apply(e){const n=this._parse(e);return Q9(e._query,n),new vi(e.firestore,e.converter,mC(e._query,n))}_parse(e){const n=dd(e.firestore);return function(i,s,o,a,l,c,u){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){OO(u,c);const p=[];for(const v of u)p.push(LO(a,i,v));d={arrayValue:{values:p}}}else d=LO(a,i,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||OO(u,c),d=j9(o,s,u,c==="in"||c==="not-in");return qt.create(l,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function k2(t,e,n){const r=e,i=sb("where",t);return ob._create(i,r,n)}class P2 extends A2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new P2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Q9(s,a),s=mC(s,a)}(e._query,n),new vi(e.firestore,e.converter,mC(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D2 extends y0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new D2(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new _h(i,s);return function(a,l){if(VR(a)===null){const c=G1(a);c!==null&&Y9(a,c,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new vi(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new il(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function q9(t,e="asc"){const n=e,r=sb("orderBy",t);return D2._create(r,n)}class ab extends y0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ab(e,n,r)}_apply(e){return new vi(e.firestore,e.converter,Lw(e._query,this._limit,this._limitType))}}function cme(t){return P9("limit",t),ab._create("limit",t,"F")}function ume(t){return P9("limitToLast",t),ab._create("limitToLast",t,"L")}class lb extends y0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new lb(e,n,r)}_apply(e){const n=K9(e,this.type,this._docOrFields,this._inclusive);return new vi(e.firestore,e.converter,function(r,i){return new il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function dme(...t){return lb._create("startAt",t,!0)}function hme(...t){return lb._create("startAfter",t,!1)}class cb extends y0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new cb(e,n,r)}_apply(e){const n=K9(e,this.type,this._docOrFields,this._inclusive);return new vi(e.firestore,e.converter,function(r,i){return new il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function fme(...t){return cb._create("endBefore",t,!1)}function pme(...t){return cb._create("endAt",t,!0)}function K9(t,e,n,r){if(n[0]=qe(n[0]),n[0]instanceof hg)return function(i,s,o,a,l){if(!a)throw new Se(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const u of Su(i))if(u.field.isKeyField())c.push(Uu(s,a.key));else{const d=a.data.field(u.field);if(W1(d))throw new Se(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const p=u.field.canonicalString();throw new Se(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(d)}return new cc(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=dd(t.firestore);return function(s,o,a,l,c,u){const d=s.explicitOrderBy;if(c.length>d.length)throw new Se(ce.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<c.length;v++){const g=c[v];if(d[v].field.isKeyField()){if(typeof g!="string")throw new Se(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof g}`);if(!jR(s)&&g.indexOf("/")!==-1)throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${g}' contains a slash.`);const _=s.path.child(nn.fromString(g));if(!He.isDocumentKey(_))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const R=new He(_);p.push(Uu(o,R))}else{const _=j9(a,l,g);p.push(_)}}return new cc(p,u)}(t._query,t.firestore._databaseId,i,e,n,r)}}function LO(t,e,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new Se(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jR(e)&&n.indexOf("/")!==-1)throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nn.fromString(n));if(!He.isDocumentKey(r))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uu(t,new He(r))}if(n instanceof Wn)return Uu(t,n._key);throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tb(n)}.`)}function OO(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q9(t,e){if(e.isInequality()){const r=G1(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=VR(t);s!==null&&Y9(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Y9(t,e,n){if(!n.isEqual(e))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class L2{convertValue(e,n="none"){switch($u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw et()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cd(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new nb(hr(e.latitude),hr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$R(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sg(e));default:return null}}convertTimestamp(e){const n=sc(e);return new er(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nn.fromString(e);pt(zV(r));const i=new ac(r.get(1),r.get(3)),s=new He(r.popFirst(5));return i.isEqual(n)||xr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class mme extends L2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ya extends hg{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mm extends Ya{data(e={}){return super.data(e)}}class hc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mm(this._firestore,this._userDataWriter,r.key,r,new hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new mm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new hu(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new mm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new hu(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:gme(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gme(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function X9(t,e){return t instanceof Ya&&e instanceof Ya?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof hc&&e instanceof hc&&t._firestore===e._firestore&&O9(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){t=on(t,Wn);const e=on(t.firestore,pr);return N9(ii(e),t._key).then(n=>O2(e,t,n))}class fd extends L2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function vme(t){t=on(t,Wn);const e=on(t.firestore,pr),n=ii(e),r=new fd(e);return Bpe(n,t._key).then(i=>new Ya(e,r,t._key,i,new hu(i!==null&&i.hasLocalMutations,!0),t.converter))}function yme(t){t=on(t,Wn);const e=on(t.firestore,pr);return N9(ii(e),t._key,{source:"server"}).then(n=>O2(e,t,n))}function Ua(t){t=on(t,vi);const e=on(t.firestore,pr),n=ii(e),r=new fd(e);return G9(t._query),R9(n,t._query).then(i=>new hc(e,r,t,i))}function wme(t){t=on(t,vi);const e=on(t.firestore,pr),n=ii(e),r=new fd(e);return $pe(n,t._query).then(i=>new hc(e,r,t,i))}function _me(t){t=on(t,vi);const e=on(t.firestore,pr),n=ii(e),r=new fd(e);return R9(n,t._query,{source:"server"}).then(i=>new hc(e,r,t,i))}function fa(t,e,n){t=on(t,Wn);const r=on(t.firestore,pr),i=ub(t.converter,e,n);return w0(r,[ib(dd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jn.none())])}function ct(t,e,n,...r){t=on(t,Wn);const i=on(t.firestore,pr),s=dd(i);let o;return o=typeof(e=qe(e))=="string"||e instanceof dc?I2(s,"updateDoc",t._key,e,n,r):C2(s,"updateDoc",t._key,e),w0(i,[o.toMutation(t._key,Jn.exists(!0))])}function bme(t){return w0(on(t.firestore,pr),[new Mf(t._key,Jn.none())])}function AC(t,e){const n=on(t.firestore,pr),r=yt(t),i=ub(t.converter,e);return w0(n,[ib(dd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function pd(t,...e){var n,r,i;t=qe(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||NC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(NC(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof Wn)c=on(t.firestore,pr),u=Lf(t._key.path),l={next:d=>{e[o]&&e[o](O2(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=on(t,vi);c=on(d.firestore,pr),u=d._query;const p=new fd(c);l={next:v=>{e[o]&&e[o](new hc(c,p,d,v))},error:e[o+1],complete:e[o+2]},G9(t._query)}return function(d,p,v,g){const _=new Z1(g),R=new f2(p,_,v);return d.asyncQueue.enqueueAndForget(async()=>u2(await ef(d),R)),()=>{_.Dc(),d.asyncQueue.enqueueAndForget(async()=>d2(await ef(d),R))}}(ii(c),u,a,l)}function xme(t,e){return Upe(ii(t=on(t,pr)),NC(e)?e:{next:e})}function w0(t,e){return function(n,r){const i=new Xr;return n.asyncQueue.enqueueAndForget(async()=>ppe(await E2(n),r,i)),i.promise}(ii(t),e)}function O2(t,e,n){const r=n.docs.get(e._key),i=new fd(t);return new Ya(t,i,e._key,r,new hu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eme={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sme{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=dd(e)}set(e,n,r){this._verifyNotCommitted();const i=Tl(e,this._firestore),s=ub(i.converter,n,r),o=ib(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Jn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Tl(e,this._firestore);let o;return o=typeof(n=qe(n))=="string"||n instanceof dc?I2(this._dataReader,"WriteBatch.update",s._key,n,r,i):C2(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Tl(e,this._firestore);return this._mutations=this._mutations.concat(new Mf(n._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tl(t,e){if((t=qe(t)).firestore!==e)throw new Se(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tme extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=dd(e)}get(e){const n=Tl(e,this._firestore),r=new mme(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return et();const s=i[0];if(s.isFoundDocument())return new hg(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new hg(this._firestore,r,n._key,null,n.converter);throw et()})}set(e,n,r){const i=Tl(e,this._firestore),s=ub(i.converter,n,r),o=ib(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Tl(e,this._firestore);let o;return o=typeof(n=qe(n))=="string"||n instanceof dc?I2(this._dataReader,"Transaction.update",s._key,n,r,i):C2(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Tl(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Tl(e,this._firestore),r=new fd(this._firestore);return super.get(e).then(i=>new Ya(this._firestore,r,n._key,i._document,new hu(!1,!1),n.converter))}}function Cme(t,e,n){t=on(t,pr);const r=Object.assign(Object.assign({},Eme),n);return function(i){if(i.maxAttempts<1)throw new Se(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new Xr;return i.asyncQueue.enqueueAndForget(async()=>{const l=await Ope(i);new Dpe(i.asyncQueue,l,o,s,a).run()}),a.promise}(ii(t),i=>e(new Tme(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ime(){return new v0("deleteField")}function fg(){return new T2("serverTimestamp")}function zw(...t){return new ime("arrayUnion",t)}function Nme(...t){return new sme("arrayRemove",t)}function Rr(t){return new ome("increment",t)}(function(t,e=!0){(function(n){Df=n})(ya),Ro(new zi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new pr(new Hde(n.getProvider("auth-internal")),new Kde(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Se(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),fi(PL,"3.13.0",t),fi(PL,"3.13.0","esm2017")})();const Rme="@firebase/firestore-compat",Ame="0.3.12";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Se("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){if(typeof Uint8Array>"u")throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function FO(){if(!_he())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}let J9=class kC{constructor(e){this._delegate=e}static fromBase64String(e){return FO(),new kC(ha.fromBase64String(e))}static fromUint8Array(e){return MO(),new kC(ha.fromUint8Array(e))}toBase64(){return FO(),this._delegate.toBase64()}toUint8Array(){return MO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){return kme(t,["next","error","complete"])}function kme(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pme{enableIndexedDbPersistence(e,n){return qpe(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Kpe(e._delegate)}clearIndexedDbPersistence(e){return Qpe(e._delegate)}}class Z9{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ac||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Po("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){D9(this._delegate,e,n,r)}enableNetwork(){return Xpe(this._delegate)}disableNetwork(){return Jpe(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,k9("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Ype(this._delegate)}onSnapshotsInSync(e){return xme(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new tf(this,Vi(this._delegate,e))}catch(n){throw Li(n,"collection()","Firestore.collection()")}}doc(e){try{return new Qs(this,yt(this._delegate,e))}catch(n){throw Li(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new gg(this,zpe(this._delegate,e))}catch(n){throw Li(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Cme(this._delegate,n=>e(new e8(this,n)))}batch(){return ii(this._delegate),new t8(new Sme(this._delegate,e=>w0(this._delegate,e)))}loadBundle(e){return Zpe(this._delegate,e)}namedQuery(e){return eme(this._delegate,e).then(n=>n?new gg(this,n):null)}}class db extends L2{constructor(e){super(),this.firestore=e}convertBytes(e){return new J9(new ha(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Qs.forKey(n,this.firestore,null)}}function Dme(t){Ude(t)}class e8{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new db(e)}get(e){const n=fu(e);return this._delegate.get(n).then(r=>new pg(this._firestore,new Ya(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=fu(e);return r?(M2("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=fu(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=fu(e);return this._delegate.delete(n),this}}class t8{constructor(e){this._delegate=e}set(e,n,r){const i=fu(e);return r?(M2("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=fu(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=fu(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class qu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new mm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mg(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=qu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new qu(e,new db(e),n),i.set(n,s)),s}}qu.INSTANCES=new WeakMap;class Qs{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new db(e)}static forPath(e,n,r){if(e.length%2!==0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qs(n,new Wn(n._delegate,r,new He(e)))}static forKey(e,n,r){return new Qs(n,new Wn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new tf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new tf(this.firestore,Vi(this._delegate,e))}catch(n){throw Li(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=qe(e),e instanceof Wn?L9(this._delegate,e):!1}set(e,n){n=M2("DocumentReference.set",n);try{return n?fa(this._delegate,e,n):fa(this._delegate,e)}catch(r){throw Li(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?ct(this._delegate,e):ct(this._delegate,e,n,...r)}catch(i){throw Li(i,"updateDoc()","DocumentReference.update()")}}delete(){return bme(this._delegate)}onSnapshot(...e){const n=n8(e),r=r8(e,i=>new pg(this.firestore,new Ya(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return pd(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=vme(this._delegate):(e==null?void 0:e.source)==="server"?n=yme(this._delegate):n=_n(this._delegate),n.then(r=>new pg(this.firestore,new Ya(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Qs(this.firestore,e?this._delegate.withConverter(qu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Li(t,e,n){return t.message=t.message.replace(e,n),t}function n8(t){for(const e of t)if(typeof e=="object"&&!PC(e))return e;return{}}function r8(t,e){var n,r;let i;return PC(t[0])?i=t[0]:PC(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class pg{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Qs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return X9(this._delegate,e._delegate)}}class mg extends pg{data(e){const n=this._delegate.data(e);return Vde(n!==void 0),n}}let gg=class Fo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new db(e)}where(e,n,r){try{return new Fo(this.firestore,Si(this._delegate,k2(e,n,r)))}catch(i){throw Li(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Fo(this.firestore,Si(this._delegate,q9(e,n)))}catch(r){throw Li(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Fo(this.firestore,Si(this._delegate,cme(e)))}catch(n){throw Li(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Fo(this.firestore,Si(this._delegate,ume(e)))}catch(n){throw Li(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Fo(this.firestore,Si(this._delegate,dme(...e)))}catch(n){throw Li(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Fo(this.firestore,Si(this._delegate,hme(...e)))}catch(n){throw Li(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Fo(this.firestore,Si(this._delegate,fme(...e)))}catch(n){throw Li(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Fo(this.firestore,Si(this._delegate,pme(...e)))}catch(n){throw Li(n,"endAt()","Query.endAt()")}}isEqual(e){return O9(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=wme(this._delegate):(e==null?void 0:e.source)==="server"?n=_me(this._delegate):n=Ua(this._delegate),n.then(r=>new DC(this.firestore,new hc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=n8(e),r=r8(e,i=>new DC(this.firestore,new hc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return pd(this._delegate,n,r)}withConverter(e){return new Fo(this.firestore,e?this._delegate.withConverter(qu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};class Lme{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new mg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DC{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new gg(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new mg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Lme(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new mg(this._firestore,r))})}isEqual(e){return X9(this._delegate,e._delegate)}}class tf extends gg{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qs(this.firestore,e):null}doc(e){try{return e===void 0?new Qs(this.firestore,yt(this._delegate)):new Qs(this.firestore,yt(this._delegate,e))}catch(n){throw Li(n,"doc()","CollectionReference.doc()")}}add(e){return AC(this._delegate,e).then(n=>new Qs(this.firestore,n))}isEqual(e){return L9(this._delegate,e._delegate)}withConverter(e){return new tf(this.firestore,e?this._delegate.withConverter(qu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function fu(t){return on(t,Wn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(...e){this._delegate=new dc(...e)}static documentId(){return new F2(Er.keyField().canonicalString())}isEqual(e){return e=qe(e),e instanceof dc?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this._delegate=e}static serverTimestamp(){const e=fg();return e._methodName="FieldValue.serverTimestamp",new su(e)}static delete(){const e=Ime();return e._methodName="FieldValue.delete",new su(e)}static arrayUnion(...e){const n=zw(...e);return n._methodName="FieldValue.arrayUnion",new su(n)}static arrayRemove(...e){const n=Nme(...e);return n._methodName="FieldValue.arrayRemove",new su(n)}static increment(e){const n=Rr(e);return n._methodName="FieldValue.increment",new su(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ome={Firestore:Z9,GeoPoint:nb,Timestamp:er,Blob:J9,Transaction:e8,WriteBatch:t8,DocumentReference:Qs,DocumentSnapshot:pg,Query:gg,QueryDocumentSnapshot:mg,QuerySnapshot:DC,CollectionReference:tf,FieldPath:F2,FieldValue:su,setLogLevel:Dme,CACHE_SIZE_UNLIMITED:Gpe};function Mme(t,e){t.INTERNAL.registerComponent(new zi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Ome)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fme(t){Mme(t,(e,n)=>new Z9(e,n,new Pme)),t.registerVersion(Rme,Ame)}Fme(Xg);const BO="@firebase/database",$O="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i8="";function s8(t){i8=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bme{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:jm(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $me{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Bme(e)}}catch{}return new $me},pu=o8("localStorage"),LC=o8("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Tf("@firebase/database"),a8=function(){let t=1;return function(){return t++}}(),l8=function(t){const e=Sse(t),n=new bse;n.update(e);const r=n.digest();return HN.encodeByteArray(r)},_0=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=_0.apply(null,r):typeof r=="object"?e+=Fr(r):e+=r,e+=" "}return e};let Tu=null,UO=!0;const c8=function(t,e){Fe(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(xh.logLevel=Xt.VERBOSE,Tu=xh.log.bind(xh),e&&LC.set("logging_enabled",!0)):typeof t=="function"?Tu=t:(Tu=null,LC.remove("logging_enabled"))},Qr=function(...t){if(UO===!0&&(UO=!1,Tu===null&&LC.get("logging_enabled")===!0&&c8(!0)),Tu){const e=_0.apply(null,t);Tu(e)}},b0=function(t){return function(...e){Qr(t,...e)}},OC=function(...t){const e="FIREBASE INTERNAL ERROR: "+_0(...t);xh.error(e)},pa=function(...t){const e=`FIREBASE FATAL ERROR: ${_0(...t)}`;throw xh.error(e),new Error(e)},Ri=function(...t){const e="FIREBASE WARNING: "+_0(...t);xh.warn(e)},Ume=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Vme=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},fc="[MIN_NAME]",Xa="[MAX_NAME]",md=function(t,e){if(t===e)return 0;if(t===fc||e===Xa)return-1;if(e===fc||t===Xa)return 1;{const n=VO(t),r=VO(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},jme=function(t,e){return t===e?0:t<e?-1:1},Cp=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Fr(e))},B2=function(t){if(typeof t!="object"||t===null)return Fr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Fr(e[r]),n+=":",n+=B2(t[e[r]]);return n+="}",n},u8=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ei(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const d8=function(t){Fe(!hb(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let p=parseInt(u.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),d=d+p}return d.toLowerCase()},zme=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Hme=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Wme(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Gme=new RegExp("^-?(0*)\\d{1,10}$"),qme=-2147483648,Kme=2147483647,VO=function(t){if(Gme.test(t)){const e=Number(t);if(e>=qme&&e<=Kme)return e}return null},Vf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ri("Exception was thrown by user callback.",n),e},Math.floor(0))}},Qme=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gm=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yme{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ri(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xme{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ri(e)}}class Eh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Eh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="5",h8="v",f8="s",p8="r",m8="f",g8=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,v8="ls",y8="p",MC="ac",w8="websocket",_8="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pu.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&pu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Jme(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function x8(t,e,n){Fe(typeof e=="string","typeof type must == string"),Fe(typeof n=="object","typeof params must == object");let r;if(e===w8)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===_8)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Jme(t)&&(n.ns=t.namespace);const i=[];return ei(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zme{constructor(){this.counters_={}}incrementCounter(e,n=1){Rs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ase(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE={},$E={};function U2(t){const e=t.toString();return BE[e]||(BE[e]=new Zme),BE[e]}function ege(t,e){const n=t.toString();return $E[n]||($E[n]=e()),$E[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tge{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Vf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="start",nge="close",rge="pLPCommand",ige="pRTLPCB",E8="id",S8="pw",T8="ser",sge="cb",oge="seg",age="ts",lge="d",cge="dframe",C8=1870,I8=30,uge=C8-I8,dge=25e3,hge=3e4;class Pl{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=b0(e),this.stats_=U2(n),this.urlFn=l=>(this.appCheckToken&&(l[MC]=this.appCheckToken),x8(n,_8,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new tge(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(hge)),Vme(()=>{if(this.isClosed_)return;this.scriptTagHolder=new V2((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===jO)this.id=a,this.password=l;else if(o===nge)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[jO]="t",r[T8]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[sge]=this.scriptTagHolder.uniqueCallbackIdentifier),r[h8]=$2,this.transportSessionId&&(r[f8]=this.transportSessionId),this.lastSessionId&&(r[v8]=this.lastSessionId),this.applicationId&&(r[y8]=this.applicationId),this.appCheckToken&&(r[MC]=this.appCheckToken),typeof location<"u"&&location.hostname&&g8.test(location.hostname)&&(r[p8]=m8);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Pl.forceAllow_=!0}static forceDisallow(){Pl.forceDisallow_=!0}static isAvailable(){return Pl.forceAllow_?!0:!Pl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!zme()&&!Hme()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Fr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=f7(n),i=u8(r,uge);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[cge]="t",r[E8]=e,r[S8]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Fr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class V2{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=a8(),window[rge+this.uniqueCallbackIdentifier]=e,window[ige+this.uniqueCallbackIdentifier]=n,this.myIFrame=V2.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Qr("frame writing exception"),a.stack&&Qr(a.stack),Qr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[E8]=this.myID,e[S8]=this.myPW,e[T8]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+I8+r.length<=C8;){const o=this.pendingSegs.shift();r=r+"&"+oge+i+"="+o.seg+"&"+age+i+"="+o.ts+"&"+lge+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(dge)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fge=16384,pge=45e3;let Hw=null;typeof MozWebSocket<"u"?Hw=MozWebSocket:typeof WebSocket<"u"&&(Hw=WebSocket);class qs{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=b0(this.connId),this.stats_=U2(n),this.connURL=qs.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[h8]=$2,typeof location<"u"&&location.hostname&&g8.test(location.hostname)&&(o[p8]=m8),n&&(o[f8]=n),r&&(o[v8]=r),i&&(o[MC]=i),s&&(o[y8]=s),x8(e,w8,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pu.set("previous_websocket_failure",!0);try{let r;w7(),this.mySock=new Hw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){qs.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Hw!==null&&!qs.forceDisallow_}static previouslyFailed(){return pu.isInMemoryStorage||pu.get("previous_websocket_failure")===!0}markConnectionHealthy(){pu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=jm(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Fr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=u8(n,fge);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(pge))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}qs.responsesRequiredToBeHealthy=2;qs.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Pl,qs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=qs&&qs.isAvailable();let r=n&&!qs.previouslyFailed();if(e.webSocketOnly&&(n||Ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[qs];else{const i=this.transports_=[];for(const s of nf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);nf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}nf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mge=6e4,gge=5e3,vge=10*1024,yge=100*1024,UE="t",zO="d",wge="s",HO="r",_ge="e",WO="o",GO="a",qO="n",KO="p",bge="h";class xge{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=b0("c:"+this.id+":"),this.transportManager_=new nf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=gm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>yge?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>vge?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(UE in e){const n=e[UE];n===GO?this.upgradeIfSecondaryHealthy_():n===HO?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===WO&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Cp("t",e),r=Cp("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:KO,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:GO,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qO,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Cp("t",e),r=Cp("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Cp(UE,e);if(zO in e){const r=e[zO];if(n===bge){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===qO){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===wge?this.onConnectionShutdown_(r):n===HO?this.onReset_(r):n===_ge?OC("Server Error: "+r):n===WO?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):OC("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),$2!==r&&Ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(mge))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gge))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:KO,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.allowedEvents_=e,this.listeners_={},Fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Fe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends R8{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!GN()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ww}getInitialEvent(e){return Fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=32,YO=768;class un{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ln(){return new un("")}function Ft(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pc(t){return t.pieces_.length-t.pieceNum_}function bn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new un(t.pieces_,e)}function j2(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ege(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function vg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function A8(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new un(e,0)}function Zn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof un)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new un(n,0)}function Bt(t){return t.pieceNum_>=t.pieces_.length}function Bi(t,e){const n=Ft(t),r=Ft(e);if(n===null)return e;if(n===r)return Bi(bn(t),bn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Sge(t,e){const n=vg(t,0),r=vg(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=md(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function z2(t,e){if(pc(t)!==pc(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ys(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(pc(t)>pc(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Tge{constructor(e,n){this.errorPrefix_=n,this.parts_=vg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=v1(this.parts_[r]);k8(this)}}function Cge(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=v1(e),k8(t)}function Ige(t){const e=t.parts_.pop();t.byteLength_-=v1(e),t.parts_.length>0&&(t.byteLength_-=1)}function k8(t){if(t.byteLength_>YO)throw new Error(t.errorPrefix_+"has a key path longer than "+YO+" bytes ("+t.byteLength_+").");if(t.parts_.length>QO)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+QO+") or object contains a cycle "+Zc(t))}function Zc(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2 extends R8{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new H2}getInitialEvent(e){return Fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=1e3,Nge=60*5*1e3,XO=30*1e3,Rge=1.3,Age=3e4,kge="server_kill",JO=3;class Va extends N8{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Va.nextPersistentConnectionId_++,this.log_=b0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ip,this.maxReconnectDelay_=Nge,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!w7())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");H2.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ww.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Fr(s)),Fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ts,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Fe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Va.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Rs(e,"w")){const r=Ou(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_se(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=XO)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=wse(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Fr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):OC("Unrecognized action received from server: "+Fr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ip,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ip,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Age&&(this.reconnectDelay_=Ip),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Rge)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Va.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){Fe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,p]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Qr("getToken() completed but was canceled"):(Qr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,a=new xge(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{Ri(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(kge)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ri(d),l())}}}interrupt(e){Qr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],mw(this.interruptReasons_)&&(this.reconnectDelay_=Ip,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>B2(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new un(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Qr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=JO&&(this.reconnectDelay_=XO,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Qr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=JO&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+i8.replace(/\./g,"-")]=1,GN()?e["framework.cordova"]=1:g1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ww.getInstance().currentlyOnline();return mw(this.interruptReasons_)&&e}}Va.nextPersistentConnectionId_=0;Va.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Vt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Vt(fc,e),i=new Vt(fc,n);return this.compare(r,i)!==0}minPost(){return Vt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jv;class P8 extends fb{static get __EMPTY_NODE(){return jv}static set __EMPTY_NODE(e){jv=e}compare(e,n){return md(e.name,n.name)}isDefinedOn(e){throw Sf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Vt.MIN}maxPost(){return new Vt(Xa,jv)}makePost(e,n){return Fe(typeof e=="string","KeyIndex indexValue must always be a string."),new Vt(e,jv)}toString(){return".key"}}const aa=new P8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Kr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Kr.RED,this.left=i??as.EMPTY_NODE,this.right=s??as.EMPTY_NODE}copy(e,n,r,i,s){return new Kr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return as.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return as.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Kr.RED=!0;Kr.BLACK=!1;class Pge{copy(e,n,r,i,s){return this}insert(e,n,r){return new Kr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class as{constructor(e,n=as.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new as(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Kr.BLACK,null,null))}remove(e){return new as(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Kr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new zv(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new zv(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new zv(this.root_,null,this.comparator_,!0,e)}}as.EMPTY_NODE=new Pge;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dge(t,e){return md(t.name,e.name)}function W2(t,e){return md(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FC;function Lge(t){FC=t}const D8=function(t){return typeof t=="number"?"number:"+d8(t):"string:"+t},L8=function(t){if(t.isLeafNode()){const e=t.val();Fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rs(e,".sv"),"Priority must be a string or number.")}else Fe(t===FC||t.isEmpty(),"priority of unexpected type.");Fe(t===FC||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZO;class zr{constructor(e,n=zr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),L8(this.priorityNode_)}static set __childrenNodeConstructor(e){ZO=e}static get __childrenNodeConstructor(){return ZO}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new zr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:zr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Bt(e)?this:Ft(e)===".priority"?this.priorityNode_:zr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:zr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ft(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Fe(r!==".priority"||pc(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,zr.__childrenNodeConstructor.EMPTY_NODE.updateChild(bn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+D8(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=d8(this.value_):e+=this.value_,this.lazyHash_=l8(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===zr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof zr.__childrenNodeConstructor?-1:(Fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=zr.VALUE_TYPE_ORDER.indexOf(n),s=zr.VALUE_TYPE_ORDER.indexOf(r);return Fe(i>=0,"Unknown leaf type: "+n),Fe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}zr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O8,M8;function Oge(t){O8=t}function Mge(t){M8=t}class Fge extends fb{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?md(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Vt.MIN}maxPost(){return new Vt(Xa,new zr("[PRIORITY-POST]",M8))}makePost(e,n){const r=O8(e);return new Vt(n,new zr("[PRIORITY-POST]",r))}toString(){return".priority"}}const kn=new Fge;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bge=Math.log(2);class $ge{constructor(e){const n=s=>parseInt(Math.log(s)/Bge,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Gw=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,p;if(u===0)return null;if(u===1)return d=t[l],p=n?n(d):d,new Kr(p,d.node,Kr.BLACK,null,null);{const v=parseInt(u/2,10)+l,g=i(l,v),_=i(v+1,c);return d=t[v],p=n?n(d):d,new Kr(p,d.node,Kr.BLACK,g,_)}},s=function(l){let c=null,u=null,d=t.length;const p=function(g,_){const R=d-g,E=d;d-=g;const b=i(R+1,E),T=t[R],I=n?n(T):T;v(new Kr(I,T.node,_,null,b))},v=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const _=l.nextBitIsOne(),R=Math.pow(2,l.count-(g+1));_?p(R,Kr.BLACK):(p(R,Kr.BLACK),p(R,Kr.RED))}return u},o=new $ge(t.length),a=s(o);return new as(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VE;const Pd={};class La{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Fe(Pd&&kn,"ChildrenNode.ts has not been loaded"),VE=VE||new La({".priority":Pd},{".priority":kn}),VE}get(e){const n=Ou(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof as?n:null}hasIndex(e){return Rs(this.indexSet_,e.toString())}addIndex(e,n){Fe(e!==aa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Vt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Gw(r,e.getCompare()):a=Pd;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new La(u,c)}addToIndexes(e,n){const r=gw(this.indexes_,(i,s)=>{const o=Ou(this.indexSet_,s);if(Fe(o,"Missing index implementation for "+s),i===Pd)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Vt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Gw(a,o.getCompare())}else return Pd;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Vt(e.name,a))),l.insert(e,e.node)}});return new La(r,this.indexSet_)}removeFromIndexes(e,n){const r=gw(this.indexes_,i=>{if(i===Pd)return i;{const s=n.get(e.name);return s?i.remove(new Vt(e.name,s)):i}});return new La(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np;class xt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&L8(this.priorityNode_),this.children_.isEmpty()&&Fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Np||(Np=new xt(new as(W2),null,La.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Np}updatePriority(e){return this.children_.isEmpty()?this:new xt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Np:n}}getChild(e){const n=Ft(e);return n===null?this:this.getImmediateChild(n).getChild(bn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Fe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Vt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Np:this.priorityNode_;return new xt(i,o,s)}}updateChild(e,n){const r=Ft(e);if(r===null)return n;{Fe(Ft(e)!==".priority"||pc(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(bn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(kn,(o,a)=>{n[o]=a.val(e),r++,s&&xt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+D8(this.getPriority().val())+":"),this.forEachChild(kn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":l8(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Vt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Vt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Vt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Vt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Vt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===x0?-1:0}withIndex(e){if(e===aa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new xt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===aa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(kn),i=n.getIterator(kn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===aa?null:this.indexMap_.get(e.toString())}}xt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Uge extends xt{constructor(){super(new as(W2),xt.EMPTY_NODE,La.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xt.EMPTY_NODE}isEmpty(){return!1}}const x0=new Uge;Object.defineProperties(Vt,{MIN:{value:new Vt(fc,xt.EMPTY_NODE)},MAX:{value:new Vt(Xa,x0)}});P8.__EMPTY_NODE=xt.EMPTY_NODE;zr.__childrenNodeConstructor=xt;Lge(x0);Mge(x0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vge=!0;function rr(t,e=null){if(t===null)return xt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new zr(n,rr(e))}if(!(t instanceof Array)&&Vge){const n=[];let r=!1;if(ei(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=rr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Vt(o,l)))}}),n.length===0)return xt.EMPTY_NODE;const s=Gw(n,Dge,o=>o.name,W2);if(r){const o=Gw(n,kn.getCompare());return new xt(s,rr(e),new La({".priority":o},{".priority":kn}))}else return new xt(s,rr(e),La.Default)}else{let n=xt.EMPTY_NODE;return ei(t,(r,i)=>{if(Rs(t,r)&&r.substring(0,1)!=="."){const s=rr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(rr(e))}}Oge(rr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2 extends fb{constructor(e){super(),this.indexPath_=e,Fe(!Bt(e)&&Ft(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?md(e.name,n.name):s}makePost(e,n){const r=rr(e),i=xt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Vt(n,i)}maxPost(){const e=xt.EMPTY_NODE.updateChild(this.indexPath_,x0);return new Vt(Xa,e)}toString(){return vg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jge extends fb{compare(e,n){const r=e.node.compareTo(n.node);return r===0?md(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Vt.MIN}maxPost(){return Vt.MAX}makePost(e,n){const r=rr(e);return new Vt(n,r)}toString(){return".value"}}const q2=new jge;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t){return{type:"value",snapshotNode:t}}function rf(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function yg(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function wg(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function zge(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){Fe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(yg(n,a)):Fe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(rf(n,r)):o.trackChildChange(wg(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(kn,(i,s)=>{n.hasChild(i)||r.trackChildChange(yg(i,s))}),n.isLeafNode()||n.forEachChild(kn,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(wg(i,s,o))}else r.trackChildChange(rf(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?xt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.indexedFilter_=new K2(e.getIndex()),this.index_=e.getIndex(),this.startPost_=_g.getStartPost_(e),this.endPost_=_g.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Vt(n,r))||(r=xt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=xt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(xt.EMPTY_NODE);const s=this;return n.forEachChild(kn,(o,a)=>{s.matches(new Vt(o,a))||(i=i.updateImmediateChild(o,xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hge{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new _g(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Vt(n,r))||(r=xt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=xt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=xt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(xt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,xt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(p,v)=>d(v,p)}else o=this.index_.getCompare();const a=e;Fe(a.numChildren()===this.limit_,"");const l=new Vt(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let p=i.getChildAfterChild(this.index_,c,this.reverse_);for(;p!=null&&(p.name===n||a.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);const v=p==null?1:o(p,l);if(u&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(wg(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(yg(n,d));const _=a.updateImmediateChild(n,xt.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(s!=null&&s.trackChildChange(rf(p.name,p.node)),_.updateImmediateChild(p.name,p.node)):_}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(yg(c.name,c.node)),s.trackChildChange(rf(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,xt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fc}hasEnd(){return this.endSet_}getIndexEndValue(){return Fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kn}copy(){const e=new pb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Wge(t){return t.loadsAllData()?new K2(t.getIndex()):t.hasLimit()?new Hge(t):new _g(t)}function Gge(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function qge(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function BC(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Kge(t,e,n){let r;return t.index_===aa||n?r=BC(t,e,n):r=BC(t,e,Xa),r.startAfterSet_=!0,r}function $C(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Qge(t,e,n){let r;return t.index_===aa||n?r=$C(t,e,n):r=$C(t,e,fc),r.endBeforeSet_=!0,r}function mb(t,e){const n=t.copy();return n.index_=e,n}function e3(t){const e={};if(t.isDefault())return e;let n;if(t.index_===kn?n="$priority":t.index_===q2?n="$value":t.index_===aa?n="$key":(Fe(t.index_ instanceof G2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Fr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Fr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Fr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Fr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Fr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function t3(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==kn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends N8{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=b0("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=qw.getListenId_(e,r),a={};this.listens_[o]=a;const l=e3(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),Ou(this.listens_,o)===a){let p;c?c===401?p="permission_denied":p="rest_error:"+c:p="ok",i(p,null)}})}unlisten(e,n){const r=qw.getListenId_(e,n);delete this.listens_[r]}get(e){const n=e3(e._queryParams),r=e._path.toString(),i=new ts;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+od(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=jm(a.responseText)}catch{Ri("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ri("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yge{constructor(){this.rootNode_=xt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return{value:null,children:new Map}}function jf(t,e,n){if(Bt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ft(e);t.children.has(r)||t.children.set(r,Kw());const i=t.children.get(r);e=bn(e),jf(i,e,n)}}function UC(t,e){if(Bt(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(kn,(r,i)=>{jf(t,new un(r),i)}),UC(t,e)}}else if(t.children.size>0){const n=Ft(e);return e=bn(e),t.children.has(n)&&UC(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function VC(t,e,n){t.value!==null?n(e,t.value):Xge(t,(r,i)=>{const s=new un(e.toString()+"/"+r);VC(i,s,n)})}function Xge(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jge{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ei(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=10*1e3,Zge=30*1e3,e0e=5*60*1e3;class t0e{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Jge(e);const r=n3+(Zge-n3)*Math.random();gm(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ei(e,(i,s)=>{s>0&&Rs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),gm(this.reportStats_.bind(this),Math.floor(Math.random()*2*e0e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(xo||(xo={}));function Q2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Y2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function X2(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=xo.ACK_USER_WRITE,this.source=Q2()}operationForChild(e){if(Bt(this.path)){if(this.affectedTree.value!=null)return Fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new un(e));return new Qw(ln(),n,this.revert)}}else return Fe(Ft(this.path)===e,"operationForChild called for unrelated child."),new Qw(bn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){this.source=e,this.path=n,this.type=xo.LISTEN_COMPLETE}operationForChild(e){return Bt(this.path)?new bg(this.source,ln()):new bg(this.source,bn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=xo.OVERWRITE}operationForChild(e){return Bt(this.path)?new Ku(this.source,ln(),this.snap.getImmediateChild(e)):new Ku(this.source,bn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=xo.MERGE}operationForChild(e){if(Bt(this.path)){const n=this.children.subtree(new un(e));return n.isEmpty()?null:n.value?new Ku(this.source,ln(),n.value):new sf(this.source,ln(),n)}else return Fe(Ft(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sf(this.source,bn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Bt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ft(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0e{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function r0e(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(zge(o.childName,o.snapshotNode))}),Rp(t,i,"child_removed",e,r,n),Rp(t,i,"child_added",e,r,n),Rp(t,i,"child_moved",s,r,n),Rp(t,i,"child_changed",e,r,n),Rp(t,i,"value",e,r,n),i}function Rp(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>s0e(t,a,l)),o.forEach(a=>{const l=i0e(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function i0e(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function s0e(t,e,n){if(e.childName==null||n.childName==null)throw Sf("Should only compare child_ events.");const r=new Vt(e.childName,e.snapshotNode),i=new Vt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e){return{eventCache:t,serverCache:e}}function vm(t,e,n,r){return gb(new mc(e,n,r),t.serverCache)}function B8(t,e,n,r){return gb(t.eventCache,new mc(e,n,r))}function Yw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Qu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jE;const o0e=()=>(jE||(jE=new as(jme)),jE);class Rn{constructor(e,n=o0e()){this.value=e,this.children=n}static fromObject(e){let n=new Rn(null);return ei(e,(r,i)=>{n=n.set(new un(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ln(),value:this.value};if(Bt(e))return null;{const r=Ft(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(bn(e),n);return s!=null?{path:Zn(new un(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Bt(e))return this;{const n=Ft(e),r=this.children.get(n);return r!==null?r.subtree(bn(e)):new Rn(null)}}set(e,n){if(Bt(e))return new Rn(n,this.children);{const r=Ft(e),s=(this.children.get(r)||new Rn(null)).set(bn(e),n),o=this.children.insert(r,s);return new Rn(this.value,o)}}remove(e){if(Bt(e))return this.children.isEmpty()?new Rn(null):new Rn(null,this.children);{const n=Ft(e),r=this.children.get(n);if(r){const i=r.remove(bn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Rn(null):new Rn(this.value,s)}else return this}}get(e){if(Bt(e))return this.value;{const n=Ft(e),r=this.children.get(n);return r?r.get(bn(e)):null}}setTree(e,n){if(Bt(e))return n;{const r=Ft(e),s=(this.children.get(r)||new Rn(null)).setTree(bn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Rn(this.value,o)}}fold(e){return this.fold_(ln(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Zn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ln(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Bt(e))return null;{const s=Ft(e),o=this.children.get(s);return o?o.findOnPath_(bn(e),Zn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ln(),n)}foreachOnPath_(e,n,r){if(Bt(e))return this;{this.value&&r(n,this.value);const i=Ft(e),s=this.children.get(i);return s?s.foreachOnPath_(bn(e),Zn(n,i),r):new Rn(null)}}foreach(e){this.foreach_(ln(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Zn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.writeTree_=e}static empty(){return new Io(new Rn(null))}}function ym(t,e,n){if(Bt(e))return new Io(new Rn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Bi(i,e);return s=s.updateChild(o,n),new Io(t.writeTree_.set(i,s))}else{const i=new Rn(n),s=t.writeTree_.setTree(e,i);return new Io(s)}}}function jC(t,e,n){let r=t;return ei(n,(i,s)=>{r=ym(r,Zn(e,i),s)}),r}function r3(t,e){if(Bt(e))return Io.empty();{const n=t.writeTree_.setTree(e,new Rn(null));return new Io(n)}}function zC(t,e){return gd(t,e)!=null}function gd(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Bi(n.path,e)):null}function i3(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(kn,(r,i)=>{e.push(new Vt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Vt(r,i.value))}),e}function ql(t,e){if(Bt(e))return t;{const n=gd(t,e);return n!=null?new Io(new Rn(n)):new Io(t.writeTree_.subtree(e))}}function HC(t){return t.writeTree_.isEmpty()}function of(t,e){return $8(ln(),t.writeTree_,e)}function $8(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Fe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=$8(Zn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Zn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e){return z8(e,t)}function a0e(t,e,n,r,i){Fe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ym(t.visibleWrites,e,n)),t.lastWriteId=r}function l0e(t,e,n,r){Fe(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=jC(t.visibleWrites,e,n),t.lastWriteId=r}function c0e(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function u0e(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Fe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&d0e(a,r.path)?i=!1:Ys(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return h0e(t),!0;if(r.snap)t.visibleWrites=r3(t.visibleWrites,r.path);else{const a=r.children;ei(a,l=>{t.visibleWrites=r3(t.visibleWrites,Zn(r.path,l))})}return!0}else return!1}function d0e(t,e){if(t.snap)return Ys(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ys(Zn(t.path,n),e))return!0;return!1}function h0e(t){t.visibleWrites=U8(t.allWrites,f0e,ln()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function f0e(t){return t.visible}function U8(t,e,n){let r=Io.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ys(n,o)?(a=Bi(n,o),r=ym(r,a,s.snap)):Ys(o,n)&&(a=Bi(o,n),r=ym(r,ln(),s.snap.getChild(a)));else if(s.children){if(Ys(n,o))a=Bi(n,o),r=jC(r,a,s.children);else if(Ys(o,n))if(a=Bi(o,n),Bt(a))r=jC(r,ln(),s.children);else{const l=Ou(s.children,Ft(a));if(l){const c=l.getChild(bn(a));r=ym(r,ln(),c)}}}else throw Sf("WriteRecord should have .snap or .children")}}return r}function V8(t,e,n,r,i){if(!r&&!i){const s=gd(t.visibleWrites,e);if(s!=null)return s;{const o=ql(t.visibleWrites,e);if(HC(o))return n;if(n==null&&!zC(o,ln()))return null;{const a=n||xt.EMPTY_NODE;return of(o,a)}}}else{const s=ql(t.visibleWrites,e);if(!i&&HC(s))return n;if(!i&&n==null&&!zC(s,ln()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Ys(c.path,e)||Ys(e,c.path))},a=U8(t.allWrites,o,e),l=n||xt.EMPTY_NODE;return of(a,l)}}}function p0e(t,e,n){let r=xt.EMPTY_NODE;const i=gd(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(kn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ql(t.visibleWrites,e);return n.forEachChild(kn,(o,a)=>{const l=of(ql(s,new un(o)),a);r=r.updateImmediateChild(o,l)}),i3(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ql(t.visibleWrites,e);return i3(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function m0e(t,e,n,r,i){Fe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Zn(e,n);if(zC(t.visibleWrites,s))return null;{const o=ql(t.visibleWrites,s);return HC(o)?i.getChild(n):of(o,i.getChild(n))}}function g0e(t,e,n,r){const i=Zn(e,n),s=gd(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ql(t.visibleWrites,i);return of(o,r.getNode().getImmediateChild(n))}else return null}function v0e(t,e){return gd(t.visibleWrites,e)}function y0e(t,e,n,r,i,s,o){let a;const l=ql(t.visibleWrites,e),c=gd(l,ln());if(c!=null)a=c;else if(n!=null)a=of(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),p=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let v=p.getNext();for(;v&&u.length<i;)d(v,r)!==0&&u.push(v),v=p.getNext();return u}else return[]}function w0e(){return{visibleWrites:Io.empty(),allWrites:[],lastWriteId:-1}}function Xw(t,e,n,r){return V8(t.writeTree,t.treePath,e,n,r)}function J2(t,e){return p0e(t.writeTree,t.treePath,e)}function s3(t,e,n,r){return m0e(t.writeTree,t.treePath,e,n,r)}function Jw(t,e){return v0e(t.writeTree,Zn(t.treePath,e))}function _0e(t,e,n,r,i,s){return y0e(t.writeTree,t.treePath,e,n,r,i,s)}function Z2(t,e,n){return g0e(t.writeTree,t.treePath,e,n)}function j8(t,e){return z8(Zn(t.treePath,e),t.writeTree)}function z8(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0e{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Fe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Fe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,wg(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,yg(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,rf(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,wg(r,e.snapshotNode,i.oldSnap));else throw Sf("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0e{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const H8=new x0e;class eA{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new mc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Z2(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qu(this.viewCache_),s=_0e(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0e(t){return{filter:t}}function S0e(t,e){Fe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Fe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function T0e(t,e,n,r,i){const s=new b0e;let o,a;if(n.type===xo.OVERWRITE){const c=n;c.source.fromUser?o=WC(t,e,c.path,c.snap,r,i,s):(Fe(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Bt(c.path),o=Zw(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===xo.MERGE){const c=n;c.source.fromUser?o=I0e(t,e,c.path,c.children,r,i,s):(Fe(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=GC(t,e,c.path,c.children,r,i,a,s))}else if(n.type===xo.ACK_USER_WRITE){const c=n;c.revert?o=A0e(t,e,c.path,r,i,s):o=N0e(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===xo.LISTEN_COMPLETE)o=R0e(t,e,n.path,r,s);else throw Sf("Unknown operation type: "+n.type);const l=s.getChanges();return C0e(e,o,l),{viewCache:o,changes:l}}function C0e(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Yw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(F8(Yw(e)))}}function W8(t,e,n,r,i,s){const o=e.eventCache;if(Jw(r,n)!=null)return e;{let a,l;if(Bt(n))if(Fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Qu(e),u=c instanceof xt?c:xt.EMPTY_NODE,d=J2(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Xw(r,Qu(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Ft(n);if(c===".priority"){Fe(pc(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=s3(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=bn(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const p=s3(r,n,o.getNode(),l);p!=null?d=o.getNode().getImmediateChild(c).updateChild(u,p):d=o.getNode().getImmediateChild(c)}else d=Z2(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return vm(e,a,o.isFullyInitialized()||Bt(n),t.filter.filtersNodes())}}function Zw(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Bt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),v,null)}else{const v=Ft(n);if(!l.isCompleteForPath(n)&&pc(n)>1)return e;const g=bn(n),R=l.getNode().getImmediateChild(v).updateChild(g,r);v===".priority"?c=u.updatePriority(l.getNode(),R):c=u.updateChild(l.getNode(),v,R,g,H8,null)}const d=B8(e,c,l.isFullyInitialized()||Bt(n),u.filtersNodes()),p=new eA(i,d,s);return W8(t,d,n,i,p,a)}function WC(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new eA(i,e,s);if(Bt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=vm(e,c,!0,t.filter.filtersNodes());else{const d=Ft(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=vm(e,c,a.isFullyInitialized(),a.isFiltered());else{const p=bn(n),v=a.getNode().getImmediateChild(d);let g;if(Bt(p))g=r;else{const _=u.getCompleteChild(d);_!=null?j2(p)===".priority"&&_.getChild(A8(p)).isEmpty()?g=_:g=_.updateChild(p,r):g=xt.EMPTY_NODE}if(v.equals(g))l=e;else{const _=t.filter.updateChild(a.getNode(),d,g,p,u,o);l=vm(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function o3(t,e){return t.eventCache.isCompleteForChild(e)}function I0e(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Zn(n,l);o3(e,Ft(u))&&(a=WC(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Zn(n,l);o3(e,Ft(u))||(a=WC(t,a,u,c,i,s,o))}),a}function a3(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function GC(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Bt(n)?c=r:c=new Rn(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,p)=>{if(u.hasChild(d)){const v=e.serverCache.getNode().getImmediateChild(d),g=a3(t,v,p);l=Zw(t,l,new un(d),g,i,s,o,a)}}),c.children.inorderTraversal((d,p)=>{const v=!e.serverCache.isCompleteForChild(d)&&p.value===null;if(!u.hasChild(d)&&!v){const g=e.serverCache.getNode().getImmediateChild(d),_=a3(t,g,p);l=Zw(t,l,new un(d),_,i,s,o,a)}}),l}function N0e(t,e,n,r,i,s,o){if(Jw(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Bt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Zw(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Bt(n)){let c=new Rn(null);return l.getNode().forEachChild(aa,(u,d)=>{c=c.set(new un(u),d)}),GC(t,e,n,c,i,s,a,o)}else return e}else{let c=new Rn(null);return r.foreach((u,d)=>{const p=Zn(n,u);l.isCompleteForPath(p)&&(c=c.set(u,l.getNode().getChild(p)))}),GC(t,e,n,c,i,s,a,o)}}function R0e(t,e,n,r,i){const s=e.serverCache,o=B8(e,s.getNode(),s.isFullyInitialized()||Bt(n),s.isFiltered());return W8(t,o,n,r,H8,i)}function A0e(t,e,n,r,i,s){let o;if(Jw(r,n)!=null)return e;{const a=new eA(r,e,i),l=e.eventCache.getNode();let c;if(Bt(n)||Ft(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Xw(r,Qu(e));else{const d=e.serverCache.getNode();Fe(d instanceof xt,"serverChildren would be complete if leaf node"),u=J2(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=Ft(n);let d=Z2(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,bn(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,xt.EMPTY_NODE,bn(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Xw(r,Qu(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Jw(r,ln())!=null,vm(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0e{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new K2(r.getIndex()),s=Wge(r);this.processor_=E0e(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(xt.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(xt.EMPTY_NODE,a.getNode(),null),u=new mc(l,o.isFullyInitialized(),i.filtersNodes()),d=new mc(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=gb(d,u),this.eventGenerator_=new n0e(this.query_)}get query(){return this.query_}}function P0e(t){return t.viewCache_.serverCache.getNode()}function D0e(t){return Yw(t.viewCache_)}function L0e(t,e){const n=Qu(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Bt(e)&&!n.getImmediateChild(Ft(e)).isEmpty())?n.getChild(e):null}function l3(t){return t.eventRegistrations_.length===0}function O0e(t,e){t.eventRegistrations_.push(e)}function c3(t,e,n){const r=[];if(n){Fe(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function u3(t,e,n,r){e.type===xo.MERGE&&e.source.queryId!==null&&(Fe(Qu(t.viewCache_),"We should always have a full cache before handling merges"),Fe(Yw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=T0e(t.processor_,i,e,n,r);return S0e(t.processor_,s.viewCache),Fe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,G8(t,s.changes,s.viewCache.eventCache.getNode(),null)}function M0e(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(kn,(s,o)=>{r.push(rf(s,o))}),n.isFullyInitialized()&&r.push(F8(n.getNode())),G8(t,r,n.getNode(),e)}function G8(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return r0e(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e_;class q8{constructor(){this.views=new Map}}function F0e(t){Fe(!e_,"__referenceConstructor has already been defined"),e_=t}function B0e(){return Fe(e_,"Reference.ts has not been loaded"),e_}function $0e(t){return t.views.size===0}function tA(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Fe(s!=null,"SyncTree gave us an op for an invalid query."),u3(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(u3(o,e,n,r));return s}}function K8(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Xw(n,i?r:null),l=!1;a?l=!0:r instanceof xt?(a=J2(n,r),l=!1):(a=xt.EMPTY_NODE,l=!1);const c=gb(new mc(a,l,!1),new mc(r,i,!1));return new k0e(e,c)}return o}function U0e(t,e,n,r,i,s){const o=K8(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),O0e(o,n),M0e(o,n)}function V0e(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=gc(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(c3(c,n,r)),l3(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(c3(l,n,r)),l3(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!gc(t)&&s.push(new(B0e())(e._repo,e._path)),{removed:s,events:o}}function Q8(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Kl(t,e){let n=null;for(const r of t.views.values())n=n||L0e(r,e);return n}function Y8(t,e){if(e._queryParams.loadsAllData())return yb(t);{const r=e._queryIdentifier;return t.views.get(r)}}function X8(t,e){return Y8(t,e)!=null}function gc(t){return yb(t)!=null}function yb(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t_;function j0e(t){Fe(!t_,"__referenceConstructor has already been defined"),t_=t}function z0e(){return Fe(t_,"Reference.ts has not been loaded"),t_}let H0e=1;class d3{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Rn(null),this.pendingWriteTree_=w0e(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nA(t,e,n,r,i){return a0e(t.pendingWriteTree_,e,n,r,i),i?zf(t,new Ku(Q2(),e,n)):[]}function W0e(t,e,n,r){l0e(t.pendingWriteTree_,e,n,r);const i=Rn.fromObject(n);return zf(t,new sf(Q2(),e,i))}function Dl(t,e,n=!1){const r=c0e(t.pendingWriteTree_,e);if(u0e(t.pendingWriteTree_,e)){let s=new Rn(null);return r.snap!=null?s=s.set(ln(),!0):ei(r.children,o=>{s=s.set(new un(o),!0)}),zf(t,new Qw(r.path,s,n))}else return[]}function E0(t,e,n){return zf(t,new Ku(Y2(),e,n))}function G0e(t,e,n){const r=Rn.fromObject(n);return zf(t,new sf(Y2(),e,r))}function q0e(t,e){return zf(t,new bg(Y2(),e))}function K0e(t,e,n){const r=rA(t,n);if(r){const i=iA(r),s=i.path,o=i.queryId,a=Bi(s,e),l=new bg(X2(o),a);return sA(t,s,l)}else return[]}function n_(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||X8(o,e))){const l=V0e(o,e,n,r);$0e(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(p=>p._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(p,v)=>gc(v));if(u&&!d){const p=t.syncPointTree_.subtree(s);if(!p.isEmpty()){const v=X0e(p);for(let g=0;g<v.length;++g){const _=v[g],R=_.query,E=tj(t,_);t.listenProvider_.startListening(wm(R),xg(t,R),E.hashFn,E.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(wm(e),null):c.forEach(p=>{const v=t.queryToTagMap.get(_b(p));t.listenProvider_.stopListening(wm(p),v)}))}J0e(t,c)}return a}function J8(t,e,n,r){const i=rA(t,r);if(i!=null){const s=iA(i),o=s.path,a=s.queryId,l=Bi(o,e),c=new Ku(X2(a),l,n);return sA(t,o,c)}else return[]}function Q0e(t,e,n,r){const i=rA(t,r);if(i){const s=iA(i),o=s.path,a=s.queryId,l=Bi(o,e),c=Rn.fromObject(n),u=new sf(X2(a),l,c);return sA(t,o,u)}else return[]}function qC(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(p,v)=>{const g=Bi(p,i);s=s||Kl(v,g),o=o||gc(v)});let a=t.syncPointTree_.get(i);a?(o=o||gc(a),s=s||Kl(a,ln())):(a=new q8,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=xt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,g)=>{const _=Kl(g,ln());_&&(s=s.updateImmediateChild(v,_))}));const c=X8(a,e);if(!c&&!e._queryParams.loadsAllData()){const p=_b(e);Fe(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const v=Z0e();t.queryToTagMap.set(p,v),t.tagToQueryMap.set(v,p)}const u=vb(t.pendingWriteTree_,i);let d=U0e(a,e,n,u,s,l);if(!c&&!o&&!r){const p=Y8(a,e);d=d.concat(eve(t,e,p))}return d}function wb(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Bi(o,e),c=Kl(a,l);if(c)return c});return V8(i,e,s,n,!0)}function Y0e(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Bi(c,n);r=r||Kl(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Kl(i,ln()):(i=new q8,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new mc(r,!0,!1):null,a=vb(t.pendingWriteTree_,e._path),l=K8(i,e,a,s?o.getNode():xt.EMPTY_NODE,s);return D0e(l)}function zf(t,e){return Z8(e,t.syncPointTree_,null,vb(t.pendingWriteTree_,ln()))}function Z8(t,e,n,r){if(Bt(t.path))return ej(t,e,n,r);{const i=e.get(ln());n==null&&i!=null&&(n=Kl(i,ln()));let s=[];const o=Ft(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=j8(r,o);s=s.concat(Z8(a,l,c,u))}return i&&(s=s.concat(tA(i,t,r,n))),s}}function ej(t,e,n,r){const i=e.get(ln());n==null&&i!=null&&(n=Kl(i,ln()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=j8(r,o),u=t.operationForChild(o);u&&(s=s.concat(ej(u,a,l,c)))}),i&&(s=s.concat(tA(i,t,r,n))),s}function tj(t,e){const n=e.query,r=xg(t,n);return{hashFn:()=>(P0e(e)||xt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?K0e(t,n._path,r):q0e(t,n._path);{const s=Wme(i,n);return n_(t,n,null,s)}}}}function xg(t,e){const n=_b(e);return t.queryToTagMap.get(n)}function _b(t){return t._path.toString()+"$"+t._queryIdentifier}function rA(t,e){return t.tagToQueryMap.get(e)}function iA(t){const e=t.indexOf("$");return Fe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new un(t.substr(0,e))}}function sA(t,e,n){const r=t.syncPointTree_.get(e);Fe(r,"Missing sync point for query tag that we're tracking");const i=vb(t.pendingWriteTree_,e);return tA(r,n,i,null)}function X0e(t){return t.fold((e,n,r)=>{if(n&&gc(n))return[yb(n)];{let i=[];return n&&(i=Q8(n)),ei(r,(s,o)=>{i=i.concat(o)}),i}})}function wm(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(z0e())(t._repo,t._path):t}function J0e(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=_b(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Z0e(){return H0e++}function eve(t,e,n){const r=e._path,i=xg(t,e),s=tj(t,n),o=t.listenProvider_.startListening(wm(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)Fe(!gc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Bt(c)&&u&&gc(u))return[yb(u).query];{let p=[];return u&&(p=p.concat(Q8(u).map(v=>v.query))),ei(d,(v,g)=>{p=p.concat(g)}),p}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(wm(u),xg(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new oA(n)}node(){return this.node_}}class aA{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Zn(this.path_,e);return new aA(this.syncTree_,n)}node(){return wb(this.syncTree_,this.path_)}}const tve=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},h3=function(t,e,n){if(!t||typeof t!="object")return t;if(Fe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return nve(t[".sv"],e,n);if(typeof t[".sv"]=="object")return rve(t[".sv"],e);Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},nve=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Fe(!1,"Unexpected server value: "+t)}},rve=function(t,e,n){t.hasOwnProperty("increment")||Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Fe(!1,"Unexpected increment value: "+r);const i=e.node();if(Fe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},nj=function(t,e,n,r){return cA(e,new aA(n,t),r)},lA=function(t,e,n){return cA(t,new oA(e),n)};function cA(t,e,n){const r=t.getPriority().val(),i=h3(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=h3(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new zr(a,rr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new zr(i))),o.forEachChild(kn,(a,l)=>{const c=cA(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function bb(t,e){let n=e instanceof un?e:new un(e),r=t,i=Ft(n);for(;i!==null;){const s=Ou(r.node.children,i)||{children:{},childCount:0};r=new uA(i,r,s),n=bn(n),i=Ft(n)}return r}function vd(t){return t.node.value}function dA(t,e){t.node.value=e,KC(t)}function rj(t){return t.node.childCount>0}function ive(t){return vd(t)===void 0&&!rj(t)}function xb(t,e){ei(t.node.children,(n,r)=>{e(new uA(n,t,r))})}function ij(t,e,n,r){n&&!r&&e(t),xb(t,i=>{ij(i,e,!0,r)}),n&&r&&e(t)}function sve(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function S0(t){return new un(t.parent===null?t.name:S0(t.parent)+"/"+t.name)}function KC(t){t.parent!==null&&ove(t.parent,t.name,t)}function ove(t,e,n){const r=ive(n),i=Rs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,KC(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,KC(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ave=/[\[\].#$\/\u0000-\u001F\u007F]/,lve=/[\[\].#$\u0000-\u001F\u007F]/,zE=10*1024*1024,Eb=function(t){return typeof t=="string"&&t.length!==0&&!ave.test(t)},sj=function(t){return typeof t=="string"&&t.length!==0&&!lve.test(t)},cve=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),sj(t)},Eg=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!hb(t)||t&&typeof t=="object"&&Rs(t,".sv")},ma=function(t,e,n,r){r&&e===void 0||T0(hs(t,"value"),e,n)},T0=function(t,e,n){const r=n instanceof un?new Tge(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Zc(r));if(typeof e=="function")throw new Error(t+"contains a function "+Zc(r)+" with contents = "+e.toString());if(hb(e))throw new Error(t+"contains "+e.toString()+" "+Zc(r));if(typeof e=="string"&&e.length>zE/3&&v1(e)>zE)throw new Error(t+"contains a string greater than "+zE+" utf8 bytes "+Zc(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ei(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Eb(o)))throw new Error(t+" contains an invalid key ("+o+") "+Zc(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Cge(r,o),T0(t,a,r),Ige(r)}),i&&s)throw new Error(t+' contains ".value" child '+Zc(r)+" in addition to actual children.")}},uve=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=vg(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Eb(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Sge);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Ys(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},oj=function(t,e,n,r){if(r&&e===void 0)return;const i=hs(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];ei(e,(o,a)=>{const l=new un(o);if(T0(i,a,Zn(n,l)),j2(l)===".priority"&&!Eg(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),uve(i,s)},hA=function(t,e,n){if(!(n&&e===void 0)){if(hb(e))throw new Error(hs(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Eg(e))throw new Error(hs(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},C0=function(t,e,n,r){if(!(r&&n===void 0)&&!Eb(n))throw new Error(hs(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Sg=function(t,e,n,r){if(!(r&&n===void 0)&&!sj(n))throw new Error(hs(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dve=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Sg(t,e,n,r)},Xs=function(t,e){if(Ft(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},aj=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Eb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!cve(n))throw new Error(hs(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hve{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sb(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!z2(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function lj(t,e,n){Sb(t,n),cj(t,r=>z2(r,e))}function Ps(t,e,n){Sb(t,n),cj(t,r=>Ys(r,e)||Ys(e,r))}function cj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(fve(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function fve(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Tu&&Qr("event: "+n.toString()),Vf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="repo_interrupt",pve=25;class mve{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hve,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kw(),this.transactionQueueTree_=new uA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gve(t,e,n){if(t.stats_=U2(t.repoInfo_),t.forceRestClient_||Qme())t.server_=new qw(t.repoInfo_,(r,i,s,o)=>{f3(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>p3(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Va(t.repoInfo_,e,(r,i,s,o)=>{f3(t,r,i,s,o)},r=>{p3(t,r)},r=>{vve(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ege(t.repoInfo_,()=>new t0e(t.stats_,t.server_)),t.infoData_=new Yge,t.infoSyncTree_=new d3({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=E0(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),fA(t,"connected",!1),t.serverSyncTree_=new d3({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Ps(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function dj(t){const n=t.infoData_.getNode(new un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function I0(t){return tve({timestamp:dj(t)})}function f3(t,e,n,r,i){t.dataUpdateCount++;const s=new un(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=gw(n,c=>rr(c));o=Q0e(t.serverSyncTree_,s,l,i)}else{const l=rr(n);o=J8(t.serverSyncTree_,s,l,i)}else if(r){const l=gw(n,c=>rr(c));o=G0e(t.serverSyncTree_,s,l)}else{const l=rr(n);o=E0(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=af(t,s)),Ps(t.eventQueue_,a,o)}function p3(t,e){fA(t,"connected",e),e===!1&&_ve(t)}function vve(t,e){ei(e,(n,r)=>{fA(t,n,r)})}function fA(t,e,n){const r=new un("/.info/"+e),i=rr(n);t.infoData_.updateSnapshot(r,i);const s=E0(t.infoSyncTree_,r,i);Ps(t.eventQueue_,r,s)}function Tb(t){return t.nextWriteId_++}function yve(t,e,n){const r=Y0e(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=rr(i).withIndex(e._queryParams.getIndex());qC(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=E0(t.serverSyncTree_,e._path,s);else{const a=xg(t.serverSyncTree_,e);o=J8(t.serverSyncTree_,e._path,s,a)}return Ps(t.eventQueue_,e._path,o),n_(t.serverSyncTree_,e,n,null,!0),s},i=>(Hf(t,"get for query "+Fr(e)+" failed: "+i),Promise.reject(new Error(i))))}function pA(t,e,n,r,i){Hf(t,"set",{path:e.toString(),value:n,priority:r});const s=I0(t),o=rr(n,r),a=wb(t.serverSyncTree_,e),l=lA(o,a,s),c=Tb(t),u=nA(t.serverSyncTree_,e,l,c,!0);Sb(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(p,v)=>{const g=p==="ok";g||Ri("set at "+e+" failed: "+p);const _=Dl(t.serverSyncTree_,c,!g);Ps(t.eventQueue_,e,_),vc(t,i,p,v)});const d=gA(t,e);af(t,d),Ps(t.eventQueue_,d,[])}function wve(t,e,n,r){Hf(t,"update",{path:e.toString(),value:n});let i=!0;const s=I0(t),o={};if(ei(n,(a,l)=>{i=!1,o[a]=nj(Zn(e,a),rr(l),t.serverSyncTree_,s)}),i)Qr("update() called with empty data.  Don't do anything."),vc(t,r,"ok",void 0);else{const a=Tb(t),l=W0e(t.serverSyncTree_,e,o,a);Sb(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||Ri("update at "+e+" failed: "+c);const p=Dl(t.serverSyncTree_,a,!d),v=p.length>0?af(t,e):e;Ps(t.eventQueue_,v,p),vc(t,r,c,u)}),ei(n,c=>{const u=gA(t,Zn(e,c));af(t,u)}),Ps(t.eventQueue_,e,[])}}function _ve(t){Hf(t,"onDisconnectEvents");const e=I0(t),n=Kw();VC(t.onDisconnect_,ln(),(i,s)=>{const o=nj(i,s,t.serverSyncTree_,e);jf(n,i,o)});let r=[];VC(n,ln(),(i,s)=>{r=r.concat(E0(t.serverSyncTree_,i,s));const o=gA(t,i);af(t,o)}),t.onDisconnect_=Kw(),Ps(t.eventQueue_,ln(),r)}function bve(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&UC(t.onDisconnect_,e),vc(t,n,r,i)})}function m3(t,e,n,r){const i=rr(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&jf(t.onDisconnect_,e,i),vc(t,r,s,o)})}function xve(t,e,n,r,i){const s=rr(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&jf(t.onDisconnect_,e,s),vc(t,i,o,a)})}function Eve(t,e,n,r){if(mw(n)){Qr("onDisconnect().update() called with empty data.  Don't do anything."),vc(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&ei(n,(o,a)=>{const l=rr(a);jf(t.onDisconnect_,Zn(e,o),l)}),vc(t,r,i,s)})}function Sve(t,e,n){let r;Ft(e._path)===".info"?r=qC(t.infoSyncTree_,e,n):r=qC(t.serverSyncTree_,e,n),lj(t.eventQueue_,e._path,r)}function QC(t,e,n){let r;Ft(e._path)===".info"?r=n_(t.infoSyncTree_,e,n):r=n_(t.serverSyncTree_,e,n),lj(t.eventQueue_,e._path,r)}function hj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(uj)}function Tve(t){t.persistentConnection_&&t.persistentConnection_.resume(uj)}function Hf(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qr(n,...e)}function vc(t,e,n,r){e&&Vf(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function Cve(t,e,n,r,i,s){Hf(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:a8(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=mA(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{T0("transaction failed: Data returned ",l,o.path),o.status=0;const c=bb(t.transactionQueueTree_,e),u=vd(c)||[];u.push(o),dA(c,u);let d;typeof l=="object"&&l!==null&&Rs(l,".priority")?(d=Ou(l,".priority"),Fe(Eg(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(wb(t.serverSyncTree_,e)||xt.EMPTY_NODE).getPriority().val();const p=I0(t),v=rr(l,d),g=lA(v,a,p);o.currentOutputSnapshotRaw=v,o.currentOutputSnapshotResolved=g,o.currentWriteId=Tb(t);const _=nA(t.serverSyncTree_,e,g,o.currentWriteId,o.applyLocally);Ps(t.eventQueue_,e,_),Cb(t,t.transactionQueueTree_)}}function mA(t,e,n){return wb(t.serverSyncTree_,e,n)||xt.EMPTY_NODE}function Cb(t,e=t.transactionQueueTree_){if(e||Ib(t,e),vd(e)){const n=pj(t,e);Fe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Ive(t,S0(e),n)}else rj(e)&&xb(e,n=>{Cb(t,n)})}function Ive(t,e,n){const r=n.map(c=>c.currentWriteId),i=mA(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];Fe(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Bi(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Hf(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let p=0;p<n.length;p++)n[p].status=2,u=u.concat(Dl(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&d.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();Ib(t,bb(t.transactionQueueTree_,e)),Cb(t,t.transactionQueueTree_),Ps(t.eventQueue_,e,u);for(let p=0;p<d.length;p++)Vf(d[p])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ri("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}af(t,e)}},o)}function af(t,e){const n=fj(t,e),r=S0(n),i=pj(t,n);return Nve(t,i,r),r}function Nve(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Bi(n,l.path);let u=!1,d;if(Fe(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Dl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=pve)u=!0,d="maxretry",i=i.concat(Dl(t.serverSyncTree_,l.currentWriteId,!0));else{const p=mA(t,l.path,o);l.currentInputSnapshot=p;const v=e[a].update(p.val());if(v!==void 0){T0("transaction failed: Data returned ",v,l.path);let g=rr(v);typeof v=="object"&&v!=null&&Rs(v,".priority")||(g=g.updatePriority(p.getPriority()));const R=l.currentWriteId,E=I0(t),b=lA(g,p,E);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=Tb(t),o.splice(o.indexOf(R),1),i=i.concat(nA(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(Dl(t.serverSyncTree_,R,!0))}else u=!0,d="nodata",i=i.concat(Dl(t.serverSyncTree_,l.currentWriteId,!0))}Ps(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Ib(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Vf(r[a]);Cb(t,t.transactionQueueTree_)}function fj(t,e){let n,r=t.transactionQueueTree_;for(n=Ft(e);n!==null&&vd(r)===void 0;)r=bb(r,n),e=bn(e),n=Ft(e);return r}function pj(t,e){const n=[];return mj(t,e,n),n.sort((r,i)=>r.order-i.order),n}function mj(t,e,n){const r=vd(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);xb(e,i=>{mj(t,i,n)})}function Ib(t,e){const n=vd(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,dA(e,n.length>0?n:void 0)}xb(e,r=>{Ib(t,r)})}function gA(t,e){const n=S0(fj(t,e)),r=bb(t.transactionQueueTree_,e);return sve(r,i=>{HE(t,i)}),HE(t,r),ij(r,i=>{HE(t,i)}),n}function HE(t,e){const n=vd(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Fe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Fe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Dl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?dA(e,void 0):n.length=s+1,Ps(t.eventQueue_,S0(e),i);for(let o=0;o<r.length;o++)Vf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rve(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Ave(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ri(`Invalid query segment '${n}' in query '${t}'`)}return e}const YC=function(t,e){const n=kve(t),r=n.namespace;n.domain==="firebase.com"&&pa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ume();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new b8(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new un(n.pathString)}},kve=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Rve(t.substring(u,d)));const p=Ave(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Pve=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=g3.charAt(n%64),n=Math.floor(n/64);Fe(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=g3.charAt(e[i]);return Fe(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Fr(this.snapshot.exportVal())}}class vj{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Fe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yj=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new ts;return bve(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Xs("OnDisconnect.remove",this._path);const e=new ts;return m3(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Xs("OnDisconnect.set",this._path),ma("OnDisconnect.set",e,this._path,!1);const n=new ts;return m3(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Xs("OnDisconnect.setWithPriority",this._path),ma("OnDisconnect.setWithPriority",e,this._path,!1),hA("OnDisconnect.setWithPriority",n,!1);const r=new ts;return xve(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Xs("OnDisconnect.update",this._path),oj("OnDisconnect.update",e,this._path,!1);const n=new ts;return Eve(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Bt(this._path)?null:j2(this._path)}get ref(){return new ao(this._repo,this._path)}get _queryIdentifier(){const e=t3(this._queryParams),n=B2(e);return n==="{}"?"default":n}get _queryObject(){return t3(this._queryParams)}isEqual(e){if(e=qe(e),!(e instanceof ms))return!1;const n=this._repo===e._repo,r=z2(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ege(this._path)}}function Nb(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Lc(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===aa){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==fc)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Xa)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===kn){if(e!=null&&!Eg(e)||n!=null&&!Eg(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Fe(t.getIndex()instanceof G2||t.getIndex()===q2,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Rb(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ao extends ms{constructor(e,n){super(e,n,new pb,!1)}get parent(){const e=A8(this._path);return e===null?null:new ao(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let Ab=class XC{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new un(e),r=Yu(this.ref,e);return new XC(this._node.getChild(n),r,kn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new XC(i,Yu(this.ref,r),kn)))}hasChild(e){const n=new un(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function tn(t,e){return t=qe(t),t._checkNotDeleted("ref"),e!==void 0?Yu(t._root,e):t._root}function v3(t,e){t=qe(t),t._checkNotDeleted("refFromURL");const n=YC(e,t._repo.repoInfo_.nodeAdmin);aj("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&pa("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),tn(t,n.path.toString())}function Yu(t,e){return t=qe(t),Ft(t._path)===null?dve("child","path",e,!1):Sg("child","path",e,!1),new ao(t._repo,Zn(t._path,e))}function Dve(t){return t=qe(t),new yj(t._repo,t._path)}function Lve(t,e){t=qe(t),Xs("push",t._path),ma("push",e,t._path,!0);const n=dj(t._repo),r=Pve(n),i=Yu(t,r),s=Yu(t,r);let o;return e!=null?o=Ir(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function r_(t){return Xs("remove",t._path),Ir(t,null)}function Ir(t,e){t=qe(t),Xs("set",t._path),ma("set",e,t._path,!1);const n=new ts;return pA(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ove(t,e){t=qe(t),Xs("setPriority",t._path),hA("setPriority",e,!1);const n=new ts;return pA(t._repo,Zn(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function Mve(t,e,n){if(Xs("setWithPriority",t._path),ma("setWithPriority",e,t._path,!1),hA("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new ts;return pA(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function Fve(t,e){oj("update",e,t._path,!1);const n=new ts;return wve(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Tg(t){t=qe(t);const e=new vA(()=>{}),n=new N0(e);return yve(t._repo,t,n).then(r=>new Ab(r,new ao(t._repo,t._path),t._queryParams.getIndex()))}class N0{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new gj("value",this,new Ab(e.snapshotNode,new ao(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vj(this,e,n):null}matches(e){return e instanceof N0?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class kb{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vj(this,e,n):null}createEvent(e,n){Fe(e.childName!=null,"Child events should have a childName.");const r=Yu(new ao(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new gj(e.type,this,new Ab(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof kb?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function R0(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{QC(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new vA(n,s||void 0),a=e==="value"?new N0(o):new kb(e,o);return Sve(t._repo,t,a),()=>QC(t._repo,t,a)}function jo(t,e,n,r){return R0(t,"value",e,n,r)}function i_(t,e,n,r){return R0(t,"child_added",e,n,r)}function JC(t,e,n,r){return R0(t,"child_changed",e,n,r)}function ZC(t,e,n,r){return R0(t,"child_moved",e,n,r)}function eI(t,e,n,r){return R0(t,"child_removed",e,n,r)}function ih(t,e,n){let r=null;const i=n?new vA(n):null;e==="value"?r=new N0(i):e&&(r=new kb(e,i)),QC(t._repo,t,r)}class Do{}class wj extends Do{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ma("endAt",this._value,e._path,!0);const n=$C(e._queryParams,this._value,this._key);if(Rb(n),Lc(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ms(e._repo,e._path,n,e._orderByCalled)}}function Bve(t,e){return C0("endAt","key",e,!0),new wj(t,e)}class $ve extends Do{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ma("endBefore",this._value,e._path,!1);const n=Qge(e._queryParams,this._value,this._key);if(Rb(n),Lc(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ms(e._repo,e._path,n,e._orderByCalled)}}function Uve(t,e){return C0("endBefore","key",e,!0),new $ve(t,e)}class _j extends Do{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ma("startAt",this._value,e._path,!0);const n=BC(e._queryParams,this._value,this._key);if(Rb(n),Lc(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ms(e._repo,e._path,n,e._orderByCalled)}}function Vve(t=null,e){return C0("startAt","key",e,!0),new _j(t,e)}class jve extends Do{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ma("startAfter",this._value,e._path,!1);const n=Kge(e._queryParams,this._value,this._key);if(Rb(n),Lc(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ms(e._repo,e._path,n,e._orderByCalled)}}function zve(t,e){return C0("startAfter","key",e,!0),new jve(t,e)}class Hve extends Do{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ms(e._repo,e._path,Gge(e._queryParams,this._limit),e._orderByCalled)}}function Wve(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Hve(t)}class Gve extends Do{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ms(e._repo,e._path,qge(e._queryParams,this._limit),e._orderByCalled)}}function qve(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Gve(t)}class Kve extends Do{constructor(e){super(),this._path=e}_apply(e){Nb(e,"orderByChild");const n=new un(this._path);if(Bt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new G2(n),i=mb(e._queryParams,r);return Lc(i),new ms(e._repo,e._path,i,!0)}}function Qve(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Sg("orderByChild","path",t,!1),new Kve(t)}class Yve extends Do{_apply(e){Nb(e,"orderByKey");const n=mb(e._queryParams,aa);return Lc(n),new ms(e._repo,e._path,n,!0)}}function Xve(){return new Yve}class Jve extends Do{_apply(e){Nb(e,"orderByPriority");const n=mb(e._queryParams,kn);return Lc(n),new ms(e._repo,e._path,n,!0)}}function Zve(){return new Jve}class eye extends Do{_apply(e){Nb(e,"orderByValue");const n=mb(e._queryParams,q2);return Lc(n),new ms(e._repo,e._path,n,!0)}}function tye(){return new eye}class nye extends Do{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(ma("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new wj(this._value,this._key)._apply(new _j(this._value,this._key)._apply(e))}}function rye(t,e){return C0("equalTo","key",e,!0),new nye(t,e)}function fo(t,...e){let n=qe(t);for(const r of e)n=r._apply(n);return n}F0e(ao);j0e(ao);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iye="FIREBASE_DATABASE_EMULATOR_HOST",tI={};let sye=!1;function oye(t,e,n,r){t.repoInfo_=new b8(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function bj(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||pa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=YC(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[iye]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=YC(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Eh(Eh.OWNER):new Xme(t.name,t.options,e);aj("Invalid Firebase Database URL",o),Bt(o.path)||pa("Database URL must point to the root of a Firebase Database (not including a child path).");const d=lye(a,t,u,new Yme(t.name,n));return new cye(d,t)}function aye(t,e){const n=tI[e];(!n||n[t.key]!==t)&&pa(`Database ${e}(${t.repoInfo_}) has already been deleted.`),hj(t),delete n[t.key]}function lye(t,e,n,r){let i=tI[e.name];i||(i={},tI[e.name]=i);let s=i[t.toURLString()];return s&&pa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new mve(t,sye,n,r),i[t.toURLString()]=s,s}let cye=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gve(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ao(this._repo,ln())),this._rootInternal}_delete(){return this._rootInternal!==null&&(aye(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pa("Cannot call "+e+" on a deleted database.")}};function xj(){nf.IS_TRANSPORT_INITIALIZED&&Ri("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function uye(){xj(),Pl.forceDisallow()}function dye(){xj(),qs.forceDisallow(),Pl.forceAllow()}function Oa(t=Cf(),e){const n=Cc(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=p1("database");r&&Ej(n,...r)}return n}function Ej(t,e,n,r={}){t=qe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&pa("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&pa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Eh(Eh.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:WN(r.mockUserToken,t.app.options.projectId);s=new Eh(o)}oye(i,e,n,s)}function hye(t){t=qe(t),t._checkNotDeleted("goOffline"),hj(t._repo)}function fye(t){t=qe(t),t._checkNotDeleted("goOnline"),Tve(t._repo)}function pye(t,e){c8(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mye(t){s8(ya),Ro(new zi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return bj(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),fi(BO,$O,t),fi(BO,$O,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gye={".sv":"timestamp"};function vye(){return gye}function yye(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wye=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Sj(t,e,n){var r;if(t=qe(t),Xs("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new ts,o=(l,c,u)=>{let d=null;l?s.reject(l):(d=new Ab(u,new ao(t._repo,t._path),kn),s.resolve(new wye(c,d)))},a=jo(t,()=>{});return Cve(t._repo,t._path,e,o,a,i),s.promise}Va.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Va.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mye();const _ye="@firebase/database-compat",bye="0.3.4";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xye=new Tf("@firebase/database-compat"),Tj=function(t){const e="FIREBASE WARNING: "+t;xye.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eye=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(hs(t,e)+"must be a boolean.")},Sye=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(hs(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tye{constructor(e){this._delegate=e}cancel(e){Et("OnDisconnect.cancel",0,1,arguments.length),Gr("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){Et("OnDisconnect.remove",0,1,arguments.length),Gr("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){Et("OnDisconnect.set",1,2,arguments.length),Gr("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Et("OnDisconnect.setWithPriority",2,3,arguments.length),Gr("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(Et("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,Tj("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Gr("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cye{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return Et("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this._database=e,this._delegate=n}val(){return Et("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Et("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Et("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Et("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return Et("DataSnapshot.child",0,1,arguments.length),e=String(e),Sg("DataSnapshot.child","path",e,!1),new Ql(this._database,this._delegate.child(e))}hasChild(e){return Et("DataSnapshot.hasChild",1,1,arguments.length),Sg("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return Et("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return Et("DataSnapshot.forEach",1,1,arguments.length),Gr("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Ql(this._database,n)))}hasChildren(){return Et("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Et("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Et("DataSnapshot.ref",0,0,arguments.length),new mu(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ai{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var s;Et("Query.on",2,4,arguments.length),Gr("Query.on","callback",n,!1);const o=ai.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(o.context,new Ql(this.database,c),u)};a.userCallback=n,a.context=o.context;const l=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return jo(this._delegate,a,l),n;case"child_added":return i_(this._delegate,a,l),n;case"child_removed":return eI(this._delegate,a,l),n;case"child_changed":return JC(this._delegate,a,l),n;case"child_moved":return ZC(this._delegate,a,l),n;default:throw new Error(hs("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(Et("Query.off",0,3,arguments.length),Sye("Query.off",e,!0),Gr("Query.off","callback",n,!0),z5("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,ih(this._delegate,e,i)}else ih(this._delegate,e)}get(){return Tg(this._delegate).then(e=>new Ql(this.database,e))}once(e,n,r,i){Et("Query.once",1,4,arguments.length),Gr("Query.once","callback",n,!0);const s=ai.getCancelAndContextArgs_("Query.once",r,i),o=new ts,a=(c,u)=>{const d=new Ql(this.database,c);n&&n.call(s.context,d,u),o.resolve(d)};a.userCallback=n,a.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),o.reject(c)};switch(e){case"value":jo(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":i_(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":eI(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":JC(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":ZC(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(hs("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return Et("Query.limitToFirst",1,1,arguments.length),new ai(this.database,fo(this._delegate,Wve(e)))}limitToLast(e){return Et("Query.limitToLast",1,1,arguments.length),new ai(this.database,fo(this._delegate,qve(e)))}orderByChild(e){return Et("Query.orderByChild",1,1,arguments.length),new ai(this.database,fo(this._delegate,Qve(e)))}orderByKey(){return Et("Query.orderByKey",0,0,arguments.length),new ai(this.database,fo(this._delegate,Xve()))}orderByPriority(){return Et("Query.orderByPriority",0,0,arguments.length),new ai(this.database,fo(this._delegate,Zve()))}orderByValue(){return Et("Query.orderByValue",0,0,arguments.length),new ai(this.database,fo(this._delegate,tye()))}startAt(e=null,n){return Et("Query.startAt",0,2,arguments.length),new ai(this.database,fo(this._delegate,Vve(e,n)))}startAfter(e=null,n){return Et("Query.startAfter",0,2,arguments.length),new ai(this.database,fo(this._delegate,zve(e,n)))}endAt(e=null,n){return Et("Query.endAt",0,2,arguments.length),new ai(this.database,fo(this._delegate,Bve(e,n)))}endBefore(e=null,n){return Et("Query.endBefore",0,2,arguments.length),new ai(this.database,fo(this._delegate,Uve(e,n)))}equalTo(e,n){return Et("Query.equalTo",1,2,arguments.length),new ai(this.database,fo(this._delegate,rye(e,n)))}toString(){return Et("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Et("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(Et("Query.isEqual",1,1,arguments.length),!(e instanceof ai)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Gr(e,"cancel",i.cancel,!0),i.context=r,z5(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(hs(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new mu(this.database,new ao(this._delegate._repo,this._delegate._path))}}let mu=class jd extends ai{constructor(e,n){super(e,new ms(n._repo,n._path,new pb,!1)),this.database=e,this._delegate=n}getKey(){return Et("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return Et("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new jd(this.database,Yu(this._delegate,e))}getParent(){Et("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new jd(this.database,e):null}getRoot(){return Et("Reference.root",0,0,arguments.length),new jd(this.database,this._delegate.root)}set(e,n){Et("Reference.set",1,2,arguments.length),Gr("Reference.set","onComplete",n,!0);const r=Ir(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(Et("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,Tj("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xs("Reference.update",this._delegate._path),Gr("Reference.update","onComplete",n,!0);const r=Fve(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Et("Reference.setWithPriority",2,3,arguments.length),Gr("Reference.setWithPriority","onComplete",r,!0);const i=Mve(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){Et("Reference.remove",0,1,arguments.length),Gr("Reference.remove","onComplete",e,!0);const n=r_(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){Et("Reference.transaction",1,3,arguments.length),Gr("Reference.transaction","transactionUpdate",e,!1),Gr("Reference.transaction","onComplete",n,!0),Eye("Reference.transaction","applyLocally",r,!0);const i=Sj(this._delegate,e,{applyLocally:r}).then(s=>new Cye(s.committed,new Ql(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){Et("Reference.setPriority",1,2,arguments.length),Gr("Reference.setPriority","onComplete",n,!0);const r=Ove(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){Et("Reference.push",0,2,arguments.length),Gr("Reference.push","onComplete",n,!0);const r=Lve(this._delegate,e),i=r.then(o=>new jd(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new jd(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Xs("Reference.onDisconnect",this._delegate._path),new Tye(new yj(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:uye,forceLongPolling:dye}}useEmulator(e,n,r={}){Ej(this._delegate,e,n,r)}ref(e){if(Et("database.ref",0,1,arguments.length),e instanceof mu){const n=v3(this._delegate,e.toString());return new mu(this,n)}else{const n=tn(this._delegate,e);return new mu(this,n)}}refFromURL(e){Et("database.refFromURL",1,1,arguments.length);const r=v3(this._delegate,e);return new mu(this,r)}goOffline(){return Et("database.goOffline",0,0,arguments.length),hye(this._delegate)}goOnline(){return Et("database.goOnline",0,0,arguments.length),fye(this._delegate)}}Cg.ServerValue={TIMESTAMP:vye(),increment:t=>yye(t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iye({app:t,url:e,version:n,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){s8(n);const o=new x7("auth-internal",new E7("database-standalone"));return o.setComponent(new zi("auth-internal",()=>r,"PRIVATE")),{instance:new Cg(bj(t,o,void 0,e,s),t),namespace:i}}var Nye=Object.freeze({__proto__:null,initStandalone:Iye});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rye=Cg.ServerValue;function Aye(t){t.INTERNAL.registerComponent(new zi("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Cg(i,r)},"PUBLIC").setServiceProps({Reference:mu,Query:ai,Database:Cg,DataSnapshot:Ql,enableLogging:pye,INTERNAL:Nye,ServerValue:Rye}).setMultipleInstances(!0)),t.registerVersion(_ye,bye)}Aye(Xg);const kye={apiKey:"AIzaSyCIc39s-BtDTS8bxoLiIDLeaWYx8coSp0o",authDomain:"omo-v1.firebaseapp.com",projectId:"omo-v1",storageBucket:"omo-v1.appspot.com",messagingSenderId:"587290578670",appId:"1:587290578670:web:4e7ea532af44bd898f2dff",measurementId:"G-B737SS2JXK",databaseURL:"https://omo-v1-default-rtdb.asia-southeast1.firebasedatabase.app/"},$t=y1(kye),Pye=rl($t);function Dye(){const[t,e]=y.useState(!0),n=_f().pathname;xc();const r=localStorage.getItem("adminAuthID"),i=()=>{localStorage.clear(),pU(Pye)};return n.includes("/admin")&&r&&x("div",{children:[x("button",{type:"button",className:"inline-flex items-center p-2 mt-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",onClick:()=>e(!0),children:[h("span",{className:"sr-only",children:"Open sidebar"}),h("svg",{className:"w-6 h-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:h("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"})})]}),h("aside",{id:"default-sidebar",className:`fixed top-0 left-0 z-40 w-64 h-screen transition-transform ${t?"":"-translate-x-full"} sm:translate-x-0`,"aria-label":"Sidebar",children:x("div",{className:"h-full px-3 py-4 overflow-y-auto bg-gray-50 dark:bg-gray-800",children:[h("span",{className:"text-white flex w-full flex-row-reverse sm:hidden",onClick:()=>e(!1),children:"X"}),x("ul",{className:"space-y-2",children:[h("li",{children:h("a",{href:"#",className:"flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:h("div",{className:"w-full flex justify-center",children:h("img",{src:zN,className:"h-[75px] w-[250px]"})})})}),h("li",{children:x("a",{href:"/admin/activeUsers",className:"flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:[h(c7,{className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"}),h("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Active Users"})]})}),h("li",{children:x("a",{href:"/admin/allUsers",className:"flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:[h("svg",{"aria-hidden":"true",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:h("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),h("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"All Users"})]})}),h("li",{children:x("a",{href:"/admin/transactions",className:"flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:[x("svg",{"aria-hidden":"true",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg",children:[h("path",{d:"M12 7.5a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"}),h("path",{fillRule:"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 011.5 14.625v-9.75zM8.25 9.75a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM18.75 9a.75.75 0 00-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 00.75-.75V9.75a.75.75 0 00-.75-.75h-.008zM4.5 9.75A.75.75 0 015.25 9h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H5.25a.75.75 0 01-.75-.75V9.75z",clipRule:"evenodd"}),h("path",{d:"M2.25 18a.75.75 0 000 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 00-.75-.75H2.25z"})]}),h("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Transactions"})]})}),h("li",{children:x("a",{href:"/admin/withdrawRequests",className:"flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:[x("svg",{xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 25 25",children:[h("path",{d:"M9.97.97a.75.75 0 011.06 0l3 3a.75.75 0 01-1.06 1.06l-1.72-1.72v3.44h-1.5V3.31L8.03 5.03a.75.75 0 01-1.06-1.06l3-3zM9.75 6.75v6a.75.75 0 001.5 0v-6h3a3 3 0 013 3v7.5a3 3 0 01-3 3h-7.5a3 3 0 01-3-3v-7.5a3 3 0 013-3h3z"}),h("path",{d:"M7.151 21.75a2.999 2.999 0 002.599 1.5h7.5a3 3 0 003-3v-7.5c0-1.11-.603-2.08-1.5-2.599v7.099a4.5 4.5 0 01-4.5 4.5H7.151z"})]}),h("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Withdraw Requests"})]})}),h("li",{children:x("a",{href:"/admin/verfications",className:"flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:[x("svg",{xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 25 25",children:[h("path",{fillRule:"evenodd",d:"M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5zm6.61 10.936a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"}),h("path",{d:"M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"})]}),h("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Doc Verfications"})]})}),h("li",{children:x("a",{href:"/admin/termsSet",className:"cursor-pointer flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:[x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",children:[h("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625zM7.5 15a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 017.5 15zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H8.25z",clipRule:"evenodd"}),h("path",{d:"M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"})]}),h("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Terms and Conditions"})]})}),h("li",{children:x("a",{href:"/admin/settings",className:"cursor-pointer flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:[x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",children:[h("path",{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 01-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 016.126 3.537zM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 010 .75l-1.732 3.001c-.229.396-.76.498-1.067.16A5.231 5.231 0 016.75 12c0-1.362.519-2.603 1.37-3.536zM10.878 17.13c-.447-.097-.623-.608-.394-1.003l1.733-3.003a.75.75 0 01.65-.375h3.465c.457 0 .81.408.672.843a5.252 5.252 0 01-6.126 3.538z"}),h("path",{fillRule:"evenodd",d:"M21 12.75a.75.75 0 000-1.5h-.783a8.22 8.22 0 00-.237-1.357l.734-.267a.75.75 0 10-.513-1.41l-.735.268a8.24 8.24 0 00-.689-1.191l.6-.504a.75.75 0 10-.964-1.149l-.6.504a8.3 8.3 0 00-1.054-.885l.391-.678a.75.75 0 10-1.299-.75l-.39.677a8.188 8.188 0 00-1.295-.471l.136-.77a.75.75 0 00-1.477-.26l-.136.77a8.364 8.364 0 00-1.377 0l-.136-.77a.75.75 0 10-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 00-1.3.75l.392.678a8.29 8.29 0 00-1.054.885l-.6-.504a.75.75 0 00-.965 1.149l.6.503a8.243 8.243 0 00-.689 1.192L3.8 8.217a.75.75 0 10-.513 1.41l.735.267a8.222 8.222 0 00-.238 1.355h-.783a.75.75 0 000 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 10.513 1.41l.735-.268c.197.417.428.816.69 1.192l-.6.504a.75.75 0 10.963 1.149l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 101.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.771a.75.75 0 101.477.26l.137-.772a8.376 8.376 0 001.376 0l.136.773a.75.75 0 101.477-.26l-.136-.772a8.19 8.19 0 001.294-.47l.391.677a.75.75 0 101.3-.75l-.393-.679a8.282 8.282 0 001.054-.885l.601.504a.75.75 0 10.964-1.15l-.6-.503a8.24 8.24 0 00.69-1.191l.735.268a.75.75 0 10.512-1.41l-.734-.268c.115-.438.195-.892.237-1.356h.784zm-2.657-3.06a6.744 6.744 0 00-1.19-2.053 6.784 6.784 0 00-1.82-1.51A6.704 6.704 0 0012 5.25a6.801 6.801 0 00-1.225.111 6.7 6.7 0 00-2.15.792 6.784 6.784 0 00-2.952 3.489.758.758 0 01-.036.099A6.74 6.74 0 005.251 12a6.739 6.739 0 003.355 5.835l.01.006.01.005a6.706 6.706 0 002.203.802c.007 0 .014.002.021.004a6.792 6.792 0 002.301 0l.022-.004a6.707 6.707 0 002.228-.816 6.781 6.781 0 001.762-1.483l.009-.01.009-.012a6.744 6.744 0 001.18-2.064c.253-.708.39-1.47.39-2.264a6.74 6.74 0 00-.408-2.308z",clipRule:"evenodd"})]}),h("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Settings"})]})}),h("li",{children:x("a",{href:"/admin/reportedIssues",className:"cursor-pointer flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:[x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",children:[h("path",{fillRule:"evenodd",d:"M5.478 5.559A1.5 1.5 0 016.912 4.5H9A.75.75 0 009 3H6.912a3 3 0 00-2.868 2.118l-2.411 7.838a3 3 0 00-.133.882V18a3 3 0 003 3h15a3 3 0 003-3v-4.162c0-.299-.045-.596-.133-.882l-2.412-7.838A3 3 0 0017.088 3H15a.75.75 0 000 1.5h2.088a1.5 1.5 0 011.434 1.059l2.213 7.191H17.89a3 3 0 00-2.684 1.658l-.256.513a1.5 1.5 0 01-1.342.829h-3.218a1.5 1.5 0 01-1.342-.83l-.256-.512a3 3 0 00-2.684-1.658H3.265l2.213-7.191z",clipRule:"evenodd"}),h("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 01.75.75v6.44l1.72-1.72a.75.75 0 111.06 1.06l-3 3a.75.75 0 01-1.06 0l-3-3a.75.75 0 011.06-1.06l1.72 1.72V3a.75.75 0 01.75-.75z",clipRule:"evenodd"})]}),h("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Reported Issues"})]})}),h("li",{children:x("a",{href:"/admin/allUsers",className:"cursor-pointer flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",onClick:i,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 25 25",children:h("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 006 5.25v13.5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5V15a.75.75 0 011.5 0v3.75a3 3 0 01-3 3h-6a3 3 0 01-3-3V5.25a3 3 0 013-3h6a3 3 0 013 3V9A.75.75 0 0115 9V5.25a1.5 1.5 0 00-1.5-1.5h-6zm5.03 4.72a.75.75 0 010 1.06l-1.72 1.72h10.94a.75.75 0 010 1.5H10.81l1.72 1.72a.75.75 0 11-1.06 1.06l-3-3a.75.75 0 010-1.06l3-3a.75.75 0 011.06 0z",clipRule:"evenodd"})}),h("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Sign out"})]})})]})]})})]})}let Lye=0;function Tn(t,e){const n=`atom${++Lye}`,r={toString:()=>n};return typeof t=="function"?r.read=t:(r.init=t,r.read=i=>i(r),r.write=(i,s,o)=>s(r,typeof o=="function"?o(i(r)):o)),e&&(r.write=e),r}const y3=t=>"init"in t,w3=t=>!!t.write,s_=new WeakMap,Oye=(t,e)=>{s_.set(t,e),t.catch(()=>{}).finally(()=>s_.delete(t))},_3=(t,e)=>{const n=s_.get(t);n&&(s_.delete(t),n(e))},b3=(t,e)=>{t.status="fulfilled",t.value=e},x3=(t,e)=>{t.status="rejected",t.reason=e},Mye=t=>typeof(t==null?void 0:t.then)=="function",Hv=(t,e)=>"v"in t&&"v"in e&&Object.is(t.v,e.v),E3=(t,e)=>"e"in t&&"e"in e&&Object.is(t.e,e.e),Ap=t=>"v"in t&&t.v instanceof Promise,Fye=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,Wv=t=>{if("e"in t)throw t.e;return t.v},Bye=()=>{const t=new WeakMap,e=new WeakMap,n=new Map;let r,i;const s=C=>t.get(C),o=(C,k)=>{const O=t.get(C);if(t.set(C,k),n.has(C)||n.set(C,O),O&&Ap(O)){const W="v"in k?k.v instanceof Promise?k.v:Promise.resolve(k.v):Promise.reject(k.e);_3(O.v,W)}},a=(C,k,O)=>{const W=new Map;let V=!1;O.forEach((z,Y)=>{!z&&Y===C&&(z=k),z&&(W.set(Y,z),k.d.get(Y)!==z&&(V=!0))}),(V||k.d.size!==W.size)&&(k.d=W)},l=(C,k,O)=>{const W=s(C),V={d:(W==null?void 0:W.d)||new Map,v:k};if(O&&a(C,V,O),W&&Hv(W,V)&&W.d===V.d)return W;if(W&&Ap(W)&&Ap(V)&&Fye(W,V)){if(W.d===V.d)return W;V.v=W.v}return o(C,V),V},c=(C,k,O,W)=>{if(Mye(k)){let V;const z=new Promise((Y,fe)=>{let ge=!1;k.then(K=>{if(!ge){ge=!0;const J=s(C),Z=l(C,z,O);b3(z,K),Y(K),e.has(C)&&(J==null?void 0:J.d)!==Z.d&&D(C,Z,J==null?void 0:J.d)}},K=>{if(!ge){ge=!0;const J=s(C),Z=l(C,z,O);x3(z,K),fe(K),e.has(C)&&(J==null?void 0:J.d)!==Z.d&&D(C,Z,J==null?void 0:J.d)}}),V=K=>{ge||(ge=!0,K.then(J=>b3(z,J),J=>x3(z,J)),Y(K))}});return z.orig=k,z.status="pending",Oye(z,Y=>{Y&&V(Y),W==null||W()}),l(C,z,O)}return l(C,k,O)},u=(C,k,O)=>{const W=s(C),V={d:(W==null?void 0:W.d)||new Map,e:k};return O&&a(C,V,O),W&&E3(W,V)&&W.d===V.d?W:(o(C,V),V)},d=(C,k)=>{const O=s(C);if(!k&&O&&(e.has(C)||Array.from(O.d).every(([K,J])=>K===C||d(K)===J)))return O;const W=new Map;let V=!0;const z=K=>{if(K===C){const Z=s(K);if(Z)return W.set(K,Z),Wv(Z);if(y3(K))return W.set(K,void 0),K.init;throw new Error("no atom init")}const J=d(K);return W.set(K,J),Wv(J)};let Y,fe;const ge={get signal(){return Y||(Y=new AbortController),Y.signal},get setSelf(){return!fe&&w3(C)&&(fe=(...K)=>{if(!V)return b(C,...K)}),fe}};try{const K=C.read(z,ge);return c(C,K,W,()=>Y==null?void 0:Y.abort())}catch(K){return u(C,K,W)}finally{V=!1}},p=C=>Wv(d(C)),v=C=>{let k=e.get(C);return k||(k=T(C)),k},g=(C,k)=>!k.l.size&&(!k.t.size||k.t.size===1&&k.t.has(C)),_=C=>{const k=e.get(C);k&&g(C,k)&&I(C)},R=C=>{const k=new Map,O=new WeakMap,W=Y=>{var fe;const ge=new Set((fe=e.get(Y))==null?void 0:fe.t);return n.forEach((K,J)=>{var Z;(Z=s(J))!=null&&Z.d.has(Y)&&ge.add(J)}),ge},V=Y=>{W(Y).forEach(fe=>{fe!==Y&&(k.set(fe,(k.get(fe)||new Set).add(Y)),O.set(fe,(O.get(fe)||0)+1),V(fe))})};V(C);const z=Y=>{W(Y).forEach(fe=>{var ge;if(fe!==Y){let K=O.get(fe);if(K&&O.set(fe,--K),!K){let J=!!((ge=k.get(fe))!=null&&ge.size);if(J){const Z=s(fe),Te=d(fe,!0);J=!Z||!Hv(Z,Te)}J||k.forEach(Z=>Z.delete(fe))}z(fe)}})};z(C)},E=(C,...k)=>{let O=!0;const W=Y=>Wv(d(Y)),V=(Y,...fe)=>{let ge;if(Y===C){if(!y3(Y))throw new Error("atom not writable");const K=s(Y),J=c(Y,fe[0]);(!K||!Hv(K,J))&&R(Y)}else ge=E(Y,...fe);if(!O){const K=M()}return ge},z=C.write(W,V,...k);return O=!1,z},b=(C,...k)=>{const O=E(C,...k),W=M();return O},T=(C,k,O)=>{var W;const V=O||[];(W=s(C))==null||W.d.forEach((Y,fe)=>{const ge=e.get(fe);ge?ge.t.add(C):fe!==C&&T(fe,C,V)}),d(C);const z={t:new Set(k&&[k]),l:new Set};if(e.set(C,z),w3(C)&&C.onMount){const{onMount:Y}=C;V.push(()=>{const fe=Y((...ge)=>b(C,...ge));fe&&(z.u=fe)})}return O||V.forEach(Y=>Y()),z},I=C=>{var k;const O=(k=e.get(C))==null?void 0:k.u;O&&O(),e.delete(C);const W=s(C);W&&(Ap(W)&&_3(W.v),W.d.forEach((V,z)=>{if(z!==C){const Y=e.get(z);Y&&(Y.t.delete(C),g(z,Y)&&I(z))}}))},D=(C,k,O)=>{const W=new Set(k.d.keys());O==null||O.forEach((V,z)=>{if(W.has(z)){W.delete(z);return}const Y=e.get(z);Y&&(Y.t.delete(C),g(z,Y)&&I(z))}),W.forEach(V=>{const z=e.get(V);z?z.t.add(C):e.has(C)&&T(V,C)})},M=()=>{let C;for(;n.size;){const k=Array.from(n);n.clear(),k.forEach(([O,W])=>{const V=s(O);if(V){const z=e.get(O);z&&V.d!==(W==null?void 0:W.d)&&D(O,V,W==null?void 0:W.d),z&&!(W&&!Ap(W)&&(Hv(W,V)||E3(W,V)))&&z.l.forEach(Y=>Y())}})}};return{get:p,set:b,sub:(C,k)=>{const O=v(C),W=M(),V=O.l;return V.add(k),()=>{V.delete(k),_(C)}}}};let WE;const $ye=()=>(WE||(WE=Bye()),WE),Uye=y.createContext(void 0),Cj=t=>{const e=y.useContext(Uye);return(t==null?void 0:t.store)||e||$ye()},Vye=t=>typeof(t==null?void 0:t.then)=="function",jye=Ze.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function zye(t,e){const n=Cj(e),[[r,i,s],o]=y.useReducer(c=>{const u=n.get(t);return Object.is(c[0],u)&&c[1]===n&&c[2]===t?c:[u,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;(i!==n||s!==t)&&(o(),a=n.get(t));const l=e==null?void 0:e.delay;return y.useEffect(()=>{const c=n.sub(t,()=>{if(typeof l=="number"){setTimeout(o,l);return}o()});return o(),c},[n,t,l]),y.useDebugValue(a),Vye(a)?jye(a):a}function Hye(t,e){const n=Cj(e);return y.useCallback((...i)=>n.set(t,...i),[n,t])}function ut(t,e){return[zye(t,e),Hye(t,e)]}const Ms=()=>{const[t,e]=En(Sn);return h("div",{style:t?{backgroundColor:"black",height:"100vh"}:{},children:x("div",{className:"spinner center",children:[h("div",{className:"spinner-blade"}),h("div",{className:"spinner-blade"}),h("div",{className:"spinner-blade"}),h("div",{className:"spinner-blade"}),h("div",{className:"spinner-blade"}),h("div",{className:"spinner-blade"}),h("div",{className:"spinner-blade"}),h("div",{className:"spinner-blade"}),h("div",{className:"spinner-blade"}),h("div",{className:"spinner-blade"}),h("div",{className:"spinner-blade"}),h("div",{className:"spinner-blade"})]})})},Wye="_Main_Section_jhvtf_1",Gye="_Main_Dark_Section_jhvtf_11",S3={Main_Section:Wye,Main_Dark_Section:Gye},A0=({title:t})=>{const[e,n]=En(Sn);return h("h1",{className:e?S3.Main_Dark_Section:S3.Main_Section,children:t})},qye="/assets/unknownFinal-78b8d0b4.png",yd=()=>{const[t,e]=En(Sn);return x("div",{className:"flex flex-col justify-center h-[70vh] text-center items-center",style:t?{height:"100vh",backgroundColor:"#000",color:"white"}:{},children:[t?h("img",{src:qye,style:{borderRadius:"20rem",width:"10rem",height:"10rem"}}):h("img",{src:"https://cdn-icons-png.flaticon.com/512/4123/4123751.png",className:"w-[80px] mb-[20px]"}),h("div",{className:"font-bold text-[21px] mb-[20px]",children:"Please sign in first!"}),h("div",{className:"mb-[20px]",children:"This section is only allowed for authorised users."}),h(wn,{to:"/login",className:"text-blue-500 font-bold",children:"Login"})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Kye(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Qye(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sh=function(){return sh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sh.apply(this,arguments)},Ij=function(t){return{loading:t==null,value:t}},Yye=function(){return function(t,e){switch(e.type){case"error":return sh(sh({},t),{error:e.error,loading:!1,value:void 0});case"reset":return Ij(e.defaultValue);case"value":return sh(sh({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Xye=function(t){var e=t?t():void 0,n=y.useReducer(Yye(),Ij(e)),r=n[0],i=n[1],s=y.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=y.useCallback(function(l){i({type:"error",error:l})},[]),a=y.useCallback(function(l){i({type:"value",value:l})},[]);return y.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},wd=function(t,e){var n=Xye(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return y.useEffect(function(){var l=Zae(t,function(c){return Kye(void 0,void 0,void 0,function(){var u;return Qye(this,function(d){switch(d.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return d.sent(),[3,4];case 3:return u=d.sent(),s(u),[3,4];case 4:return o(c),[2]}})})},s);return function(){l()}},[t]),[a,i,r]},Nj={exports:{}},Jye="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Zye=Jye,ewe=Zye;function Rj(){}function Aj(){}Aj.resetWarningCache=Rj;var twe=function(){function t(r,i,s,o,a,l){if(l!==ewe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Aj,resetWarningCache:Rj};return n.PropTypes=n,n};Nj.exports=twe();var Ce=Nj.exports;const Mt=Ag(Ce),es=({name:t,labelText:e,labelTextSize:n="14px",labelStyling:r="",marginLabelField:i="4px",placeholderText:s,inputType:o="text",setValue:a,width:l="214px",height:c="36px",isRequired:u=!1,inputState:d,setInputState:p,validation:v,errors:g,customError:_,showErrorMessage:R=!0,errorInfo:E=!1,trigger:b,onChangeTrigger:T=!0,authRole:I=""})=>{const[D,M]=En(Sn);return x("div",{className:"",children:[x("div",{className:"flex flex-row",children:[x("label",{htmlFor:t,className:` w-fit block text-[${n}] text-[#182021] flex justify-start ${r}`,style:D?{color:"white"}:{},children:[e,u&&h("span",{className:"text-red-600",children:"*"})]}),x("div",{className:"ml-[1px] mt-[4px] flex flex-row",children:[h("div",{children:!!E&&g!==void 0&&h(Ki,{className:`h-[${n}] mr-[5px] w-[${n}]text-[#646464] font-bold`,"aria-hidden":"true"})}),h("div",{children:(g!==void 0||_!==void 0)&&h(u7,{className:"h-[14px] w-[14px] text-[#D86161]","aria-hidden":"true"})})]})]}),h("div",{className:` mt-[${i}] rounded-[5px]`,children:h("input",{type:o,name:t,id:t,placeholder:s,...v,className:`block text-[${n}] appearance-none rounded-[3px] text-[#182021] font-normal placeholder-gray-400 border p-[8px]
                     hover:outline-none hover:ring-0 
                    ${g===void 0&&_===void 0?"hover:border-[#00A1FF] hover:ring-[#00A1FF] border-gray-300 focus:border-[#00A1FF] hover:ring-[1px] focus:ring-[#00A1FF]":"hover:border-[#D86161] hover:ring-[#D86161] border-[#D86161] focus:border-[#D86161] focus:ring-[#D86161]"}
                    focus:outline-none focus:ring-[1.5px]`,style:D?{width:`${l}`,height:`${c}`,backgroundColor:"black",color:"white",border:"1px solid goldenrod"}:{width:`${l}`,height:`${c}`},value:d,onChange:$=>{p($.target.value),$!==null?a(t,$.target.value):a(t,void 0),T&&b([t])}})}),R&&g!==void 0&&h("div",{className:"flex items-center h-[16px]",children:h("p",{className:"mt-[4px] text-[12px] text-[#D86161]",id:"name-error",children:g.message})}),_!==void 0&&h("div",{className:"flex items-center h-[16px]",children:h("p",{className:"mt-[4px] text-[12px] text-[#D86161]",id:"name-error",children:_})})]})};es.propTypes={name:Mt.string,labelText:Mt.string,placeholderText:Mt.string,inputType:Mt.string,labelTextSize:Mt.string,labelStyling:Mt.string,marginLabelField:Mt.string,setValue:Mt.any,width:Mt.string,height:Mt.string,isRequired:Mt.bool,validation:Mt.any,errors:Mt.any,errorInfo:Mt.any,showErrorMessage:Mt.bool,trigger:Mt.any,inputState:Mt.any,setInputState:Mt.any,authRole:Mt.string};es.defaultProps={labelTextSize:"14px",inputType:"text",labelStyling:"",marginLabelField:"4px",width:"214px",height:"36px",isRequired:!1,showErrorMessage:!0,errorInfo:!1,authRole:""};var k0=t=>t.type==="checkbox",oh=t=>t instanceof Date,Oi=t=>t==null;const kj=t=>typeof t=="object";var Ur=t=>!Oi(t)&&!Array.isArray(t)&&kj(t)&&!oh(t),Pj=t=>Ur(t)&&t.target?k0(t.target)?t.target.checked:t.target.value:t,nwe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Dj=(t,e)=>t.has(nwe(e)),rwe=t=>{const e=t.constructor&&t.constructor.prototype;return Ur(e)&&e.hasOwnProperty("isPrototypeOf")},yA=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vo(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(yA&&(t instanceof Blob||t instanceof FileList))&&(n||Ur(t)))if(e=n?[]:{},!n&&!rwe(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=vo(t[r]));else return t;return e}var P0=t=>Array.isArray(t)?t.filter(Boolean):[],_r=t=>t===void 0,Je=(t,e,n)=>{if(!e||!Ur(t))return n;const r=P0(e.split(/[,[\].]+?/)).reduce((i,s)=>Oi(i)?i:i[s],t);return _r(r)||r===t?_r(t[e])?n:t[e]:r};const o_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_o={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ta={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},iwe=Ze.createContext(null),wA=()=>Ze.useContext(iwe);var Lj=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==_o.all&&(e._proxyFormState[o]=!r||_o.all),n&&(n[o]=!0),t[o]}});return i},zs=t=>Ur(t)&&!Object.keys(t).length,Oj=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return zs(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||_o.all))},Ay=t=>Array.isArray(t)?t:[t],Mj=(t,e,n)=>n&&e?t===e||Array.isArray(t)&&t.some(r=>r&&n&&r===e):!t||!e||t===e||Ay(t).some(r=>r&&(r.startsWith(e)||e.startsWith(r)));function _A(t){const e=Ze.useRef(t);e.current=t,Ze.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function swe(t){const e=wA(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=Ze.useState(n._formState),l=Ze.useRef(!0),c=Ze.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ze.useRef(i);return u.current=i,_A({disabled:r,next:d=>l.current&&Mj(u.current,d.name,s)&&Oj(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),Ze.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),Lj(o,n,c.current,!1)}var ta=t=>typeof t=="string",Fj=(t,e,n,r,i)=>ta(t)?(r&&e.watch.add(t),Je(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Je(n,s))):(r&&(e.watchAll=!0),n);function owe(t){const e=wA(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=Ze.useRef(r);a.current=r,_A({disabled:s,subject:n._subjects.values,next:u=>{Mj(a.current,u.name,o)&&c(vo(Fj(a.current,n._names,u.values||n._formValues,!1,i)))}});const[l,c]=Ze.useState(n._getWatch(r,i));return Ze.useEffect(()=>n._removeUnmounted()),l}var bA=t=>/^\w*$/.test(t),Bj=t=>P0(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Nn(t,e,n){let r=-1;const i=bA(e)?[e]:Bj(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=Ur(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}function $j(t){const e=wA(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=Dj(i._names.array,n),a=owe({control:i,name:n,defaultValue:Je(i._formValues,n,Je(i._defaultValues,n,t.defaultValue)),exact:!0}),l=swe({control:i,name:n}),c=Ze.useRef(i.register(n,{...t.rules,value:a}));return c.current=i.register(n,t.rules),Ze.useEffect(()=>{const u=i._options.shouldUnregister||s,d=(p,v)=>{const g=Je(i._fields,p);g&&(g._f.mount=v)};if(d(n,!0),u){const p=vo(Je(i._options.defaultValues,n));Nn(i._defaultValues,n,p),_r(Je(i._formValues,n))&&Nn(i._formValues,n,p)}return()=>{(o?u&&!i._state.action:u)?i.unregister(n):d(n,!1)}},[n,i,o,s]),Ze.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),{field:{name:n,value:a,disabled:r,onChange:Ze.useCallback(u=>c.current.onChange({target:{value:Pj(u),name:n},type:o_.CHANGE}),[n]),onBlur:Ze.useCallback(()=>c.current.onBlur({target:{value:Je(i._formValues,n),name:n},type:o_.BLUR}),[n,i]),ref:u=>{const d=Je(i._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Je(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Je(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Je(l.touchedFields,n)},error:{enumerable:!0,get:()=>Je(l.errors,n)}})}}const awe=t=>t.render($j(t));var lwe=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const nI=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=Je(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Ur(o)&&nI(o,e)}}};var T3=t=>({isOnSubmit:!t||t===_o.onSubmit,isOnBlur:t===_o.onBlur,isOnChange:t===_o.onChange,isOnAll:t===_o.all,isOnTouch:t===_o.onTouched}),C3=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),cwe=(t,e,n)=>{const r=P0(Je(t,n));return Nn(r,"root",e[n]),Nn(t,n,r),t},gu=t=>typeof t=="boolean",xA=t=>t.type==="file",Ll=t=>typeof t=="function",a_=t=>{if(!yA)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ky=t=>ta(t),EA=t=>t.type==="radio",l_=t=>t instanceof RegExp;const I3={value:!1,isValid:!1},N3={value:!0,isValid:!0};var Uj=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_r(t[0].attributes.value)?_r(t[0].value)||t[0].value===""?N3:{value:t[0].value,isValid:!0}:N3:I3}return I3};const R3={isValid:!1,value:null};var Vj=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,R3):R3;function A3(t,e,n="validate"){if(ky(t)||Array.isArray(t)&&t.every(ky)||gu(t)&&!t)return{type:n,message:ky(t)?t:"",ref:e}}var Dd=t=>Ur(t)&&!l_(t)?t:{value:t,message:""},k3=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:p,validate:v,name:g,valueAsNumber:_,mount:R,disabled:E}=t._f,b=Je(e,g);if(!R||E)return{};const T=o?o[0]:s,I=V=>{r&&T.reportValidity&&(T.setCustomValidity(gu(V)?"":V||""),T.reportValidity())},D={},M=EA(s),$=k0(s),C=M||$,k=(_||xA(s))&&_r(s.value)&&_r(b)||a_(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,O=lwe.bind(null,g,n,D),W=(V,z,Y,fe=Ta.maxLength,ge=Ta.minLength)=>{const K=V?z:Y;D[g]={type:V?fe:ge,message:K,ref:s,...O(V?fe:ge,K)}};if(i?!Array.isArray(b)||!b.length:a&&(!C&&(k||Oi(b))||gu(b)&&!b||$&&!Uj(o).isValid||M&&!Vj(o).isValid)){const{value:V,message:z}=ky(a)?{value:!!a,message:a}:Dd(a);if(V&&(D[g]={type:Ta.required,message:z,ref:T,...O(Ta.required,z)},!n))return I(z),D}if(!k&&(!Oi(u)||!Oi(d))){let V,z;const Y=Dd(d),fe=Dd(u);if(!Oi(b)&&!isNaN(b)){const ge=s.valueAsNumber||b&&+b;Oi(Y.value)||(V=ge>Y.value),Oi(fe.value)||(z=ge<fe.value)}else{const ge=s.valueAsDate||new Date(b),K=Te=>new Date(new Date().toDateString()+" "+Te),J=s.type=="time",Z=s.type=="week";ta(Y.value)&&b&&(V=J?K(b)>K(Y.value):Z?b>Y.value:ge>new Date(Y.value)),ta(fe.value)&&b&&(z=J?K(b)<K(fe.value):Z?b<fe.value:ge<new Date(fe.value))}if((V||z)&&(W(!!V,Y.message,fe.message,Ta.max,Ta.min),!n))return I(D[g].message),D}if((l||c)&&!k&&(ta(b)||i&&Array.isArray(b))){const V=Dd(l),z=Dd(c),Y=!Oi(V.value)&&b.length>+V.value,fe=!Oi(z.value)&&b.length<+z.value;if((Y||fe)&&(W(Y,V.message,z.message),!n))return I(D[g].message),D}if(p&&!k&&ta(b)){const{value:V,message:z}=Dd(p);if(l_(V)&&!b.match(V)&&(D[g]={type:Ta.pattern,message:z,ref:s,...O(Ta.pattern,z)},!n))return I(z),D}if(v){if(Ll(v)){const V=await v(b,e),z=A3(V,T);if(z&&(D[g]={...z,...O(Ta.validate,z.message)},!n))return I(z.message),D}else if(Ur(v)){let V={};for(const z in v){if(!zs(V)&&!n)break;const Y=A3(await v[z](b,e),T,z);Y&&(V={...Y,...O(z,Y.message)},I(Y.message),n&&(D[g]=V))}if(!zs(V)&&(D[g]={ref:T,...V},!n))return D}}return I(!0),D};function uwe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=_r(t)?r++:t[e[r++]];return t}function dwe(t){for(const e in t)if(t.hasOwnProperty(e)&&!_r(t[e]))return!1;return!0}function oi(t,e){const n=Array.isArray(e)?e:bA(e)?[e]:Bj(e),r=n.length===1?t:uwe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ur(r)&&zs(r)||Array.isArray(r)&&dwe(r))&&oi(t,n.slice(0,-1)),t}function GE(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var c_=t=>Oi(t)||!kj(t);function vu(t,e){if(c_(t)||c_(e))return t===e;if(oh(t)&&oh(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(oh(s)&&oh(o)||Ur(s)&&Ur(o)||Array.isArray(s)&&Array.isArray(o)?!vu(s,o):s!==o)return!1}}return!0}var jj=t=>t.type==="select-multiple",hwe=t=>EA(t)||k0(t),qE=t=>a_(t)&&t.isConnected,zj=t=>{for(const e in t)if(Ll(t[e]))return!0;return!1};function u_(t,e={}){const n=Array.isArray(t);if(Ur(t)||n)for(const r in t)Array.isArray(t[r])||Ur(t[r])&&!zj(t[r])?(e[r]=Array.isArray(t[r])?[]:{},u_(t[r],e[r])):Oi(t[r])||(e[r]=!0);return e}function Hj(t,e,n){const r=Array.isArray(t);if(Ur(t)||r)for(const i in t)Array.isArray(t[i])||Ur(t[i])&&!zj(t[i])?_r(e)||c_(n[i])?n[i]=Array.isArray(t[i])?u_(t[i],[]):{...u_(t[i])}:Hj(t[i],Oi(e)?{}:e[i],n[i]):n[i]=!vu(t[i],e[i]);return n}var KE=(t,e)=>Hj(t,e,u_(e)),Wj=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>_r(t)?t:e?t===""?NaN:t&&+t:n&&ta(t)?new Date(t):r?r(t):t;function QE(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return xA(e)?e.files:EA(e)?Vj(t.refs).value:jj(e)?[...e.selectedOptions].map(({value:n})=>n):k0(e)?Uj(t.refs).value:Wj(_r(e.value)?t.ref.value:e.value,t)}var fwe=(t,e,n,r)=>{const i={};for(const s of t){const o=Je(e,s);o&&Nn(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},kp=t=>_r(t)?t:l_(t)?t.source:Ur(t)?l_(t.value)?t.value.source:t.value:t,pwe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function P3(t,e,n){const r=Je(t,n);if(r||bA(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Je(e,s),a=Je(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var mwe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,gwe=(t,e)=>!P0(Je(t,e)).length&&oi(t,e);const vwe={mode:_o.onSubmit,reValidateMode:_o.onChange,shouldFocusError:!0};function ywe(t={},e){let n={...vwe,...t},r={submitCount:0,isDirty:!1,isLoading:Ll(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Ur(n.defaultValues)||Ur(n.values)?vo(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:vo(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:GE(),array:GE(),state:GE()},v=t.resetOptions&&t.resetOptions.keepDirtyValues,g=T3(n.mode),_=T3(n.reValidateMode),R=n.criteriaMode===_o.all,E=B=>X=>{clearTimeout(u),u=setTimeout(B,X)},b=async B=>{if(d.isValid||B){const X=n.resolver?zs((await k()).errors):await W(i,!0);X!==r.isValid&&p.state.next({isValid:X})}},T=B=>d.isValidating&&p.state.next({isValidating:B}),I=(B,X=[],re,xe,be=!0,pe=!0)=>{if(xe&&re){if(a.action=!0,pe&&Array.isArray(Je(i,B))){const De=re(Je(i,B),xe.argA,xe.argB);be&&Nn(i,B,De)}if(pe&&Array.isArray(Je(r.errors,B))){const De=re(Je(r.errors,B),xe.argA,xe.argB);be&&Nn(r.errors,B,De),gwe(r.errors,B)}if(d.touchedFields&&pe&&Array.isArray(Je(r.touchedFields,B))){const De=re(Je(r.touchedFields,B),xe.argA,xe.argB);be&&Nn(r.touchedFields,B,De)}d.dirtyFields&&(r.dirtyFields=KE(s,o)),p.state.next({name:B,isDirty:z(B,X),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Nn(o,B,X)},D=(B,X)=>{Nn(r.errors,B,X),p.state.next({errors:r.errors})},M=(B,X,re,xe)=>{const be=Je(i,B);if(be){const pe=Je(o,B,_r(re)?Je(s,B):re);_r(pe)||xe&&xe.defaultChecked||X?Nn(o,B,X?pe:QE(be._f)):ge(B,pe),a.mount&&b()}},$=(B,X,re,xe,be)=>{let pe=!1,De=!1;const St={name:B};if(!re||xe){d.isDirty&&(De=r.isDirty,r.isDirty=St.isDirty=z(),pe=De!==St.isDirty);const Xe=vu(Je(s,B),X);De=Je(r.dirtyFields,B),Xe?oi(r.dirtyFields,B):Nn(r.dirtyFields,B,!0),St.dirtyFields=r.dirtyFields,pe=pe||d.dirtyFields&&De!==!Xe}if(re){const Xe=Je(r.touchedFields,B);Xe||(Nn(r.touchedFields,B,re),St.touchedFields=r.touchedFields,pe=pe||d.touchedFields&&Xe!==re)}return pe&&be&&p.state.next(St),pe?St:{}},C=(B,X,re,xe)=>{const be=Je(r.errors,B),pe=d.isValid&&gu(X)&&r.isValid!==X;if(t.delayError&&re?(c=E(()=>D(B,re)),c(t.delayError)):(clearTimeout(u),c=null,re?Nn(r.errors,B,re):oi(r.errors,B)),(re?!vu(be,re):be)||!zs(xe)||pe){const De={...xe,...pe&&gu(X)?{isValid:X}:{},errors:r.errors,name:B};r={...r,...De},p.state.next(De)}T(!1)},k=async B=>n.resolver(o,n.context,fwe(B||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),O=async B=>{const{errors:X}=await k(B);if(B)for(const re of B){const xe=Je(X,re);xe?Nn(r.errors,re,xe):oi(r.errors,re)}else r.errors=X;return X},W=async(B,X,re={valid:!0})=>{for(const xe in B){const be=B[xe];if(be){const{_f:pe,...De}=be;if(pe){const St=l.array.has(pe.name),Xe=await k3(be,o,R,n.shouldUseNativeValidation&&!X,St);if(Xe[pe.name]&&(re.valid=!1,X))break;!X&&(Je(Xe,pe.name)?St?cwe(r.errors,Xe,pe.name):Nn(r.errors,pe.name,Xe[pe.name]):oi(r.errors,pe.name))}De&&await W(De,X,re)}}return re.valid},V=()=>{for(const B of l.unMount){const X=Je(i,B);X&&(X._f.refs?X._f.refs.every(re=>!qE(re)):!qE(X._f.ref))&&le(B)}l.unMount=new Set},z=(B,X)=>(B&&X&&Nn(o,B,X),!vu(ke(),s)),Y=(B,X,re)=>Fj(B,l,{...a.mount?o:_r(X)?s:ta(B)?{[B]:X}:X},re,X),fe=B=>P0(Je(a.mount?o:s,B,t.shouldUnregister?Je(s,B,[]):[])),ge=(B,X,re={})=>{const xe=Je(i,B);let be=X;if(xe){const pe=xe._f;pe&&(!pe.disabled&&Nn(o,B,Wj(X,pe)),be=a_(pe.ref)&&Oi(X)?"":X,jj(pe.ref)?[...pe.ref.options].forEach(De=>De.selected=be.includes(De.value)):pe.refs?k0(pe.ref)?pe.refs.length>1?pe.refs.forEach(De=>(!De.defaultChecked||!De.disabled)&&(De.checked=Array.isArray(be)?!!be.find(St=>St===De.value):be===De.value)):pe.refs[0]&&(pe.refs[0].checked=!!be):pe.refs.forEach(De=>De.checked=De.value===be):xA(pe.ref)?pe.ref.value="":(pe.ref.value=be,pe.ref.type||p.values.next({name:B,values:{...o}})))}(re.shouldDirty||re.shouldTouch)&&$(B,be,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&Te(B)},K=(B,X,re)=>{for(const xe in X){const be=X[xe],pe=`${B}.${xe}`,De=Je(i,pe);(l.array.has(B)||!c_(be)||De&&!De._f)&&!oh(be)?K(pe,be,re):ge(pe,be,re)}},J=(B,X,re={})=>{const xe=Je(i,B),be=l.array.has(B),pe=vo(X);Nn(o,B,pe),be?(p.array.next({name:B,values:{...o}}),(d.isDirty||d.dirtyFields)&&re.shouldDirty&&p.state.next({name:B,dirtyFields:KE(s,o),isDirty:z(B,pe)})):xe&&!xe._f&&!Oi(pe)?K(B,pe,re):ge(B,pe,re),C3(B,l)&&p.state.next({...r}),p.values.next({name:B,values:{...o}}),!a.mount&&e()},Z=async B=>{const X=B.target;let re=X.name,xe=!0;const be=Je(i,re),pe=()=>X.type?QE(be._f):Pj(B);if(be){let De,St;const Xe=pe(),Ht=B.type===o_.BLUR||B.type===o_.FOCUS_OUT,qn=!pwe(be._f)&&!n.resolver&&!Je(r.errors,re)&&!be._f.deps||mwe(Ht,Je(r.touchedFields,re),r.isSubmitted,_,g),cn=C3(re,l,Ht);Nn(o,re,Xe),Ht?(be._f.onBlur&&be._f.onBlur(B),c&&c(0)):be._f.onChange&&be._f.onChange(B);const Cn=$(re,Xe,Ht,!1),mt=!zs(Cn)||cn;if(!Ht&&p.values.next({name:re,type:B.type,values:{...o}}),qn)return d.isValid&&b(),mt&&p.state.next({name:re,...cn?{}:Cn});if(!Ht&&cn&&p.state.next({...r}),T(!0),n.resolver){const{errors:Dn}=await k([re]),Ne=P3(r.errors,i,re),mr=P3(Dn,i,Ne.name||re);De=mr.error,re=mr.name,St=zs(Dn)}else De=(await k3(be,o,R,n.shouldUseNativeValidation))[re],xe=isNaN(Xe)||Xe===Je(o,re,Xe),xe&&(De?St=!1:d.isValid&&(St=await W(i,!0)));xe&&(be._f.deps&&Te(be._f.deps),C(re,St,De,Cn))}},Te=async(B,X={})=>{let re,xe;const be=Ay(B);if(T(!0),n.resolver){const pe=await O(_r(B)?B:be);re=zs(pe),xe=B?!be.some(De=>Je(pe,De)):re}else B?(xe=(await Promise.all(be.map(async pe=>{const De=Je(i,pe);return await W(De&&De._f?{[pe]:De}:De)}))).every(Boolean),!(!xe&&!r.isValid)&&b()):xe=re=await W(i);return p.state.next({...!ta(B)||d.isValid&&re!==r.isValid?{}:{name:B},...n.resolver||!B?{isValid:re}:{},errors:r.errors,isValidating:!1}),X.shouldFocus&&!xe&&nI(i,pe=>pe&&Je(r.errors,pe),B?be:l.mount),xe},ke=B=>{const X={...s,...a.mount?o:{}};return _r(B)?X:ta(B)?Je(X,B):B.map(re=>Je(X,re))},U=(B,X)=>({invalid:!!Je((X||r).errors,B),isDirty:!!Je((X||r).dirtyFields,B),isTouched:!!Je((X||r).touchedFields,B),error:Je((X||r).errors,B)}),ne=B=>{B&&Ay(B).forEach(X=>oi(r.errors,X)),p.state.next({errors:B?r.errors:{}})},te=(B,X,re)=>{const xe=(Je(i,B,{_f:{}})._f||{}).ref;Nn(r.errors,B,{...X,ref:xe}),p.state.next({name:B,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&xe&&xe.focus&&xe.focus()},ue=(B,X)=>Ll(B)?p.values.subscribe({next:re=>B(Y(void 0,X),re)}):Y(B,X,!0),le=(B,X={})=>{for(const re of B?Ay(B):l.mount)l.mount.delete(re),l.array.delete(re),X.keepValue||(oi(i,re),oi(o,re)),!X.keepError&&oi(r.errors,re),!X.keepDirty&&oi(r.dirtyFields,re),!X.keepTouched&&oi(r.touchedFields,re),!n.shouldUnregister&&!X.keepDefaultValue&&oi(s,re);p.values.next({values:{...o}}),p.state.next({...r,...X.keepDirty?{isDirty:z()}:{}}),!X.keepIsValid&&b()},Oe=({disabled:B,name:X,field:re,fields:xe})=>{if(gu(B)){const be=B?void 0:Je(o,X,QE(re?re._f:Je(xe,X)._f));Nn(o,X,be),$(X,be,!1,!1,!0)}},We=(B,X={})=>{let re=Je(i,B);const xe=gu(X.disabled);return Nn(i,B,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:B}},name:B,mount:!0,...X}}),l.mount.add(B),re?Oe({field:re,disabled:X.disabled,name:B}):M(B,!0,X.value),{...xe?{disabled:X.disabled}:{},...n.progressive?{required:!!X.required,min:kp(X.min),max:kp(X.max),minLength:kp(X.minLength),maxLength:kp(X.maxLength),pattern:kp(X.pattern)}:{},name:B,onChange:Z,onBlur:Z,ref:be=>{if(be){We(B,X),re=Je(i,B);const pe=_r(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,De=hwe(pe),St=re._f.refs||[];if(De?St.find(Xe=>Xe===pe):pe===re._f.ref)return;Nn(i,B,{_f:{...re._f,...De?{refs:[...St.filter(qE),pe,...Array.isArray(Je(s,B))?[{}]:[]],ref:{type:pe.type,name:B}}:{ref:pe}}}),M(B,!1,void 0,pe)}else re=Je(i,B,{}),re._f&&(re._f.mount=!1),(n.shouldUnregister||X.shouldUnregister)&&!(Dj(l.array,B)&&a.action)&&l.unMount.add(B)}}},me=()=>n.shouldFocusError&&nI(i,B=>B&&Je(r.errors,B),l.mount),Be=(B,X)=>async re=>{re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let xe=vo(o);if(p.state.next({isSubmitting:!0}),n.resolver){const{errors:be,values:pe}=await k();r.errors=be,xe=pe}else await W(i);oi(r.errors,"root"),zs(r.errors)?(p.state.next({errors:{}}),await B(xe,re)):(X&&await X({...r.errors},re),me(),setTimeout(me)),p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zs(r.errors),submitCount:r.submitCount+1,errors:r.errors})},we=(B,X={})=>{Je(i,B)&&(_r(X.defaultValue)?J(B,Je(s,B)):(J(B,X.defaultValue),Nn(s,B,X.defaultValue)),X.keepTouched||oi(r.touchedFields,B),X.keepDirty||(oi(r.dirtyFields,B),r.isDirty=X.defaultValue?z(B,Je(s,B)):z()),X.keepError||(oi(r.errors,B),d.isValid&&b()),p.state.next({...r}))},nt=(B,X={})=>{const re=B?vo(B):s,xe=vo(re),be=B&&!zs(B)?xe:s;if(X.keepDefaultValues||(s=re),!X.keepValues){if(X.keepDirtyValues||v)for(const pe of l.mount)Je(r.dirtyFields,pe)?Nn(be,pe,Je(o,pe)):J(pe,Je(be,pe));else{if(yA&&_r(B))for(const pe of l.mount){const De=Je(i,pe);if(De&&De._f){const St=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(a_(St)){const Xe=St.closest("form");if(Xe){Xe.reset();break}}}}i={}}o=t.shouldUnregister?X.keepDefaultValues?vo(s):{}:vo(be),p.array.next({values:{...be}}),p.values.next({values:{...be}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!X.keepIsValid,a.watch=!!t.shouldUnregister,p.state.next({submitCount:X.keepSubmitCount?r.submitCount:0,isDirty:X.keepDirty?r.isDirty:!!(X.keepDefaultValues&&!vu(B,s)),isSubmitted:X.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:X.keepDirtyValues?r.dirtyFields:X.keepDefaultValues&&B?KE(s,B):{},touchedFields:X.keepTouched?r.touchedFields:{},errors:X.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},rt=(B,X)=>nt(Ll(B)?B(o):B,X);return{control:{register:We,unregister:le,getFieldState:U,handleSubmit:Be,setError:te,_executeSchema:k,_getWatch:Y,_getDirty:z,_updateValid:b,_removeUnmounted:V,_updateFieldArray:I,_updateDisabledField:Oe,_getFieldArray:fe,_reset:nt,_resetDefaultValues:()=>Ll(n.defaultValues)&&n.defaultValues().then(B=>{rt(B,n.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:B=>{r={...r,...B}},_subjects:p,_proxyFormState:d,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(B){a=B},get _defaultValues(){return s},get _names(){return l},set _names(B){l=B},get _formState(){return r},set _formState(B){r=B},get _options(){return n},set _options(B){n={...n,...B}}},trigger:Te,register:We,handleSubmit:Be,watch:ue,setValue:J,getValues:ke,reset:rt,resetField:we,clearErrors:ne,unregister:le,setError:te,setFocus:(B,X={})=>{const re=Je(i,B),xe=re&&re._f;if(xe){const be=xe.refs?xe.refs[0]:xe.ref;be.focus&&(be.focus(),X.shouldSelect&&be.select())}},getFieldState:U}}function SA(t={}){const e=Ze.useRef(),n=Ze.useRef(),[r,i]=Ze.useState({isDirty:!1,isValidating:!1,isLoading:Ll(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Ll(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...ywe(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,_A({subject:s._subjects.state,next:o=>{Oj(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Ze.useEffect(()=>{t.values&&!vu(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values):s._resetDefaultValues()},[t.values,s]),Ze.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=Lj(r,s),e.current}const wwe=()=>{const t=SA(),{register:e}=t;return{fields:{firstName:{...e("firstName",{required:{value:!0,message:"Enter the required field"}})},lastName:{...e("lastName",{required:{value:!0,message:"Enter the required field"}})},dobDate:{...e("dobDate",{required:{value:!0,message:"Select Date"}})},dobMonth:{...e("dobMonth",{required:{value:!0,message:"Select Month"}})},dobYear:{...e("dobYear",{required:{value:!0,message:"Select Year"}})},country:{...e("country",{required:{value:!0,message:"Enter the required field"}})},residentialAddress:{...e("residentialAddress",{required:{value:!0,message:"Enter the required field"}})},city:{...e("city",{required:{value:!0,message:"Enter the required field"}})},postalCode:{...e("postalCode",{required:{value:!0,message:"Enter the required field"}})},occupation:{...e("occupation",{required:{value:!0,message:"Enter the required field"}})}},...t}},Gj=[{id:1,enum:"JANUARY",title:"January"},{id:2,enum:"FEBRUARY",title:"February"},{id:3,enum:"MARCH",title:"March"},{id:4,enum:"APRIL",title:"April"},{id:5,enum:"MAY",title:"May"},{id:6,enum:"JUNE",title:"June"},{id:7,enum:"JULY",title:"July"},{id:8,enum:"AUGUST",title:"August"},{id:9,enum:"SEPTEMBER",title:"September"},{id:10,enum:"OCTOBER",title:"October"},{id:11,enum:"NOVEMBER",title:"November"},{id:12,enum:"DECEMBER",title:"December"}],qj=[{id:0,title:1},{id:1,title:2},{id:2,title:3},{id:3,title:4},{id:4,title:5},{id:5,title:6},{id:6,title:7},{id:7,title:8},{id:8,title:9},{id:9,title:10},{id:10,title:11},{id:11,title:12},{id:12,title:13},{id:13,title:14},{id:14,title:15},{id:15,title:16},{id:16,title:17},{id:17,title:18},{id:18,title:19},{id:19,title:20},{id:20,title:21},{id:21,title:22},{id:22,title:23},{id:23,title:24},{id:24,title:25},{id:25,title:26},{id:26,title:27},{id:27,title:28},{id:28,title:29},{id:29,title:30},{id:30,title:31}],D3=new Date().getFullYear()-10,_we=Array.from({length:D3-1950+1},(t,e)=>D3-e),bwe=_we.map(t=>t.toString()),TA=[];bwe.map((t,e)=>TA.push({id:e,title:t}));const xwe=[{name:"Afghanistan",phoneCode:"+93",alpha2code:"AF",alpha3code:"AFG",emoji:""},{name:"Albania",phoneCode:"+355",alpha2code:"AL",alpha3code:"ALB",emoji:""},{name:"Algeria",phoneCode:"+213",alpha2code:"DZ",alpha3code:"DZA",emoji:""},{name:"American Samoa",phoneCode:"+1",alpha2code:"AS",alpha3code:"ASM",emoji:""},{name:"Andorra",phoneCode:"+376",alpha2code:"AD",alpha3code:"AND",emoji:""},{name:"Angola",phoneCode:"+244",alpha2code:"AO",alpha3code:"AGO",emoji:""},{name:"Anguilla",phoneCode:"+1",alpha2code:"AI",alpha3code:"AIA",emoji:""},{name:"Antigua and Barbuda",phoneCode:"+1",alpha2code:"AG",alpha3code:"ATG",emoji:""},{name:"Argentina",phoneCode:"+54",alpha2code:"AR",alpha3code:"ARG",emoji:""},{name:"Armenia",phoneCode:"+374",alpha2code:"AM",alpha3code:"ARM",emoji:""},{name:"Aruba",phoneCode:"+297",alpha2code:"AW",alpha3code:"ABW",emoji:""},{name:"Australia",phoneCode:"+61",alpha2code:"AU",alpha3code:"AUS",emoji:""},{name:"Austria",phoneCode:"+43",alpha2code:"AT",alpha3code:"AUT",emoji:""},{name:"Azerbaijan",phoneCode:"+994",alpha2code:"AZ",alpha3code:"AZE",emoji:""},{name:"Bahrain",phoneCode:"+973",alpha2code:"BH",alpha3code:"BHR",emoji:""},{name:"Bangladesh",phoneCode:"+880",alpha2code:"BD",alpha3code:"BGD",emoji:""},{name:"Barbados",phoneCode:"+1",alpha2code:"BB",alpha3code:"BRB",emoji:""},{name:"Belarus",phoneCode:"+375",alpha2code:"BY",alpha3code:"BLR",emoji:""},{name:"Belgium",phoneCode:"+32",alpha2code:"BE",alpha3code:"BEL",emoji:""},{name:"Belize",phoneCode:"+501",alpha2code:"BZ",alpha3code:"BLZ",emoji:""},{name:"Benin",phoneCode:"+229",alpha2code:"BJ",alpha3code:"BEN",emoji:""},{name:"Bermuda",phoneCode:"+1",alpha2code:"BM",alpha3code:"BMU",emoji:""},{name:"Bhutan",phoneCode:"+975",alpha2code:"BT",alpha3code:"BTN",emoji:""},{name:"Bolivia",phoneCode:"+591",alpha2code:"BO",alpha3code:"BOL",emoji:""},{name:"Bonaire, Sint Eustatius and Saba",phoneCode:"+599",alpha2code:"BQ",alpha3code:"BES",emoji:""},{name:"Bosnia and Herzegovina",phoneCode:"+387",alpha2code:"BA",alpha3code:"BIH",emoji:""},{name:"Botswana",phoneCode:"+267",alpha2code:"BW",alpha3code:"BWA",emoji:""},{name:"Brazil",phoneCode:"+55",alpha2code:"BR",alpha3code:"BRA",emoji:""},{name:"British Indian Ocean Territory",phoneCode:"+246",alpha2code:"IO",alpha3code:"IOT",emoji:""},{name:"British Virgin Islands",phoneCode:"+1",alpha2code:"VG",alpha3code:"VGB",emoji:""},{name:"Brunei Darussalam",phoneCode:"+673",alpha2code:"BN",alpha3code:"BRN",emoji:""},{name:"Bulgaria",phoneCode:"+359",alpha2code:"BG",alpha3code:"BGR",emoji:""},{name:"Burkina Faso",phoneCode:"+226",alpha2code:"BF",alpha3code:"BFA",emoji:""},{name:"Myanmar",phoneCode:"+95",alpha2code:"MM",alpha3code:"MMR",emoji:""},{name:"Burundi",phoneCode:"+257",alpha2code:"BI",alpha3code:"BDI",emoji:""},{name:"Cambodia",phoneCode:"+855",alpha2code:"KH",alpha3code:"KHM",emoji:""},{name:"Cameroon",phoneCode:"+237",alpha2code:"CM",alpha3code:"CMR",emoji:""},{name:"Canada",phoneCode:"+1",alpha2code:"CA",alpha3code:"CAN",emoji:""},{name:"Cabo Verde",phoneCode:"+238",alpha2code:"CV",alpha3code:"CPV",emoji:""},{name:"Cayman Islands",phoneCode:"+1",alpha2code:"KY",alpha3code:"CYM",emoji:""},{name:"Central African Republic",phoneCode:"+236",alpha2code:"CF",alpha3code:"CAF",emoji:""},{name:"Chad",phoneCode:"+235",alpha2code:"TD",alpha3code:"TCD",emoji:""},{name:"Chile",phoneCode:"+56",alpha2code:"CL",alpha3code:"CHL",emoji:""},{name:"China",phoneCode:"+86",alpha2code:"CN",alpha3code:"CHN",emoji:""},{name:"Colombia",phoneCode:"+57",alpha2code:"CO",alpha3code:"COL",emoji:""},{name:"Comoros",phoneCode:"+269",alpha2code:"KM",alpha3code:"COM",emoji:""},{name:"Cook Islands",phoneCode:"+682",alpha2code:"CK",alpha3code:"COK",emoji:""},{name:"Costa Rica",phoneCode:"+506",alpha2code:"CR",alpha3code:"CRI",emoji:""},{name:"Cte dIvoire",phoneCode:"+225",alpha2code:"CI",alpha3code:"CIV",emoji:""},{name:"Croatia",phoneCode:"+385",alpha2code:"HR",alpha3code:"HRV",emoji:""},{name:"Cuba",phoneCode:"+53",alpha2code:"CU",alpha3code:"CUB",emoji:""},{name:"Curaao",phoneCode:"+599",alpha2code:"CW",alpha3code:"CUW",emoji:""},{name:"Cyprus",phoneCode:"+357",alpha2code:"CY",alpha3code:"CYP",emoji:""},{name:"Czechia",phoneCode:"+420",alpha2code:"CZ",alpha3code:"CZE",emoji:""},{name:"Denmark",phoneCode:"+45",alpha2code:"DK",alpha3code:"DNK",emoji:""},{name:"Djibouti",phoneCode:"+253",alpha2code:"DJ",alpha3code:"DJI",emoji:""},{name:"Dominica",phoneCode:"+1",alpha2code:"DM",alpha3code:"DMA",emoji:""},{name:"Dominican Republic",phoneCode:"+1",alpha2code:"DO",alpha3code:"DOM",emoji:""},{name:"Ecuador",phoneCode:"+593",alpha2code:"EC",alpha3code:"ECU",emoji:""},{name:"Egypt",phoneCode:"+20",alpha2code:"EG",alpha3code:"EGY",emoji:""},{name:"El Salvador",phoneCode:"+503",alpha2code:"SV",alpha3code:"SLV",emoji:""},{name:"Equatorial Guinea",phoneCode:"+240",alpha2code:"GQ",alpha3code:"GNQ",emoji:""},{name:"Eritrea",phoneCode:"+291",alpha2code:"ER",alpha3code:"ERI",emoji:""},{name:"Estonia",phoneCode:"+372",alpha2code:"EE",alpha3code:"EST",emoji:""},{name:"Ethiopia",phoneCode:"+251",alpha2code:"ET",alpha3code:"ETH",emoji:""},{name:"Falkland Islands",phoneCode:"+500",alpha2code:"FK",alpha3code:"FLK",emoji:""},{name:"Faroe Islands",phoneCode:"+298",alpha2code:"FO",alpha3code:"FRO",emoji:""},{name:"Federated States of Micronesia",phoneCode:"+691",alpha2code:"FM",alpha3code:"FSM",emoji:""},{name:"Fiji",phoneCode:"+679",alpha2code:"FJ",alpha3code:"FJI",emoji:""},{name:"Finland",phoneCode:"+358",alpha2code:"FI",alpha3code:"FIN",emoji:""},{name:"France",phoneCode:"+33",alpha2code:"FR",alpha3code:"FRA",emoji:""},{name:"French Guiana",phoneCode:"+594",alpha2code:"GF",alpha3code:"GUF",emoji:""},{name:"French Polynesia",phoneCode:"+689",alpha2code:"PF",alpha3code:"PYF",emoji:""},{name:"Gabon",phoneCode:"+241",alpha2code:"GA",alpha3code:"GAB",emoji:""},{name:"Georgia",phoneCode:"+995",alpha2code:"GE",alpha3code:"GEO",emoji:""},{name:"Germany",phoneCode:"+49",alpha2code:"DE",alpha3code:"DEU",emoji:""},{name:"Ghana",phoneCode:"+233",alpha2code:"GH",alpha3code:"GHA",emoji:""},{name:"Gibraltar",phoneCode:"+350",alpha2code:"GI",alpha3code:"GIB",emoji:""},{name:"Greece",phoneCode:"+30",alpha2code:"GR",alpha3code:"GRC",emoji:""},{name:"Greenland",phoneCode:"+299",alpha2code:"GL",alpha3code:"GRL",emoji:""},{name:"Grenada",phoneCode:"+1",alpha2code:"GD",alpha3code:"GRD",emoji:""},{name:"Guadeloupe",phoneCode:"+590",alpha2code:"GP",alpha3code:"GLP",emoji:""},{name:"Guam",phoneCode:"+1",alpha2code:"GU",alpha3code:"GUM",emoji:""},{name:"Guatemala",phoneCode:"+502",alpha2code:"GT",alpha3code:"GTM",emoji:""},{name:"Guinea",phoneCode:"+224",alpha2code:"GN",alpha3code:"GIN",emoji:""},{name:"Guinea-Bissau",phoneCode:"+245",alpha2code:"GW",alpha3code:"GNB",emoji:""},{name:"Guyana",phoneCode:"+592",alpha2code:"GY",alpha3code:"GUY",emoji:""},{name:"Haiti",phoneCode:"+509",alpha2code:"HT",alpha3code:"HTI",emoji:""},{name:"Honduras",phoneCode:"+504",alpha2code:"HN",alpha3code:"HND",emoji:""},{name:"Hong Kong",phoneCode:"+852",alpha2code:"HK",alpha3code:"HKG",emoji:""},{name:"Hungary",phoneCode:"+36",alpha2code:"HU",alpha3code:"HUN",emoji:""},{name:"Iceland",phoneCode:"+354",alpha2code:"IS",alpha3code:"ISL",emoji:""},{name:"India",phoneCode:"+91",alpha2code:"IN",alpha3code:"IND",emoji:""},{name:"Indonesia",phoneCode:"+62",alpha2code:"ID",alpha3code:"IDN",emoji:""},{name:"Iran",phoneCode:"+98",alpha2code:"IR",alpha3code:"IRN",emoji:""},{name:"Iraq",phoneCode:"+964",alpha2code:"IQ",alpha3code:"IRQ",emoji:""},{name:"Ireland",phoneCode:"+353",alpha2code:"IE",alpha3code:"IRL",emoji:""},{name:"Israel",phoneCode:"+972",alpha2code:"IL",alpha3code:"ISR",emoji:""},{name:"Italy",phoneCode:"+39",alpha2code:"IT",alpha3code:"ITA",emoji:""},{name:"Jamaica",phoneCode:"+1",alpha2code:"JM",alpha3code:"JAM",emoji:""},{name:"Japan",phoneCode:"+81",alpha2code:"JP",alpha3code:"JPN",emoji:""},{name:"Jordan",phoneCode:"+962",alpha2code:"JO",alpha3code:"JOR",emoji:""},{name:"Kazakhstan",phoneCode:"+7",alpha2code:"KZ",alpha3code:"KAZ",emoji:""},{name:"Kenya",phoneCode:"+254",alpha2code:"KE",alpha3code:"KEN",emoji:""},{name:"Kiribati",phoneCode:"+686",alpha2code:"KI",alpha3code:"KIR",emoji:""},{name:"Kosovo",phoneCode:"+383",alpha2code:"XK",alpha3code:"XXK",emoji:""},{name:"Kuwait",phoneCode:"+965",alpha2code:"KW",alpha3code:"KWT",emoji:""},{name:"Kyrgyzstan",phoneCode:"+996",alpha2code:"KG",alpha3code:"KGZ",emoji:""},{name:"Laos",phoneCode:"+856",alpha2code:"LA",alpha3code:"LAO",emoji:""},{name:"Latvia",phoneCode:"+371",alpha2code:"LV",alpha3code:"LVA",emoji:""},{name:"Lebanon",phoneCode:"+961",alpha2code:"LB",alpha3code:"LBN",emoji:""},{name:"Lesotho",phoneCode:"+266",alpha2code:"LS",alpha3code:"LSO",emoji:""},{name:"Liberia",phoneCode:"+231",alpha2code:"LR",alpha3code:"LBR",emoji:""},{name:"Libya",phoneCode:"+218",alpha2code:"LY",alpha3code:"LBY",emoji:""},{name:"Liechtenstein",phoneCode:"+423",alpha2code:"LI",alpha3code:"LIE",emoji:""},{name:"Lithuania",phoneCode:"+370",alpha2code:"LT",alpha3code:"LTU",emoji:""},{name:"Luxembourg",phoneCode:"+352",alpha2code:"LU",alpha3code:"LUX",emoji:""},{name:"Macao",phoneCode:"+853",alpha2code:"MO",alpha3code:"MAC",emoji:""},{name:"Macedonia",phoneCode:"+389",alpha2code:"MK",alpha3code:"MKD",emoji:""},{name:"Madagascar",phoneCode:"+261",alpha2code:"MG",alpha3code:"MDG",emoji:""},{name:"Malawi",phoneCode:"+265",alpha2code:"MW",alpha3code:"MWI",emoji:""},{name:"Malaysia",phoneCode:"+60",alpha2code:"MY",alpha3code:"MYS",emoji:""},{name:"Maldives",phoneCode:"+960",alpha2code:"MV",alpha3code:"MDV",emoji:""},{name:"Mali",phoneCode:"+223",alpha2code:"ML",alpha3code:"MLI",emoji:""},{name:"Malta",phoneCode:"+356",alpha2code:"MT",alpha3code:"MLT",emoji:""},{name:"Marshall Islands",phoneCode:"+692",alpha2code:"MH",alpha3code:"MHL",emoji:""},{name:"Martinique",phoneCode:"+596",alpha2code:"MQ",alpha3code:"MTQ",emoji:""},{name:"Mauritania",phoneCode:"+222",alpha2code:"MR",alpha3code:"MRT",emoji:""},{name:"Mauritius",phoneCode:"+230",alpha2code:"MU",alpha3code:"MUS",emoji:""},{name:"Mayotte",phoneCode:"+262",alpha2code:"YT",alpha3code:"MYT",emoji:""},{name:"Mexico",phoneCode:"+52",alpha2code:"MX",alpha3code:"MEX",emoji:""},{name:"Moldova",phoneCode:"+373",alpha2code:"MD",alpha3code:"MDA",emoji:""},{name:"Monaco",phoneCode:"+377",alpha2code:"MC",alpha3code:"MCO",emoji:""},{name:"Mongolia",phoneCode:"+976",alpha2code:"MN",alpha3code:"MNG",emoji:""},{name:"Montenegro",phoneCode:"+382",alpha2code:"ME",alpha3code:"MNE",emoji:""},{name:"Montserrat",phoneCode:"+1",alpha2code:"MS",alpha3code:"MSR",emoji:""},{name:"Morocco",phoneCode:"+212",alpha2code:"MA",alpha3code:"MAR",emoji:""},{name:"Mozambique",phoneCode:"+258",alpha2code:"MZ",alpha3code:"MOZ",emoji:""},{name:"Namibia",phoneCode:"+264",alpha2code:"NA",alpha3code:"NAM",emoji:""},{name:"Nauru",phoneCode:"+674",alpha2code:"NR",alpha3code:"NRU",emoji:""},{name:"Nepal",phoneCode:"+977",alpha2code:"NP",alpha3code:"NPL",emoji:""},{name:"Netherlands",phoneCode:"+31",alpha2code:"NL",alpha3code:"NLD",emoji:""},{name:"Netherlands Antilles",phoneCode:"+599",alpha2code:"AN",alpha3code:"ANT",emoji:""},{name:"New Caledonia",phoneCode:"+687",alpha2code:"NC",alpha3code:"NCL",emoji:""},{name:"New Zealand",phoneCode:"+64",alpha2code:"NZ",alpha3code:"NZL",emoji:""},{name:"Nicaragua",phoneCode:"+505",alpha2code:"NI",alpha3code:"NIC",emoji:""},{name:"Niger",phoneCode:"+227",alpha2code:"NE",alpha3code:"NER",emoji:""},{name:"Nigeria",phoneCode:"+234",alpha2code:"NG",alpha3code:"NGA",emoji:""},{name:"Niue",phoneCode:"+683",alpha2code:"NU",alpha3code:"NIU",emoji:""},{name:"Norfolk Island",phoneCode:"+672",alpha2code:"NF",alpha3code:"NFK",emoji:""},{name:"North Korea",phoneCode:"+850",alpha2code:"KP",alpha3code:"PRK",emoji:""},{name:"Northern Mariana Islands",phoneCode:"+1",alpha2code:"MP",alpha3code:"MNP",emoji:""},{name:"Norway",phoneCode:"+47",alpha2code:"NO",alpha3code:"NOR",emoji:""},{name:"Oman",phoneCode:"+968",alpha2code:"OM",alpha3code:"OMN",emoji:""},{name:"Pakistan",phoneCode:"+92",alpha2code:"PK",alpha3code:"PAK",emoji:""},{name:"Palau",phoneCode:"+680",alpha2code:"PW",alpha3code:"PLW",emoji:""},{name:"Palestine",phoneCode:"+970",alpha2code:"PS",alpha3code:"PSE",emoji:""},{name:"Panama",phoneCode:"+507",alpha2code:"PA",alpha3code:"PAN",emoji:""},{name:"Papua New Guinea",phoneCode:"+675",alpha2code:"PG",alpha3code:"PNG",emoji:""},{name:"Paraguay",phoneCode:"+595",alpha2code:"PY",alpha3code:"PRY",emoji:""},{name:"Peru",phoneCode:"+51",alpha2code:"PE",alpha3code:"PER",emoji:""},{name:"Philippines",phoneCode:"+63",alpha2code:"PH",alpha3code:"PHL",emoji:""},{name:"Poland",phoneCode:"+48",alpha2code:"PL",alpha3code:"POL",emoji:""},{name:"Portugal",phoneCode:"+351",alpha2code:"PT",alpha3code:"PRT",emoji:""},{name:"Puerto Rico",phoneCode:"+1",alpha2code:"PR",alpha3code:"PRI",emoji:""},{name:"Qatar",phoneCode:"+974",alpha2code:"QA",alpha3code:"QAT",emoji:""},{name:"Congo",phoneCode:"+242",alpha2code:"CG",alpha3code:"COG",emoji:""},{name:"Runion",phoneCode:"+262",alpha2code:"RE",alpha3code:"REU",emoji:""},{name:"Romania",phoneCode:"+40",alpha2code:"RO",alpha3code:"ROU",emoji:""},{name:"Russia",phoneCode:"+7",alpha2code:"RU",alpha3code:"RUS",emoji:""},{name:"Rwanda",phoneCode:"+250",alpha2code:"RW",alpha3code:"RWA",emoji:""},{name:"Saint Barthlemy",phoneCode:"+590",alpha2code:"BL",alpha3code:"BLM",emoji:""},{name:"Saint Helena",phoneCode:"+290",alpha2code:"SH",alpha3code:"SHN",emoji:""},{name:"Saint Kitts and Nevis",phoneCode:"+1",alpha2code:"KN",alpha3code:"KNA",emoji:""},{name:"Saint Martin",phoneCode:"+590",alpha2code:"MF",alpha3code:"MAF",emoji:""},{name:"Saint Pierre and Miquelon",phoneCode:"+508",alpha2code:"PM",alpha3code:"SPM",emoji:""},{name:"Saint Vincent and the Grenadines",phoneCode:"+1",alpha2code:"VC",alpha3code:"VCT",emoji:""},{name:"Samoa",phoneCode:"+685",alpha2code:"WS",alpha3code:"WSM",emoji:""},{name:"San Marino",phoneCode:"+378",alpha2code:"SM",alpha3code:"SMR",emoji:""},{name:"So Tom and Prncipe",phoneCode:"+239",alpha2code:"ST",alpha3code:"STP",emoji:""},{name:"Saudi Arabia",phoneCode:"+966",alpha2code:"SA",alpha3code:"SAU",emoji:""},{name:"Senegal",phoneCode:"+221",alpha2code:"SN",alpha3code:"SEN",emoji:""},{name:"Serbia",phoneCode:"+381",alpha2code:"RS",alpha3code:"SRB",emoji:""},{name:"Seychelles",phoneCode:"+248",alpha2code:"SC",alpha3code:"SYC",emoji:""},{name:"Sierra Leone",phoneCode:"+232",alpha2code:"SL",alpha3code:"SLE",emoji:""},{name:"Singapore",phoneCode:"+65",alpha2code:"SG",alpha3code:"SGP",emoji:""},{name:"Sint Maarten (Dutch part)",phoneCode:"+1",alpha2code:"SX",alpha3code:"SXM",emoji:""},{name:"Slovakia",phoneCode:"+421",alpha2code:"SK",alpha3code:"SVK",emoji:""},{name:"Slovenia",phoneCode:"+386",alpha2code:"SI",alpha3code:"SVN",emoji:""},{name:"Solomon Islands",phoneCode:"+677",alpha2code:"SB",alpha3code:"SLB",emoji:""},{name:"Somalia",phoneCode:"+252",alpha2code:"SO",alpha3code:"SOM",emoji:""},{name:"South Africa",phoneCode:"+27",alpha2code:"ZA",alpha3code:"ZAF",emoji:""},{name:"South Korea",phoneCode:"+82",alpha2code:"KR",alpha3code:"KOR",emoji:""},{name:"South Sudan",phoneCode:"+211",alpha2code:"SS",alpha3code:"SSD",emoji:""},{name:"Spain",phoneCode:"+34",alpha2code:"ES",alpha3code:"ESP",emoji:""},{name:"Sri Lanka",phoneCode:"+94",alpha2code:"LK",alpha3code:"LKA",emoji:""},{name:"Saint Lucia",phoneCode:"+1",alpha2code:"LC",alpha3code:"LCA",emoji:""},{name:"Sudan",phoneCode:"+249",alpha2code:"SD",alpha3code:"SDN",emoji:""},{name:"Suriname",phoneCode:"+597",alpha2code:"SR",alpha3code:"SUR",emoji:""},{name:"Swaziland",phoneCode:"+268",alpha2code:"SZ",alpha3code:"SWZ",emoji:""},{name:"Sweden",phoneCode:"+46",alpha2code:"SE",alpha3code:"SWE",emoji:""},{name:"Switzerland",phoneCode:"+41",alpha2code:"CH",alpha3code:"CHE",emoji:""},{name:"Syrian Arab Republic",phoneCode:"+963",alpha2code:"SY",alpha3code:"SYR",emoji:""},{name:"Taiwan",phoneCode:"+886",alpha2code:"TW",alpha3code:"TWN",emoji:""},{name:"Tajikistan",phoneCode:"+992",alpha2code:"TJ",alpha3code:"TJK",emoji:""},{name:"Tanzania",phoneCode:"+255",alpha2code:"TZ",alpha3code:"TZA",emoji:""},{name:"Thailand",phoneCode:"+66",alpha2code:"TH",alpha3code:"THA",emoji:""},{name:"Bahamas",phoneCode:"+1",alpha2code:"BS",alpha3code:"BHS",emoji:""},{name:"Gambia",phoneCode:"+220",alpha2code:"GM",alpha3code:"GMB",emoji:""},{name:"Timor-Leste",phoneCode:"+670",alpha2code:"TL",alpha3code:"TLS",emoji:""},{name:"Togo",phoneCode:"+228",alpha2code:"TG",alpha3code:"TGO",emoji:""},{name:"Tokelau",phoneCode:"+690",alpha2code:"TK",alpha3code:"TKL",emoji:""},{name:"Tonga",phoneCode:"+676",alpha2code:"TO",alpha3code:"TON",emoji:""},{name:"Trinidad and Tobago",phoneCode:"+1",alpha2code:"TT",alpha3code:"TTO",emoji:""},{name:"Tunisia",phoneCode:"+216",alpha2code:"TN",alpha3code:"TUN",emoji:""},{name:"Turkey",phoneCode:"+90",alpha2code:"TR",alpha3code:"TUR",emoji:""},{name:"Turkmenistan",phoneCode:"+993",alpha2code:"TM",alpha3code:"TKM",emoji:""},{name:"Turks and Caicos Islands",phoneCode:"+1",alpha2code:"TC",alpha3code:"TCA",emoji:""},{name:"Tuvalu",phoneCode:"+688",alpha2code:"TV",alpha3code:"TUV",emoji:""},{name:"Uganda",phoneCode:"+256",alpha2code:"UG",alpha3code:"UGA",emoji:""},{name:"Ukraine",phoneCode:"+380",alpha2code:"UA",alpha3code:"UKR",emoji:""},{name:"United Arab Emirates",phoneCode:"+971",alpha2code:"AE",alpha3code:"ARE",emoji:""},{name:"United Kingdom",phoneCode:"+44",alpha2code:"GB",alpha3code:"GBR",emoji:""},{name:"United States",phoneCode:"+1",alpha2code:"US",alpha3code:"USA",emoji:""},{name:"Uruguay",phoneCode:"+598",alpha2code:"UY",alpha3code:"URY",emoji:""},{name:"U.S. Virgin Islands",phoneCode:"+1",alpha2code:"VI",alpha3code:"VIR",emoji:""},{name:"Uzbekistan",phoneCode:"+998",alpha2code:"UZ",alpha3code:"UZB",emoji:""},{name:"Vanuatu",phoneCode:"+678",alpha2code:"VU",alpha3code:"VUT",emoji:""},{name:"Vatican City",phoneCode:"+39",alpha2code:"VA",alpha3code:"VAT",emoji:""},{name:"Venezuela",phoneCode:"+58",alpha2code:"VE",alpha3code:"VEN",emoji:""},{name:"Vietnam",phoneCode:"+84",alpha2code:"VN",alpha3code:"VNM",emoji:""},{name:"Wallis and Futuna",phoneCode:"+681",alpha2code:"WF",alpha3code:"WLF",emoji:""},{name:"Yemen",phoneCode:"+967",alpha2code:"YE",alpha3code:"YEM",emoji:""},{name:"Zambia",phoneCode:"+260",alpha2code:"ZM",alpha3code:"ZMB",emoji:""},{name:"Zimbabwe",phoneCode:"+263",alpha2code:"ZW",alpha3code:"ZWE",emoji:""}],Kj=[];xwe.map((t,e)=>Kj.push({id:e,title:t.name+" "+t.emoji}));function $n(){return $n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$n.apply(this,arguments)}function Ja(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ewe(t,e){if(t){if(typeof t=="string")return L3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L3(t,e)}}function L3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eo(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=Ewe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=t[Symbol.iterator](),n.next.bind(n)}function ji(t,e){if(t in e){for(var n=e[t],r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return typeof n=="function"?n.apply(void 0,i):n}var o=new Error('Tried to handle "'+t+'" but there is no handler defined. Only defined handlers are: '+Object.keys(e).map(function(a){return'"'+a+'"'}).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(o,ji),o}var la;(function(t){t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static"})(la||(la={}));var Ts;(function(t){t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden"})(Ts||(Ts={}));function Fs(t){var e=t.props,n=t.slot,r=t.defaultTag,i=t.features,s=t.visible,o=s===void 0?!0:s,a=t.name;if(o)return Gv(e,n,r,a);var l=i??la.None;if(l&la.Static){var c=e.static,u=c===void 0?!1:c,d=Ja(e,["static"]);if(u)return Gv(d,n,r,a)}if(l&la.RenderStrategy){var p,v=e.unmount,g=v===void 0?!0:v,_=Ja(e,["unmount"]),R=g?Ts.Unmount:Ts.Hidden;return ji(R,(p={},p[Ts.Unmount]=function(){return null},p[Ts.Hidden]=function(){return Gv($n({},_,{hidden:!0,style:{display:"none"}}),n,r,a)},p))}return Gv(e,n,r,a)}function Gv(t,e,n,r){var i;e===void 0&&(e={});var s=YE(t,["unmount","static"]),o=s.as,a=o===void 0?n:o,l=s.children,c=s.refName,u=c===void 0?"ref":c,d=Ja(s,["as","children","refName"]),p=t.ref!==void 0?(i={},i[u]=t.ref,i):{},v=typeof l=="function"?l(e):l;if(d.className&&typeof d.className=="function"&&(d.className=d.className(e)),a===y.Fragment&&Object.keys(d).length>0){if(!y.isValidElement(v)||Array.isArray(v)&&v.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <"+r+' /> is rendering a "Fragment".',"However we need to passthrough the following props:",Object.keys(d).map(function(g){return"  - "+g}).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(function(g){return"  - "+g}).join(`
`)].join(`
`));return y.cloneElement(v,Object.assign({},Swe(Twe(YE(d,["ref"])),v.props,["onClick"]),p))}return y.createElement(a,Object.assign({},YE(d,["ref"]),a!==y.Fragment&&p),v)}function Swe(t,e,n){for(var r=Object.assign({},t),i=function(){var l=o.value;if(t[l]!==void 0&&e[l]!==void 0){var c;Object.assign(r,(c={},c[l]=function(u){u.defaultPrevented||t[l](u),u.defaultPrevented||e[l](u)},c))}},s=Eo(n),o;!(o=s()).done;)i();return r}function Pb(t){var e;return Object.assign(y.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Twe(t){var e=Object.assign({},t);for(var n in e)e[n]===void 0&&delete e[n];return e}function YE(t,e){e===void 0&&(e=[]);for(var n=Object.assign({},t),r=Eo(e),i;!(i=r()).done;){var s=i.value;s in n&&delete n[s]}return n}var ir=typeof window<"u"?y.useLayoutEffect:y.useEffect,XE={serverHandoffComplete:!1};function Db(){var t=y.useState(XE.serverHandoffComplete),e=t[0],n=t[1];return y.useEffect(function(){e!==!0&&n(!0)},[e]),y.useEffect(function(){XE.serverHandoffComplete===!1&&(XE.serverHandoffComplete=!0)},[]),e}var Qj=y.createContext(!1);function Cwe(){return y.useContext(Qj)}function O3(t){return Ze.createElement(Qj.Provider,{value:t.force},t.children)}function Iwe(){var t=Cwe(),e=y.useContext(Yj),n=y.useState(function(){if(!t&&e!==null||typeof window>"u")return null;var s=document.getElementById("headlessui-portal-root");if(s)return s;var o=document.createElement("div");return o.setAttribute("id","headlessui-portal-root"),document.body.appendChild(o)}),r=n[0],i=n[1];return y.useEffect(function(){t||e!==null&&i(e.current)},[e,i,t]),r}var Nwe=y.Fragment;function rI(t){var e=t,n=Iwe(),r=y.useState(function(){return typeof window>"u"?null:document.createElement("div")}),i=r[0],s=Db();return ir(function(){if(n&&i)return n.appendChild(i),function(){if(n&&i&&(n.removeChild(i),n.childNodes.length<=0)){var o;(o=n.parentElement)==null||o.removeChild(n)}}},[n,i]),s?!n||!i?null:pN.createPortal(Fs({props:e,defaultTag:Nwe,name:"Portal"}),i):null}var Rwe=y.Fragment,Yj=y.createContext(null);function Awe(t){var e=t.target,n=Ja(t,["target"]);return Ze.createElement(Yj.Provider,{value:e},Fs({props:n,defaultTag:Rwe,name:"Popover.Group"}))}rI.Group=Awe;function Lb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=y.useRef(e);return y.useEffect(function(){r.current=e},[e]),y.useCallback(function(i){for(var s=Eo(r.current),o;!(o=s()).done;){var a=o.value;a!=null&&(typeof a=="function"?a(i):a.current=i)}},[r])}var wr;(function(t){t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab"})(wr||(wr={}));function Xj(t){for(var e,n,r=t.parentElement,i=null;r&&!(r instanceof HTMLFieldSetElement);)r instanceof HTMLLegendElement&&(i=r),r=r.parentElement;var s=(e=((n=r)==null?void 0:n.getAttribute("disabled"))==="")!=null?e:!1;return s&&kwe(i)?!1:s}function kwe(t){if(!t)return!1;for(var e=t.previousElementSibling;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var Pwe=0;function M3(){return++Pwe}function al(){var t=Db(),e=y.useState(t?M3:null),n=e[0],r=e[1];return ir(function(){n===null&&r(M3())},[n]),n!=null?""+n:void 0}function Ig(t,e,n){var r=y.useRef(e);r.current=e,y.useEffect(function(){function i(s){r.current.call(window,s)}return window.addEventListener(t,i,n),function(){return window.removeEventListener(t,i,n)}},[t,n])}var iI=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(function(t){return t+":not([tabindex='-1'])"}).join(","),Ei;(function(t){t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll"})(Ei||(Ei={}));var Ol;(function(t){t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow"})(Ol||(Ol={}));var d_;(function(t){t[t.Previous=-1]="Previous",t[t.Next=1]="Next"})(d_||(d_={}));function Dwe(t){return t===void 0&&(t=document.body),t==null?[]:Array.from(t.querySelectorAll(iI))}var Sh;(function(t){t[t.Strict=0]="Strict",t[t.Loose=1]="Loose"})(Sh||(Sh={}));function Lwe(t,e){var n;return e===void 0&&(e=Sh.Strict),t===document.body?!1:ji(e,(n={},n[Sh.Strict]=function(){return t.matches(iI)},n[Sh.Loose]=function(){for(var r=t;r!==null;){if(r.matches(iI))return!0;r=r.parentElement}return!1},n))}function Pp(t){t==null||t.focus({preventScroll:!0})}function F3(t,e){var n=Array.isArray(t)?t:Dwe(t),r=document.activeElement,i=function(){if(e&(Ei.First|Ei.Next))return d_.Next;if(e&(Ei.Previous|Ei.Last))return d_.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),s=function(){if(e&Ei.First)return 0;if(e&Ei.Previous)return Math.max(0,n.indexOf(r))-1;if(e&Ei.Next)return Math.max(0,n.indexOf(r))+1;if(e&Ei.Last)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),o=e&Ei.NoScroll?{preventScroll:!0}:{},a=0,l=n.length,c=void 0;do{var u;if(a>=l||a+l<=0)return Ol.Error;var d=s+a;if(e&Ei.WrapAround)d=(d+l)%l;else{if(d<0)return Ol.Underflow;if(d>=l)return Ol.Overflow}c=n[d],(u=c)==null||u.focus(o),a+=i}while(c!==document.activeElement);return c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),Ol.Success}function Jj(){var t=y.useRef(!1);return y.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),t}var Qo;(function(t){t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All"})(Qo||(Qo={}));function Owe(t,e,n){e===void 0&&(e=Qo.All);var r=n===void 0?{}:n,i=r.initialFocus,s=r.containers,o=y.useRef(typeof window<"u"?document.activeElement:null),a=y.useRef(null),l=Jj(),c=!!(e&Qo.RestoreFocus),u=!!(e&Qo.InitialFocus);y.useEffect(function(){c&&(o.current=document.activeElement)},[c]),y.useEffect(function(){if(c)return function(){Pp(o.current),o.current=null}},[c]),y.useEffect(function(){if(u&&t.current){var d=document.activeElement;if(i!=null&&i.current){if((i==null?void 0:i.current)===d){a.current=d;return}}else if(t.current.contains(d)){a.current=d;return}i!=null&&i.current?Pp(i.current):F3(t.current,Ei.First)===Ol.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=document.activeElement}},[t,i,u]),Ig("keydown",function(d){e&Qo.TabLock&&t.current&&d.key===wr.Tab&&(d.preventDefault(),F3(t.current,(d.shiftKey?Ei.Previous:Ei.Next)|Ei.WrapAround)===Ol.Success&&(a.current=document.activeElement))}),Ig("focus",function(d){if(e&Qo.FocusLock){var p=new Set(s==null?void 0:s.current);if(p.add(t),!!p.size){var v=a.current;if(v&&l.current){var g=d.target;g&&g instanceof HTMLElement?Mwe(p,g)?(a.current=g,Pp(g)):(d.preventDefault(),d.stopPropagation(),Pp(v)):Pp(a.current)}}}},!0)}function Mwe(t,e){for(var n=Eo(t),r;!(r=n()).done;){var i,s=r.value;if((i=s.current)!=null&&i.contains(e))return!0}return!1}var Ld=new Set,yl=new Map;function B3(t){t.setAttribute("aria-hidden","true"),t.inert=!0}function $3(t){var e=yl.get(t);e&&(e["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",e["aria-hidden"]),t.inert=e.inert)}function Fwe(t,e){e===void 0&&(e=!0),ir(function(){if(e&&t.current){var n=t.current;Ld.add(n);for(var r=Eo(yl.keys()),i;!(i=r()).done;){var s=i.value;s.contains(n)&&($3(s),yl.delete(s))}return document.querySelectorAll("body > *").forEach(function(o){if(o instanceof HTMLElement){for(var a=Eo(Ld),l;!(l=a()).done;){var c=l.value;if(o.contains(c))return}Ld.size===1&&(yl.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),B3(o))}}),function(){if(Ld.delete(n),Ld.size>0)document.querySelectorAll("body > *").forEach(function(c){if(c instanceof HTMLElement&&!yl.has(c)){for(var u=Eo(Ld),d;!(d=u()).done;){var p=d.value;if(c.contains(p))return}yl.set(c,{"aria-hidden":c.getAttribute("aria-hidden"),inert:c.inert}),B3(c)}});else for(var o=Eo(yl.keys()),a;!(a=o()).done;){var l=a.value;$3(l),yl.delete(l)}}}},[e])}var Zj=y.createContext(null);function ez(){var t=y.useContext(Zj);if(t===null){var e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ez),e}return t}function Bwe(){var t=y.useState([]),e=t[0],n=t[1];return[e.length>0?e.join(" "):void 0,y.useMemo(function(){return function(i){var s=y.useCallback(function(a){return n(function(l){return[].concat(l,[a])}),function(){return n(function(l){var c=l.slice(),u=c.indexOf(a);return u!==-1&&c.splice(u,1),c})}},[]),o=y.useMemo(function(){return{register:s,slot:i.slot,name:i.name,props:i.props}},[s,i.slot,i.name,i.props]);return Ze.createElement(Zj.Provider,{value:o},i.children)}},[n])]}var $we="p";function Uwe(t){var e=ez(),n="headlessui-description-"+al();ir(function(){return e.register(n)},[n,e.register]);var r=t,i=$n({},e.props,{id:n});return Fs({props:$n({},r,i),slot:e.slot||{},defaultTag:$we,name:e.name||"Description"})}var CA=y.createContext(null);CA.displayName="OpenClosedContext";var Zs;(function(t){t[t.Open=0]="Open",t[t.Closed=1]="Closed"})(Zs||(Zs={}));function Ob(){return y.useContext(CA)}function tz(t){var e=t.value,n=t.children;return Ze.createElement(CA.Provider,{value:e},n)}var IA=y.createContext(function(){});IA.displayName="StackContext";var lf;(function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove"})(lf||(lf={}));function Vwe(){return y.useContext(IA)}function jwe(t){var e=t.children,n=t.onUpdate,r=t.type,i=t.element,s=Vwe(),o=y.useCallback(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];n==null||n.apply(void 0,l),s.apply(void 0,l)},[s,n]);return ir(function(){return o(lf.Add,r,i),function(){return o(lf.Remove,r,i)}},[o,r,i]),Ze.createElement(IA.Provider,{value:o},e)}var JE,Qi;(function(t){t[t.Open=0]="Open",t[t.Closed=1]="Closed"})(Qi||(Qi={}));var h_;(function(t){t[t.SetTitleId=0]="SetTitleId"})(h_||(h_={}));var zwe=(JE={},JE[h_.SetTitleId]=function(t,e){return t.titleId===e.id?t:$n({},t,{titleId:e.id})},JE),f_=y.createContext(null);f_.displayName="DialogContext";function NA(t){var e=y.useContext(f_);if(e===null){var n=new Error("<"+t+" /> is missing a parent <"+Th.displayName+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,NA),n}return e}function Hwe(t,e){return ji(e.type,zwe,t,e)}var Wwe="div",Gwe=la.RenderStrategy|la.Static,qwe=Pb(function(e,n){var r=e.open,i=e.onClose,s=e.initialFocus,o=Ja(e,["open","onClose","initialFocus"]),a=y.useState(0),l=a[0],c=a[1],u=Ob();if(r===void 0&&u!==null){var d;r=ji(u,(d={},d[Zs.Open]=!0,d[Zs.Closed]=!1,d))}var p=y.useRef(new Set),v=y.useRef(null),g=Lb(v,n),_=e.hasOwnProperty("open")||u!==null,R=e.hasOwnProperty("onClose");if(!_&&!R)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!_)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!R)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof r!="boolean")throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: "+r);if(typeof i!="function")throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: "+i);var E=r?Qi.Open:Qi.Closed,b=function(){return u!==null?u===Zs.Open:E===Qi.Open}(),T=y.useReducer(Hwe,{titleId:null,descriptionId:null}),I=T[0],D=T[1],M=y.useCallback(function(){return i(!1)},[i]),$=y.useCallback(function(ke){return D({type:h_.SetTitleId,id:ke})},[D]),C=Db(),k=C&&E===Qi.Open,O=l>1,W=y.useContext(f_)!==null,V=O?"parent":"leaf";Owe(v,k?ji(V,{parent:Qo.RestoreFocus,leaf:Qo.All}):Qo.None,{initialFocus:s,containers:p}),Fwe(v,O?k:!1),Ig("mousedown",function(ke){var U,ne=ke.target;E===Qi.Open&&(O||(U=v.current)!=null&&U.contains(ne)||M())}),Ig("keydown",function(ke){ke.key===wr.Escape&&E===Qi.Open&&(O||(ke.preventDefault(),ke.stopPropagation(),M()))}),y.useEffect(function(){if(E===Qi.Open&&!W){var ke=document.documentElement.style.overflow,U=document.documentElement.style.paddingRight,ne=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=ne+"px",function(){document.documentElement.style.overflow=ke,document.documentElement.style.paddingRight=U}}},[E,W]),y.useEffect(function(){if(E===Qi.Open&&v.current){var ke=new IntersectionObserver(function(U){for(var ne=Eo(U),te;!(te=ne()).done;){var ue=te.value;ue.boundingClientRect.x===0&&ue.boundingClientRect.y===0&&ue.boundingClientRect.width===0&&ue.boundingClientRect.height===0&&M()}});return ke.observe(v.current),function(){return ke.disconnect()}}},[E,v,M]);var z=Bwe(),Y=z[0],fe=z[1],ge="headlessui-dialog-"+al(),K=y.useMemo(function(){return[{dialogState:E,close:M,setTitleId:$},I]},[E,I,M,$]),J=y.useMemo(function(){return{open:E===Qi.Open}},[E]),Z={ref:g,id:ge,role:"dialog","aria-modal":E===Qi.Open?!0:void 0,"aria-labelledby":I.titleId,"aria-describedby":Y,onClick:function(U){U.stopPropagation()}},Te=o;return Ze.createElement(jwe,{type:"Dialog",element:v,onUpdate:y.useCallback(function(ke,U,ne){var te;U==="Dialog"&&ji(ke,(te={},te[lf.Add]=function(){p.current.add(ne),c(function(ue){return ue+1})},te[lf.Remove]=function(){p.current.add(ne),c(function(ue){return ue-1})},te))},[])},Ze.createElement(O3,{force:!0},Ze.createElement(rI,null,Ze.createElement(f_.Provider,{value:K},Ze.createElement(rI.Group,{target:v},Ze.createElement(O3,{force:!1},Ze.createElement(fe,{slot:J,name:"Dialog.Description"},Fs({props:$n({},Te,Z),slot:J,defaultTag:Wwe,features:Gwe,visible:b,name:"Dialog"}))))))))}),Kwe="div",Qwe=Pb(function t(e,n){var r=NA([Th.displayName,t.name].join(".")),i=r[0],s=i.dialogState,o=i.close,a=Lb(n),l="headlessui-dialog-overlay-"+al(),c=y.useCallback(function(v){if(v.target===v.currentTarget){if(Xj(v.currentTarget))return v.preventDefault();v.preventDefault(),v.stopPropagation(),o()}},[o]),u=y.useMemo(function(){return{open:s===Qi.Open}},[s]),d={ref:a,id:l,"aria-hidden":!0,onClick:c},p=e;return Fs({props:$n({},p,d),slot:u,defaultTag:Kwe,name:"Dialog.Overlay"})}),Ywe="h2";function nz(t){var e=NA([Th.displayName,nz.name].join(".")),n=e[0],r=n.dialogState,i=n.setTitleId,s="headlessui-dialog-title-"+al();y.useEffect(function(){return i(s),function(){return i(null)}},[s,i]);var o=y.useMemo(function(){return{open:r===Qi.Open}},[r]),a={id:s},l=t;return Fs({props:$n({},l,a),slot:o,defaultTag:Ywe,name:"Dialog.Title"})}var Th=Object.assign(qwe,{Overlay:Qwe,Title:nz,Description:Uwe});function U3(t){var e;if(t.type)return t.type;var n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Xwe(t,e){var n=y.useState(function(){return U3(t)}),r=n[0],i=n[1];return ir(function(){i(U3(t))},[t.type,t.as]),ir(function(){r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&i("button")},[r,e]),r}function cf(){var t=[],e={requestAnimationFrame:function(n){function r(){return n.apply(this,arguments)}return r.toString=function(){return n.toString()},r}(function(){var n=requestAnimationFrame.apply(void 0,arguments);e.add(function(){return cancelAnimationFrame(n)})}),nextFrame:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];e.requestAnimationFrame(function(){e.requestAnimationFrame.apply(e,i)})},setTimeout:function(n){function r(){return n.apply(this,arguments)}return r.toString=function(){return n.toString()},r}(function(){var n=setTimeout.apply(void 0,arguments);e.add(function(){return clearTimeout(n)})}),add:function(r){t.push(r)},dispose:function(){for(var r=Eo(t.splice(0)),i;!(i=r()).done;){var s=i.value;s()}}};return e}function sI(){var t=y.useState(cf),e=t[0];return y.useEffect(function(){return function(){return e.dispose()}},[e]),e}function rz(t,e){var n=y.useState(t),r=n[0],i=n[1],s=y.useRef(t);return ir(function(){s.current=t},[t]),ir(function(){return i(s.current)},[s,i].concat(e)),r}function Jwe(t){throw new Error("Unexpected object: "+t)}var Mr;(function(t){t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing"})(Mr||(Mr={}));function Zwe(t,e){var n=e.resolveItems();if(n.length<=0)return null;var r=e.resolveActiveIndex(),i=r??-1,s=function(){switch(t.focus){case Mr.First:return n.findIndex(function(l){return!e.resolveDisabled(l)});case Mr.Previous:{var o=n.slice().reverse().findIndex(function(l,c,u){return i!==-1&&u.length-c-1>=i?!1:!e.resolveDisabled(l)});return o===-1?o:n.length-1-o}case Mr.Next:return n.findIndex(function(l,c){return c<=i?!1:!e.resolveDisabled(l)});case Mr.Last:{var a=n.slice().reverse().findIndex(function(l){return!e.resolveDisabled(l)});return a===-1?a:n.length-1-a}case Mr.Specific:return n.findIndex(function(l){return e.resolveId(l)===t.id});case Mr.Nothing:return null;default:Jwe(t)}}();return s===-1?r:s}var po,nr;(function(t){t[t.Open=0]="Open",t[t.Closed=1]="Closed"})(nr||(nr={}));var zt;(function(t){t[t.OpenListbox=0]="OpenListbox",t[t.CloseListbox=1]="CloseListbox",t[t.SetDisabled=2]="SetDisabled",t[t.SetOrientation=3]="SetOrientation",t[t.GoToOption=4]="GoToOption",t[t.Search=5]="Search",t[t.ClearSearch=6]="ClearSearch",t[t.RegisterOption=7]="RegisterOption",t[t.UnregisterOption=8]="UnregisterOption"})(zt||(zt={}));var e_e=(po={},po[zt.CloseListbox]=function(t){return t.disabled||t.listboxState===nr.Closed?t:$n({},t,{activeOptionIndex:null,listboxState:nr.Closed})},po[zt.OpenListbox]=function(t){return t.disabled||t.listboxState===nr.Open?t:$n({},t,{listboxState:nr.Open})},po[zt.SetDisabled]=function(t,e){return t.disabled===e.disabled?t:$n({},t,{disabled:e.disabled})},po[zt.SetOrientation]=function(t,e){return t.orientation===e.orientation?t:$n({},t,{orientation:e.orientation})},po[zt.GoToOption]=function(t,e){if(t.disabled||t.listboxState===nr.Closed)return t;var n=Zwe(e,{resolveItems:function(){return t.options},resolveActiveIndex:function(){return t.activeOptionIndex},resolveId:function(i){return i.id},resolveDisabled:function(i){return i.dataRef.current.disabled}});return t.searchQuery===""&&t.activeOptionIndex===n?t:$n({},t,{searchQuery:"",activeOptionIndex:n})},po[zt.Search]=function(t,e){if(t.disabled||t.listboxState===nr.Closed)return t;var n=t.searchQuery+e.value.toLowerCase(),r=t.options.findIndex(function(i){var s;return!i.dataRef.current.disabled&&((s=i.dataRef.current.textValue)==null?void 0:s.startsWith(n))});return r===-1||r===t.activeOptionIndex?$n({},t,{searchQuery:n}):$n({},t,{searchQuery:n,activeOptionIndex:r})},po[zt.ClearSearch]=function(t){return t.disabled||t.listboxState===nr.Closed||t.searchQuery===""?t:$n({},t,{searchQuery:""})},po[zt.RegisterOption]=function(t,e){return $n({},t,{options:[].concat(t.options,[{id:e.id,dataRef:e.dataRef}])})},po[zt.UnregisterOption]=function(t,e){var n=t.options.slice(),r=t.activeOptionIndex!==null?n[t.activeOptionIndex]:null,i=n.findIndex(function(s){return s.id===e.id});return i!==-1&&n.splice(i,1),$n({},t,{options:n,activeOptionIndex:function(){return i===t.activeOptionIndex||r===null?null:n.indexOf(r)}()})},po),RA=y.createContext(null);RA.displayName="ListboxContext";function D0(t){var e=y.useContext(RA);if(e===null){var n=new Error("<"+t+" /> is missing a parent <"+ns.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,D0),n}return e}function t_e(t,e){return ji(e.type,e_e,t,e)}var n_e=y.Fragment;function ns(t){var e,n=t.value,r=t.onChange,i=t.disabled,s=i===void 0?!1:i,o=t.horizontal,a=o===void 0?!1:o,l=Ja(t,["value","onChange","disabled","horizontal"]),c=a?"horizontal":"vertical",u=y.useReducer(t_e,{listboxState:nr.Closed,propsRef:{current:{value:n,onChange:r}},labelRef:y.createRef(),buttonRef:y.createRef(),optionsRef:y.createRef(),disabled:s,orientation:c,options:[],searchQuery:"",activeOptionIndex:null}),d=u[0],p=d.listboxState,v=d.propsRef,g=d.optionsRef,_=d.buttonRef,R=u[1];ir(function(){v.current.value=n},[n,v]),ir(function(){v.current.onChange=r},[r,v]),ir(function(){return R({type:zt.SetDisabled,disabled:s})},[s]),ir(function(){return R({type:zt.SetOrientation,orientation:c})},[c]),Ig("mousedown",function(b){var T,I,D=b.target;if(p===nr.Open&&!((T=_.current)!=null&&T.contains(D))&&!((I=g.current)!=null&&I.contains(D))&&(R({type:zt.CloseListbox}),!Lwe(D,Sh.Loose))){var M;b.preventDefault(),(M=_.current)==null||M.focus()}});var E=y.useMemo(function(){return{open:p===nr.Open,disabled:s}},[p,s]);return Ze.createElement(RA.Provider,{value:u},Ze.createElement(tz,{value:ji(p,(e={},e[nr.Open]=Zs.Open,e[nr.Closed]=Zs.Closed,e))},Fs({props:l,slot:E,defaultTag:n_e,name:"Listbox"})))}var r_e="button",i_e=Pb(function t(e,n){var r,i=D0([ns.name,t.name].join(".")),s=i[0],o=i[1],a=Lb(s.buttonRef,n),l="headlessui-listbox-button-"+al(),c=sI(),u=y.useCallback(function(E){switch(E.key){case wr.Space:case wr.Enter:case wr.ArrowDown:E.preventDefault(),o({type:zt.OpenListbox}),c.nextFrame(function(){s.propsRef.current.value||o({type:zt.GoToOption,focus:Mr.First})});break;case wr.ArrowUp:E.preventDefault(),o({type:zt.OpenListbox}),c.nextFrame(function(){s.propsRef.current.value||o({type:zt.GoToOption,focus:Mr.Last})});break}},[o,s,c]),d=y.useCallback(function(E){switch(E.key){case wr.Space:E.preventDefault();break}},[]),p=y.useCallback(function(E){if(Xj(E.currentTarget))return E.preventDefault();s.listboxState===nr.Open?(o({type:zt.CloseListbox}),c.nextFrame(function(){var b;return(b=s.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})})):(E.preventDefault(),o({type:zt.OpenListbox}))},[o,c,s]),v=rz(function(){if(s.labelRef.current)return[s.labelRef.current.id,l].join(" ")},[s.labelRef.current,l]),g=y.useMemo(function(){return{open:s.listboxState===nr.Open,disabled:s.disabled}},[s]),_=e,R={ref:a,id:l,type:Xwe(e,s.buttonRef),"aria-haspopup":!0,"aria-controls":(r=s.optionsRef.current)==null?void 0:r.id,"aria-expanded":s.disabled?void 0:s.listboxState===nr.Open,"aria-labelledby":v,disabled:s.disabled,onKeyDown:u,onKeyUp:d,onClick:p};return Fs({props:$n({},_,R),slot:g,defaultTag:r_e,name:"Listbox.Button"})}),s_e="label";function iz(t){var e=D0([ns.name,iz.name].join(".")),n=e[0],r="headlessui-listbox-label-"+al(),i=y.useCallback(function(){var a;return(a=n.buttonRef.current)==null?void 0:a.focus({preventScroll:!0})},[n.buttonRef]),s=y.useMemo(function(){return{open:n.listboxState===nr.Open,disabled:n.disabled}},[n]),o={ref:n.labelRef,id:r,onClick:i};return Fs({props:$n({},t,o),slot:s,defaultTag:s_e,name:"Listbox.Label"})}var o_e="ul",a_e=la.RenderStrategy|la.Static,l_e=Pb(function t(e,n){var r,i=D0([ns.name,t.name].join(".")),s=i[0],o=i[1],a=Lb(s.optionsRef,n),l="headlessui-listbox-options-"+al(),c=sI(),u=sI(),d=Ob(),p=function(){return d!==null?d===Zs.Open:s.listboxState===nr.Open}();ir(function(){var b=s.optionsRef.current;b&&s.listboxState===nr.Open&&b!==document.activeElement&&b.focus({preventScroll:!0})},[s.listboxState,s.optionsRef]);var v=y.useCallback(function(b){switch(u.dispose(),b.key){case wr.Space:if(s.searchQuery!=="")return b.preventDefault(),b.stopPropagation(),o({type:zt.Search,value:b.key});case wr.Enter:if(b.preventDefault(),b.stopPropagation(),o({type:zt.CloseListbox}),s.activeOptionIndex!==null){var T=s.options[s.activeOptionIndex].dataRef;s.propsRef.current.onChange(T.current.value)}cf().nextFrame(function(){var I;return(I=s.buttonRef.current)==null?void 0:I.focus({preventScroll:!0})});break;case ji(s.orientation,{vertical:wr.ArrowDown,horizontal:wr.ArrowRight}):return b.preventDefault(),b.stopPropagation(),o({type:zt.GoToOption,focus:Mr.Next});case ji(s.orientation,{vertical:wr.ArrowUp,horizontal:wr.ArrowLeft}):return b.preventDefault(),b.stopPropagation(),o({type:zt.GoToOption,focus:Mr.Previous});case wr.Home:case wr.PageUp:return b.preventDefault(),b.stopPropagation(),o({type:zt.GoToOption,focus:Mr.First});case wr.End:case wr.PageDown:return b.preventDefault(),b.stopPropagation(),o({type:zt.GoToOption,focus:Mr.Last});case wr.Escape:return b.preventDefault(),b.stopPropagation(),o({type:zt.CloseListbox}),c.nextFrame(function(){var I;return(I=s.buttonRef.current)==null?void 0:I.focus({preventScroll:!0})});case wr.Tab:b.preventDefault(),b.stopPropagation();break;default:b.key.length===1&&(o({type:zt.Search,value:b.key}),u.setTimeout(function(){return o({type:zt.ClearSearch})},350));break}},[c,o,u,s]),g=rz(function(){var b,T,I;return(b=(T=s.labelRef.current)==null?void 0:T.id)!=null?b:(I=s.buttonRef.current)==null?void 0:I.id},[s.labelRef.current,s.buttonRef.current]),_=y.useMemo(function(){return{open:s.listboxState===nr.Open}},[s]),R={"aria-activedescendant":s.activeOptionIndex===null||(r=s.options[s.activeOptionIndex])==null?void 0:r.id,"aria-labelledby":g,"aria-orientation":s.orientation,id:l,onKeyDown:v,role:"listbox",tabIndex:0,ref:a},E=e;return Fs({props:$n({},E,R),slot:_,defaultTag:o_e,features:a_e,visible:p,name:"Listbox.Options"})}),c_e="li";function sz(t){var e=t.disabled,n=e===void 0?!1:e,r=t.value,i=Ja(t,["disabled","value"]),s=D0([ns.name,sz.name].join(".")),o=s[0],a=s[1],l="headlessui-listbox-option-"+al(),c=o.activeOptionIndex!==null?o.options[o.activeOptionIndex].id===l:!1,u=o.propsRef.current.value===r,d=y.useRef({disabled:n,value:r});ir(function(){d.current.disabled=n},[d,n]),ir(function(){d.current.value=r},[d,r]),ir(function(){var T,I;d.current.textValue=(T=document.getElementById(l))==null||(I=T.textContent)==null?void 0:I.toLowerCase()},[d,l]);var p=y.useCallback(function(){return o.propsRef.current.onChange(r)},[o.propsRef,r]);ir(function(){return a({type:zt.RegisterOption,id:l,dataRef:d}),function(){return a({type:zt.UnregisterOption,id:l})}},[d,l]),ir(function(){var T;o.listboxState===nr.Open&&u&&(a({type:zt.GoToOption,focus:Mr.Specific,id:l}),(T=document.getElementById(l))==null||T.focus==null||T.focus())},[o.listboxState]),ir(function(){if(o.listboxState===nr.Open&&c){var T=cf();return T.nextFrame(function(){var I;return(I=document.getElementById(l))==null||I.scrollIntoView==null?void 0:I.scrollIntoView({block:"nearest"})}),T.dispose}},[l,c,o.listboxState]);var v=y.useCallback(function(T){if(n)return T.preventDefault();p(),a({type:zt.CloseListbox}),cf().nextFrame(function(){var I;return(I=o.buttonRef.current)==null?void 0:I.focus({preventScroll:!0})})},[a,o.buttonRef,n,p]),g=y.useCallback(function(){if(n)return a({type:zt.GoToOption,focus:Mr.Nothing});a({type:zt.GoToOption,focus:Mr.Specific,id:l})},[n,l,a]),_=y.useCallback(function(){n||c||a({type:zt.GoToOption,focus:Mr.Specific,id:l})},[n,c,l,a]),R=y.useCallback(function(){n||c&&a({type:zt.GoToOption,focus:Mr.Nothing})},[n,c,a]),E=y.useMemo(function(){return{active:c,selected:u,disabled:n}},[c,u,n]),b={id:l,role:"option",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,"aria-selected":u===!0?!0:void 0,disabled:void 0,onClick:v,onFocus:g,onPointerMove:_,onMouseMove:_,onPointerLeave:R,onMouseLeave:R};return Fs({props:$n({},i,b),slot:E,defaultTag:c_e,name:"Listbox.Option"})}ns.Button=i_e;ns.Label=iz;ns.Options=l_e;ns.Option=sz;function u_e(){var t=y.useRef(!0);return y.useEffect(function(){t.current=!1},[]),t.current}function d_e(t){var e={called:!1};return function(){if(!e.called)return e.called=!0,t.apply(void 0,arguments)}}function ZE(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&r.length>0&&(e=t.classList).add.apply(e,r)}function qv(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&r.length>0&&(e=t.classList).remove.apply(e,r)}var Yl;(function(t){t.Finished="finished",t.Cancelled="cancelled"})(Yl||(Yl={}));function h_e(t,e){var n=cf();if(!t)return n.dispose;var r=getComputedStyle(t),i=r.transitionDuration,s=r.transitionDelay,o=[i,s].map(function(c){var u=c.split(",").filter(Boolean).map(function(v){return v.includes("ms")?parseFloat(v):parseFloat(v)*1e3}).sort(function(v,g){return g-v}),d=u[0],p=d===void 0?0:d;return p}),a=o[0],l=o[1];return a!==0?n.setTimeout(function(){e(Yl.Finished)},a+l):e(Yl.Finished),n.add(function(){return e(Yl.Cancelled)}),n.dispose}function V3(t,e,n,r,i,s){var o=cf(),a=s!==void 0?d_e(s):function(){};return qv.apply(void 0,[t].concat(i)),ZE.apply(void 0,[t].concat(e,n)),o.nextFrame(function(){qv.apply(void 0,[t].concat(n)),ZE.apply(void 0,[t].concat(r)),o.add(h_e(t,function(l){return qv.apply(void 0,[t].concat(r,e)),ZE.apply(void 0,[t].concat(i)),a(l)}))}),o.add(function(){return qv.apply(void 0,[t].concat(e,n,r,i))}),o.add(function(){return a(Yl.Cancelled)}),o.dispose}function qc(t){return t===void 0&&(t=""),y.useMemo(function(){return t.split(" ").filter(function(e){return e.trim().length>1})},[t])}var Mb=y.createContext(null);Mb.displayName="TransitionContext";var Qn;(function(t){t.Visible="visible",t.Hidden="hidden"})(Qn||(Qn={}));function f_e(){var t=y.useContext(Mb);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function p_e(){var t=y.useContext(Fb);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}var Fb=y.createContext(null);Fb.displayName="NestingContext";function Bb(t){return"children"in t?Bb(t.children):t.current.filter(function(e){var n=e.state;return n===Qn.Visible}).length>0}function oz(t){var e=y.useRef(t),n=y.useRef([]),r=Jj();y.useEffect(function(){e.current=t},[t]);var i=y.useCallback(function(o,a){var l;a===void 0&&(a=Ts.Hidden);var c=n.current.findIndex(function(u){var d=u.id;return d===o});c!==-1&&(ji(a,(l={},l[Ts.Unmount]=function(){n.current.splice(c,1)},l[Ts.Hidden]=function(){n.current[c].state=Qn.Hidden},l)),!Bb(n)&&r.current&&(e.current==null||e.current()))},[e,r,n]),s=y.useCallback(function(o){var a=n.current.find(function(l){var c=l.id;return c===o});return a?a.state!==Qn.Visible&&(a.state=Qn.Visible):n.current.push({id:o,state:Qn.Visible}),function(){return i(o,Ts.Unmount)}},[n,i]);return y.useMemo(function(){return{children:n,register:s,unregister:i}},[s,i,n])}function m_e(){}var g_e=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function j3(t){for(var e={},n=Eo(g_e),r;!(r=n()).done;){var i,s=r.value;e[s]=(i=t[s])!=null?i:m_e}return e}function v_e(t){var e=y.useRef(j3(t));return y.useEffect(function(){e.current=j3(t)},[t]),e}var y_e="div",az=la.RenderStrategy;function lz(t){var e,n=t.beforeEnter,r=t.afterEnter,i=t.beforeLeave,s=t.afterLeave,o=t.enter,a=t.enterFrom,l=t.enterTo,c=t.entered,u=t.leave,d=t.leaveFrom,p=t.leaveTo,v=Ja(t,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),g=y.useRef(null),_=y.useState(Qn.Visible),R=_[0],E=_[1],b=v.unmount?Ts.Unmount:Ts.Hidden,T=f_e(),I=T.show,D=T.appear,M=T.initial,$=p_e(),C=$.register,k=$.unregister,O=al(),W=y.useRef(!1),V=oz(function(){W.current||(E(Qn.Hidden),k(O),Te.current.afterLeave())});ir(function(){if(O)return C(O)},[C,O]),ir(function(){var ue;if(b===Ts.Hidden&&O){if(I&&R!==Qn.Visible){E(Qn.Visible);return}ji(R,(ue={},ue[Qn.Hidden]=function(){return k(O)},ue[Qn.Visible]=function(){return C(O)},ue))}},[R,O,C,k,I,b]);var z=qc(o),Y=qc(a),fe=qc(l),ge=qc(c),K=qc(u),J=qc(d),Z=qc(p),Te=v_e({beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:s}),ke=Db();y.useEffect(function(){if(ke&&R===Qn.Visible&&g.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,R,ke]);var U=M&&!D;ir(function(){var ue=g.current;if(ue&&!U)return W.current=!0,I&&Te.current.beforeEnter(),I||Te.current.beforeLeave(),I?V3(ue,z,Y,fe,ge,function(le){W.current=!1,le===Yl.Finished&&Te.current.afterEnter()}):V3(ue,K,J,Z,ge,function(le){W.current=!1,le===Yl.Finished&&(Bb(V)||(E(Qn.Hidden),k(O),Te.current.afterLeave()))})},[Te,O,W,k,V,g,U,I,z,Y,fe,K,J,Z]);var ne={ref:g},te=v;return Ze.createElement(Fb.Provider,{value:V},Ze.createElement(tz,{value:ji(R,(e={},e[Qn.Visible]=Zs.Open,e[Qn.Hidden]=Zs.Closed,e))},Fs({props:$n({},te,ne),defaultTag:y_e,features:az,visible:R===Qn.Visible,name:"Transition.Child"})))}function Xl(t){var e=t.show,n=t.appear,r=n===void 0?!1:n,i=t.unmount,s=Ja(t,["show","appear","unmount"]),o=Ob();if(e===void 0&&o!==null){var a;e=ji(o,(a={},a[Zs.Open]=!0,a[Zs.Closed]=!1,a))}if(![!0,!1].includes(e))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var l=y.useState(e?Qn.Visible:Qn.Hidden),c=l[0],u=l[1],d=oz(function(){u(Qn.Hidden)}),p=u_e(),v=y.useMemo(function(){return{show:e,appear:r||!p,initial:p}},[e,r,p]);y.useEffect(function(){e?u(Qn.Visible):Bb(d)||u(Qn.Hidden)},[e,d]);var g={unmount:i};return Ze.createElement(Fb.Provider,{value:d},Ze.createElement(Mb.Provider,{value:v},Fs({props:$n({},g,{as:y.Fragment,children:Ze.createElement(lz,Object.assign({},g,s))}),defaultTag:y.Fragment,features:az,visible:c===Qn.Visible,name:"Transition"})))}Xl.Child=function(e){var n=y.useContext(Mb)!==null,r=Ob()!==null;return!n&&r?Ze.createElement(Xl,Object.assign({},e)):Ze.createElement(lz,Object.assign({},e))};Xl.Root=Xl;function w_e({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"}))}const __e=y.forwardRef(w_e),b_e=__e;function x_e({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"}))}const E_e=y.forwardRef(x_e),S_e=E_e;function T_e({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))}const C_e=y.forwardRef(T_e),$b=C_e;function I_e({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}))}const N_e=y.forwardRef(I_e),R_e=N_e,Ma=({control:t,setValue:e,value:n,selectFieldLabel:r,selectFieldName:i,labelTextSize:s="14px",labelStyling:o="",optionData:a,registerField:l,showErrorMessage:c=!0,errorInfo:u=!1,errors:d,trigger:p,required:v,setOption:g,option:_,noLabel:R=!1,height:E="40px",width:b="214px",iconSize:T="14px",placeholder:I="Select an Option",listWidth:D="120px"})=>{const[M,$]=En(Sn);return y.useEffect(()=>{e(i,_)},[]),h("div",{children:h(awe,{name:i,control:t,rules:l,render:()=>x("div",{className:"",children:[h(ns,{value:_,onChange:C=>{g(C),C&&C!==null?e(i,C):e(i,void 0),p([i])},children:({open:C})=>x("div",{className:"flex flex-col gap-[4px]",children:[h(ns.Label,{className:"block overflow-hidden text-ellipsis",children:x("div",{className:"flex flex-row",children:[x("div",{className:`w-fit block text-[${s}] text-[#182021] flex justify-start ${o} `,style:M?{color:"white"}:{},children:[R?h("span",{className:"hidden",children:"."}):r,v&&h("span",{className:"text-red-600",children:"*"})]}),x("div",{className:"ml-[4px] mt-[2px] flex flex-row gap-[5px]",children:[h("div",{children:!!u&&d!==void 0&&h(R_e,{className:`h-[${T}] w-[${T}] text-[#646464] font-bold`,"aria-hidden":"true"})}),h("div",{children:d!==void 0&&!R&&h($b,{className:`h-[${T}] w-[${T}] text-[#d76161] font-bold`,"aria-hidden":"true"})})]})]})}),x("div",{className:"relative",children:[x(ns.Button,{className:`border Grey8 px-[12px] py-[8px] flex justify-between cursor-default text-fontDark
                                             rounded-[5px] border bg-white text-[${s}]
                                             hover:outline-none hover:ring-0 
                                                ${d===void 0?"hover:border-[#00a1ff] hover:ring-[#00a1ff] hover:ring-[1px] border-gray-300 focus:border-[#00a1ff] focus:ring-[#00a1ff]":"hover:border-[#d76161] hover:ring-[#d76161] border-[#d76161] focus:border-[#d76161] focus:ring-[#d76161]"}
                                                focus:outline-none focus:ring-[1.5px]`,style:M?{width:`${b}`,height:`${E}`,backgroundColor:"black",border:"1px solid goldenrod"}:{width:`${b}`,height:`${E}`},children:[x("span",{className:"flex items-center truncate",children:[(_==null?void 0:_.title)===void 0?h("p",{className:"text-gray-400",style:M?{color:"white"}:{},children:I}):null,h("span",{className:" block truncate",style:M?{color:"white"}:{},children:_==null?void 0:_.title})]}),h("span",{className:"pointer-events-none flex items-center",children:h(S_e,{className:`h-5 w-5 ${d!==void 0?"text-[#d76161]":"text-gray-400"}`,"aria-hidden":"true"})})]}),h(Xl,{show:C,as:y.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:h(ns.Options,{className:`absolute z-10 max-h-56 overflow-auto rounded-[5px] bg-white text-[${s}] shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-base1 w-[${D}]`,children:a.map((k,O)=>h(ns.Option,{className:({active:W})=>`${W?"text-white bg-[#00a1ff]":"text-gray-900"}
                                'relative cursor-default select-none py-2 pl-3 pr-9'`,value:k,children:({selected:W,active:V})=>h(bs,{children:x("div",{className:"flex flex-row items-center",children:[x("span",{className:`${W?"font-semibold":"font-normal"}
                                      'mr-4 block truncate'`,children:[k.title," "]}),h("span",{className:`
                                      ${V?"text-white":"text-[#00a1ff]"}
                                      'absolute ml-3 inset-y-0 right-0 flex items-center'
                                    `,children:W?h(b_e,{className:"h-5 w-5","aria-hidden":"true"}):null})]})})},O))})})]})]})}),c&&d!==void 0&&h("div",{className:"flex items-center  h-[16px]",children:h("p",{className:"mt-[4px] ml-[2px] text-[12px] text-[#D86161]",id:"name-error",children:d.message})})]})})})};Ma.propTypes={control:Mt.any,setValue:Mt.any,selectFieldLabel:Mt.string,labelTextSize:Mt.string,labelStyling:Mt.string,selectFieldName:Mt.any,optionData:Mt.any,registerField:Mt.any,errors:Mt.any,errorInfo:Mt.any,showErrorMessage:Mt.bool,trigger:Mt.any,required:Mt.bool,value:Mt.any,setOption:Mt.any,option:Mt.any,height:Mt.string,width:Mt.string,placeholder:Mt.string,iconSize:Mt.string};Ma.defaultProps={labelTextSize:"14px",labelStyling:"",showErrorMessage:!0,errorInfo:!1,height:"40px",width:"214px",iconSize:"14px",placeholder:"Select an Option"};const eS=lr($t),cz=Tn(0),AA=Tn(0),uz=Tn(!1),A_e=()=>{const[t,e]=ut(cz),[n,r]=y.useState(0),[i,s]=y.useState(!0),[o,a]=ut(AA),[l,c]=ut(uz),[u,d]=En(Sn),p=localStorage.getItem("userAuthID"),v=async()=>{const _=yt(eS,"public","settings"),R=await _n(_);if(R.exists()){const E=R.data();a(E.withdrawFeePercentage)}},g=async()=>{const _=p?yt(eS,"users",p):null,R=await _n(_);console.log(R.data()),R.exists()&&(c(R.data().IDProofApprove&&R.data().addressProofApprove),console.log(l))};return y.useEffect(()=>{v(),g()},[]),y.useEffect(()=>{const _=p?yt(eS,"users",p):null;let R=null;return _&&(R=pd(_,E=>{E.exists()?(e(parseFloat(E.data().tokenBalance)),r(parseFloat(E.data().bonusBalance))):console.log("No such document!"),s(!1)})),()=>{R&&R()}},[]),p?i?h(Ms,{}):h("div",{style:u?{backgroundColor:"black"}:{},children:x("div",{className:"p-[16px] flex flex-col sm:w-[600px] mx-auto",style:u?{color:"white",backgroundColor:"black"}:{},children:[h(A0,{title:"WITHDRAW"}),h("div",{className:"flex justify-center mb-3",children:h("div",{className:"flex w-fit border px-3 py-1 bg-white rounded-xl shadow-sm",style:u?{backgroundColor:"black",border:"1px solid #F7931A"}:{},children:x("div",{className:"flex font-medium text-[16px] py-[1px] text-gray-600",children:[h("span",{className:"mr-2",style:u?{color:"white"}:{},children:(t+n)%1===0?+t+n:(t+n).toFixed(2)}),h(ro,{className:"my-1 w-[20px] h-[18px] text-yellow-500"})]})})}),h(fbe,{})]})}):h(yd,{})},Ub=Tn(!1),Vb=Tn(""),jb=Tn(""),zb=Tn("");function kA(){const[t,e]=ut(Ub),[n]=ut(Vb),[r]=ut(jb),[i]=ut(zb),[s,o]=y.useState(!1),a=y.useRef(null),[l,c]=ut(BA),{formatMessage:u}=bf();y.useEffect(()=>{function g(_){a.current&&!a.current.contains(_.target)&&e(!1)}return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[a]);function d(g){return g.replace(/[^a-zA-Z0-9]/g,"").substring(0,8)}const p=localStorage.getItem("userAuthID"),v=()=>{const g=`https://omo7-739e5.web.app/signup/${d(p)}`;navigator.clipboard.writeText(g).then(()=>{o(!s)}).catch(_=>{console.error("Failed to copy URL to clipboard: ",_)})};return h(bs,{children:h(Xl,{appear:!0,show:t,as:y.Fragment,children:h(Th,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:()=>e(!1),initialFocus:a,children:x("div",{className:"min-h-screen px-4 text-center",children:[h(Xl.Child,{as:y.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:h(Th.Overlay,{className:"fixed inset-0 bg-black bg-opacity-50"})}),h("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:""}),h(Xl.Child,{as:y.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:x("div",{className:"inline-block w-fit max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded",children:[h(Th.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:n}),h("div",{className:"mt-5",children:h("div",{className:"text-[15px] text-gray-600",children:h("div",{dangerouslySetInnerHTML:{__html:r}})})}),i==="lockStatus"?x("div",{className:"mt-5 w-full flex flex-row-reverse",children:[h(wn,{to:"/deposit",children:x("div",{type:"button",className:"bg-amber-400 cursor-pointer text-[13px] flex w-fit text-white font-bold py-2 px-3 rounded-full active:border-green-300",onClick:()=>e(!1),ref:a,children:[h("span",{className:"mr-1 ",children:"Unlock Now "}),h(yN,{className:"w-5 h-5 text-white"})]})}),h("button",{className:"text-red-400 background-transparent font-bold uppercase px-6 py-2 text-[13px] outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>e(!1),ref:a,children:"Close"})]}):i==="share"?h("div",{className:"mt-5 w-full flex justify-center",children:x("div",{className:"cursor-pointer w-fit flex bg-[#E7F1FF] px-3 py-2 font-medium rounded-full shadow-md",onClick:v,children:[h("div",{className:"text-[#3884FF] p-[1px] mr-2 text-[14px]",children:"Copy Referral Link"}),h("div",{className:"text-blue-400 underline cursor-pointer w-fit",children:s?h("i",{className:"fa fa-check"}):h("span",{children:h("i",{className:"fa fa-copy"})})})]})}):i==="verifyDoc"?x("div",{className:"mt-5 w-full flex flex flex-row-reverse",children:[h(wn,{to:"/myaccount",children:x("div",{className:"cursor-pointer w-fit flex bg-gray-200 px-3 py-2 font-medium rounded-full border",onClick:()=>c(!0),children:[h("div",{className:"text-red-400 p-[1px] mr-2 text-[13px]",children:u({id:"myAccount"})}),h("div",{className:"text-red-400 underline cursor-pointer w-fit",children:h(dB,{className:"w-5 h-5 mt-[2px]"})})]})}),h("button",{className:"text-red-400 background-transparent font-semibold uppercase px-6 py-2 text-[13px] outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>e(!1),ref:a,children:"Close"})]}):null]})})]})})})})}function dz(t,e){return function(){return t.apply(e,arguments)}}const{toString:k_e}=Object.prototype,{getPrototypeOf:PA}=Object,Hb=(t=>e=>{const n=k_e.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wa=t=>(t=t.toLowerCase(),e=>Hb(e)===t),Wb=t=>e=>typeof e===t,{isArray:Wf}=Array,Ng=Wb("undefined");function P_e(t){return t!==null&&!Ng(t)&&t.constructor!==null&&!Ng(t.constructor)&&eo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const hz=wa("ArrayBuffer");function D_e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&hz(t.buffer),e}const L_e=Wb("string"),eo=Wb("function"),fz=Wb("number"),Gb=t=>t!==null&&typeof t=="object",O_e=t=>t===!0||t===!1,Py=t=>{if(Hb(t)!=="object")return!1;const e=PA(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},M_e=wa("Date"),F_e=wa("File"),B_e=wa("Blob"),$_e=wa("FileList"),U_e=t=>Gb(t)&&eo(t.pipe),V_e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||eo(t.append)&&((e=Hb(t))==="formdata"||e==="object"&&eo(t.toString)&&t.toString()==="[object FormData]"))},j_e=wa("URLSearchParams"),z_e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function L0(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Wf(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function pz(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const mz=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),gz=t=>!Ng(t)&&t!==mz;function oI(){const{caseless:t}=gz(this)&&this||{},e={},n=(r,i)=>{const s=t&&pz(e,i)||i;Py(e[s])&&Py(r)?e[s]=oI(e[s],r):Py(r)?e[s]=oI({},r):Wf(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&L0(arguments[r],n);return e}const H_e=(t,e,n,{allOwnKeys:r}={})=>(L0(e,(i,s)=>{n&&eo(i)?t[s]=dz(i,n):t[s]=i},{allOwnKeys:r}),t),W_e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),G_e=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},q_e=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&PA(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},K_e=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Q_e=t=>{if(!t)return null;if(Wf(t))return t;let e=t.length;if(!fz(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Y_e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&PA(Uint8Array)),X_e=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},J_e=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Z_e=wa("HTMLFormElement"),e1e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),z3=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),t1e=wa("RegExp"),vz=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};L0(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},n1e=t=>{vz(t,(e,n)=>{if(eo(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(eo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},r1e=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Wf(t)?r(t):r(String(t).split(e)),n},i1e=()=>{},s1e=(t,e)=>(t=+t,Number.isFinite(t)?t:e),tS="abcdefghijklmnopqrstuvwxyz",H3="0123456789",yz={DIGIT:H3,ALPHA:tS,ALPHA_DIGIT:tS+tS.toUpperCase()+H3},o1e=(t=16,e=yz.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function a1e(t){return!!(t&&eo(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const l1e=t=>{const e=new Array(10),n=(r,i)=>{if(Gb(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Wf(r)?[]:{};return L0(r,(o,a)=>{const l=n(o,i+1);!Ng(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},c1e=wa("AsyncFunction"),u1e=t=>t&&(Gb(t)||eo(t))&&eo(t.then)&&eo(t.catch),ye={isArray:Wf,isArrayBuffer:hz,isBuffer:P_e,isFormData:V_e,isArrayBufferView:D_e,isString:L_e,isNumber:fz,isBoolean:O_e,isObject:Gb,isPlainObject:Py,isUndefined:Ng,isDate:M_e,isFile:F_e,isBlob:B_e,isRegExp:t1e,isFunction:eo,isStream:U_e,isURLSearchParams:j_e,isTypedArray:Y_e,isFileList:$_e,forEach:L0,merge:oI,extend:H_e,trim:z_e,stripBOM:W_e,inherits:G_e,toFlatObject:q_e,kindOf:Hb,kindOfTest:wa,endsWith:K_e,toArray:Q_e,forEachEntry:X_e,matchAll:J_e,isHTMLForm:Z_e,hasOwnProperty:z3,hasOwnProp:z3,reduceDescriptors:vz,freezeMethods:n1e,toObjectSet:r1e,toCamelCase:e1e,noop:i1e,toFiniteNumber:s1e,findKey:pz,global:mz,isContextDefined:gz,ALPHABET:yz,generateString:o1e,isSpecCompliantForm:a1e,toJSONObject:l1e,isAsyncFn:c1e,isThenable:u1e};function rn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ye.inherits(rn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const wz=rn.prototype,_z={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_z[t]={value:t}});Object.defineProperties(rn,_z);Object.defineProperty(wz,"isAxiosError",{value:!0});rn.from=(t,e,n,r,i,s)=>{const o=Object.create(wz);return ye.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),rn.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const d1e=null;function aI(t){return ye.isPlainObject(t)||ye.isArray(t)}function bz(t){return ye.endsWith(t,"[]")?t.slice(0,-2):t}function W3(t,e,n){return t?t.concat(e).map(function(i,s){return i=bz(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function h1e(t){return ye.isArray(t)&&!t.some(aI)}const f1e=ye.toFlatObject(ye,{},null,function(e){return/^is[A-Z]/.test(e)});function qb(t,e,n){if(!ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,R){return!ye.isUndefined(R[_])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(ye.isDate(g))return g.toISOString();if(!l&&ye.isBlob(g))throw new rn("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(g)||ye.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,_,R){let E=g;if(g&&!R&&typeof g=="object"){if(ye.endsWith(_,"{}"))_=r?_:_.slice(0,-2),g=JSON.stringify(g);else if(ye.isArray(g)&&h1e(g)||(ye.isFileList(g)||ye.endsWith(_,"[]"))&&(E=ye.toArray(g)))return _=bz(_),E.forEach(function(T,I){!(ye.isUndefined(T)||T===null)&&e.append(o===!0?W3([_],I,s):o===null?_:_+"[]",c(T))}),!1}return aI(g)?!0:(e.append(W3(R,_,s),c(g)),!1)}const d=[],p=Object.assign(f1e,{defaultVisitor:u,convertValue:c,isVisitable:aI});function v(g,_){if(!ye.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+_.join("."));d.push(g),ye.forEach(g,function(E,b){(!(ye.isUndefined(E)||E===null)&&i.call(e,E,ye.isString(b)?b.trim():b,_,p))===!0&&v(E,_?_.concat(b):[b])}),d.pop()}}if(!ye.isObject(t))throw new TypeError("data must be an object");return v(t),e}function G3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function DA(t,e){this._pairs=[],t&&qb(t,this,e)}const xz=DA.prototype;xz.append=function(e,n){this._pairs.push([e,n])};xz.toString=function(e){const n=e?function(r){return e.call(this,r,G3)}:G3;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function p1e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ez(t,e,n){if(!e)return t;const r=n&&n.encode||p1e,i=n&&n.serialize;let s;if(i?s=i(e,n):s=ye.isURLSearchParams(e)?e.toString():new DA(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class m1e{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ye.forEach(this.handlers,function(r){r!==null&&e(r)})}}const q3=m1e,Sz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g1e=typeof URLSearchParams<"u"?URLSearchParams:DA,v1e=typeof FormData<"u"?FormData:null,y1e=typeof Blob<"u"?Blob:null,w1e=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),_1e=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),So={isBrowser:!0,classes:{URLSearchParams:g1e,FormData:v1e,Blob:y1e},isStandardBrowserEnv:w1e,isStandardBrowserWebWorkerEnv:_1e,protocols:["http","https","file","blob","url","data"]};function b1e(t,e){return qb(t,new So.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return So.isNode&&ye.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function x1e(t){return ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function E1e(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Tz(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&ye.isArray(i)?i.length:o,l?(ye.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!ye.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&ye.isArray(i[o])&&(i[o]=E1e(i[o])),!a)}if(ye.isFormData(t)&&ye.isFunction(t.entries)){const n={};return ye.forEachEntry(t,(r,i)=>{e(x1e(r),i,n,0)}),n}return null}function S1e(t,e,n){if(ye.isString(t))try{return(e||JSON.parse)(t),ye.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const LA={transitional:Sz,adapter:So.isNode?"http":"xhr",transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ye.isObject(e);if(s&&ye.isHTMLForm(e)&&(e=new FormData(e)),ye.isFormData(e))return i&&i?JSON.stringify(Tz(e)):e;if(ye.isArrayBuffer(e)||ye.isBuffer(e)||ye.isStream(e)||ye.isFile(e)||ye.isBlob(e))return e;if(ye.isArrayBufferView(e))return e.buffer;if(ye.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return b1e(e,this.formSerializer).toString();if((a=ye.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qb(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),S1e(e)):e}],transformResponse:[function(e){const n=this.transitional||LA.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&ye.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?rn.from(a,rn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:So.classes.FormData,Blob:So.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],t=>{LA.headers[t]={}});const OA=LA,T1e=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),C1e=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&T1e[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},K3=Symbol("internals");function Dp(t){return t&&String(t).trim().toLowerCase()}function Dy(t){return t===!1||t==null?t:ye.isArray(t)?t.map(Dy):String(t)}function I1e(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const N1e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nS(t,e,n,r,i){if(ye.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ye.isString(e)){if(ye.isString(r))return e.indexOf(r)!==-1;if(ye.isRegExp(r))return r.test(e)}}function R1e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function A1e(t,e){const n=ye.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Kb{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=Dp(l);if(!u)throw new Error("header name must be a non-empty string");const d=ye.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Dy(a))}const o=(a,l)=>ye.forEach(a,(c,u)=>s(c,u,l));return ye.isPlainObject(e)||e instanceof this.constructor?o(e,n):ye.isString(e)&&(e=e.trim())&&!N1e(e)?o(C1e(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Dp(e),e){const r=ye.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return I1e(i);if(ye.isFunction(n))return n.call(this,i,r);if(ye.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Dp(e),e){const r=ye.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||nS(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Dp(o),o){const a=ye.findKey(r,o);a&&(!n||nS(r,r[a],a,n))&&(delete r[a],i=!0)}}return ye.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||nS(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ye.forEach(this,(i,s)=>{const o=ye.findKey(r,s);if(o){n[o]=Dy(i),delete n[s];return}const a=e?R1e(s):String(s).trim();a!==s&&delete n[s],n[a]=Dy(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ye.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ye.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[K3]=this[K3]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Dp(o);r[a]||(A1e(i,o),r[a]=!0)}return ye.isArray(e)?e.forEach(s):s(e),this}}Kb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(Kb.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ye.freezeMethods(Kb);const ja=Kb;function rS(t,e){const n=this||OA,r=e||n,i=ja.from(r.headers);let s=r.data;return ye.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Cz(t){return!!(t&&t.__CANCEL__)}function O0(t,e,n){rn.call(this,t??"canceled",rn.ERR_CANCELED,e,n),this.name="CanceledError"}ye.inherits(O0,rn,{__CANCEL__:!0});function k1e(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new rn("Request failed with status code "+n.status,[rn.ERR_BAD_REQUEST,rn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const P1e=So.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),ye.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),ye.isString(s)&&l.push("path="+s),ye.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function D1e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function L1e(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Iz(t,e){return t&&!D1e(e)?L1e(t,e):e}const O1e=So.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=ye.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function M1e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function F1e(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,p=0;for(;d!==i;)p+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const v=u&&c-u;return v?Math.round(p*1e3/v):void 0}}function Q3(t,e){let n=0;const r=F1e(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),c=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const B1e=typeof XMLHttpRequest<"u",$1e=B1e&&function(t){return new Promise(function(n,r){let i=t.data;const s=ja.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}ye.isFormData(i)&&(So.isStandardBrowserEnv||So.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+g))}const u=Iz(t.baseURL,t.url);c.open(t.method.toUpperCase(),Ez(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!c)return;const v=ja.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:v,config:t,request:c};k1e(function(E){n(E),l()},function(E){r(E),l()},_),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(r(new rn("Request aborted",rn.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new rn("Network Error",rn.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||Sz;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),r(new rn(g,_.clarifyTimeoutError?rn.ETIMEDOUT:rn.ECONNABORTED,t,c)),c=null},So.isStandardBrowserEnv){const v=(t.withCredentials||O1e(u))&&t.xsrfCookieName&&P1e.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&ye.forEach(s.toJSON(),function(g,_){c.setRequestHeader(_,g)}),ye.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",Q3(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Q3(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=v=>{c&&(r(!v||v.type?new O0(null,t,c):v),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const p=M1e(u);if(p&&So.protocols.indexOf(p)===-1){r(new rn("Unsupported protocol "+p+":",rn.ERR_BAD_REQUEST,t));return}c.send(i||null)})},Ly={http:d1e,xhr:$1e};ye.forEach(Ly,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Nz={getAdapter:t=>{t=ye.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=ye.isString(n)?Ly[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new rn(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ye.hasOwnProp(Ly,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!ye.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Ly};function iS(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new O0(null,t)}function Y3(t){return iS(t),t.headers=ja.from(t.headers),t.data=rS.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Nz.getAdapter(t.adapter||OA.adapter)(t).then(function(r){return iS(t),r.data=rS.call(t,t.transformResponse,r),r.headers=ja.from(r.headers),r},function(r){return Cz(r)||(iS(t),r&&r.response&&(r.response.data=rS.call(t,t.transformResponse,r.response),r.response.headers=ja.from(r.response.headers))),Promise.reject(r)})}const X3=t=>t instanceof ja?t.toJSON():t;function uf(t,e){e=e||{};const n={};function r(c,u,d){return ye.isPlainObject(c)&&ye.isPlainObject(u)?ye.merge.call({caseless:d},c,u):ye.isPlainObject(u)?ye.merge({},u):ye.isArray(u)?u.slice():u}function i(c,u,d){if(ye.isUndefined(u)){if(!ye.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function s(c,u){if(!ye.isUndefined(u))return r(void 0,u)}function o(c,u){if(ye.isUndefined(u)){if(!ye.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>i(X3(c),X3(u),!0)};return ye.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,p=d(t[u],e[u],u);ye.isUndefined(p)&&d!==a||(n[u]=p)}),n}const Rz="1.5.0",MA={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{MA[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const J3={};MA.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Rz+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new rn(i(o," has been removed"+(n?" in "+n:"")),rn.ERR_DEPRECATED);return n&&!J3[o]&&(J3[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function U1e(t,e,n){if(typeof t!="object")throw new rn("options must be an object",rn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new rn("option "+s+" must be "+l,rn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new rn("Unknown option "+s,rn.ERR_BAD_OPTION)}}const lI={assertOptions:U1e,validators:MA},vl=lI.validators;class p_{constructor(e){this.defaults=e,this.interceptors={request:new q3,response:new q3}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=uf(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&lI.assertOptions(r,{silentJSONParsing:vl.transitional(vl.boolean),forcedJSONParsing:vl.transitional(vl.boolean),clarifyTimeoutError:vl.transitional(vl.boolean)},!1),i!=null&&(ye.isFunction(i)?n.paramsSerializer={serialize:i}:lI.assertOptions(i,{encode:vl.function,serialize:vl.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ye.merge(s.common,s[n.method]);s&&ye.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=ja.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const c=[];this.interceptors.response.forEach(function(_){c.push(_.fulfilled,_.rejected)});let u,d=0,p;if(!l){const g=[Y3.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),p=g.length,u=Promise.resolve(n);d<p;)u=u.then(g[d++],g[d++]);return u}p=a.length;let v=n;for(d=0;d<p;){const g=a[d++],_=a[d++];try{v=g(v)}catch(R){_.call(this,R);break}}try{u=Y3.call(this,v)}catch(g){return Promise.reject(g)}for(d=0,p=c.length;d<p;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=uf(this.defaults,e);const n=Iz(e.baseURL,e.url);return Ez(n,e.params,e.paramsSerializer)}}ye.forEach(["delete","get","head","options"],function(e){p_.prototype[e]=function(n,r){return this.request(uf(r||{},{method:e,url:n,data:(r||{}).data}))}});ye.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(uf(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}p_.prototype[e]=n(),p_.prototype[e+"Form"]=n(!0)});const Oy=p_;class FA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new O0(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new FA(function(i){e=i}),cancel:e}}}const V1e=FA;function j1e(t){return function(n){return t.apply(null,n)}}function z1e(t){return ye.isObject(t)&&t.isAxiosError===!0}const cI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cI).forEach(([t,e])=>{cI[e]=t});const H1e=cI;function Az(t){const e=new Oy(t),n=dz(Oy.prototype.request,e);return ye.extend(n,Oy.prototype,e,{allOwnKeys:!0}),ye.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Az(uf(t,i))},n}const Pr=Az(OA);Pr.Axios=Oy;Pr.CanceledError=O0;Pr.CancelToken=V1e;Pr.isCancel=Cz;Pr.VERSION=Rz;Pr.toFormData=qb;Pr.AxiosError=rn;Pr.Cancel=Pr.CanceledError;Pr.all=function(e){return Promise.all(e)};Pr.spread=j1e;Pr.isAxiosError=z1e;Pr.mergeConfig=uf;Pr.AxiosHeaders=ja;Pr.formToJSON=t=>Tz(ye.isHTMLForm(t)?new FormData(t):t);Pr.getAdapter=Nz.getAdapter;Pr.HttpStatusCode=H1e;Pr.default=Pr;const W1e=Pr,Xu=W1e.create({baseURL:"https://us-central1-omo-v1.cloudfunctions.net/omoAPI/"}),BA=Tn(!1),G1e=localStorage.getItem("userAuthID"),q1e=()=>{const[t,e]=ut(cz),[n,r]=y.useState(""),[i,s]=y.useState(""),[o,a]=y.useState(!1),[l,c]=y.useState(!1),[u]=ut(AA),[d,p]=ut(uz),[v,g]=ut(Ub),[_,R]=ut(Vb),[E,b]=ut(jb),[T,I]=ut(zb),[D,M]=ut(BA),[$,C]=y.useState(),[k,O]=En(Sn);console.log({address:n,amount:i});const W=async()=>{console.log(t),Xu.get("/getEuro").then(fe=>C(fe.data.euroAmount)).catch(fe=>console.error(fe))};return console.log($),y.useEffect(()=>{W()},[]),x("div",{className:"py-4 px-4",style:{paddingBottom:"5rem"},children:[x("div",{className:"mb-4",children:[x("div",{className:"font-medium text-gray-700 text-[15px] mb-2 flex",style:k?{color:"white"}:{},children:[h(ro,{className:"w-5 h-5 mr-[8px] mt-[1px] text-yellow-500"}),"BTC Address ",h("span",{className:"text-red-400",children:"*"})," "]}),h("input",{style:k?{border:"1px solid #F7931A",backgroundColor:"black",color:"white"}:{},value:n,type:"text",placeholder:"Enter BTC address",className:"block text-md h-[36px] w-full px-2 py-1 text-gray-900 border border-[#E2E8F0] rounded-md bg-gray-50 focus:ring-blue-500 focus:border-blue-500 bg-[#E2E8F0]",onChange:fe=>r(fe.target.value)}),o&&x("div",{className:"flex mt-[4px]",children:[h(r5,{className:"w-4 text-red-400 mr-1"}),h("div",{className:"text-sm font-medium text-red-400",children:"Enter valid BTC address"})]})]}),x("div",{className:"mb-7",children:[x("div",{className:"flex justify-between",children:[x("div",{className:"font-medium text-gray-700 text-[15px] mb-2 flex",style:k?{color:"white"}:{},children:["Amount ",h("span",{className:"text-red-400",children:"*"})," "]}),x("div",{className:"text-sm font-medium",children:["",$]})]}),x("div",{className:"flex",children:[h("input",{style:k?{border:"1px solid #F7931A",backgroundColor:"black",color:"white"}:{},type:"number",value:i,placeholder:"Enter amount",className:"block h-[36px] w-full px-2 py-1 text-gray-900 border border-[#E2E8F0] rounded-l-md bg-gray-50 text-md focus:ring-blue-500 focus:border-blue-500 bg-[#E2E8F0]",onChange:fe=>s(fe.target.value)}),h("div",{className:"border px-4 py-1 rounded-r-md cursor-pointer bg-gray-400 text-white font-semibold",onClick:()=>{s(t)},style:k?{backgroundColor:"#4E4E4E",border:"1px solid #F7931A",color:"white"}:{},children:"Max"})]}),l&&x("div",{className:"flex mt-[4px]",children:[h(r5,{className:"w-4 text-red-400 mr-1"}),h("div",{className:"text-sm font-medium text-red-400",children:"The minimum value is 5"})]})]}),h("div",{className:"w-full cursor-pointer mb-3",onClick:async()=>{if(!d)console.log(d),console.log("withdraw"),g(!0),R("Verify Documents"),b("Please verify your documents before proceeding with the withdrawal process. Thank you."),I("verifyDoc"),M(!0);else try{const fe=await Xu.post("https://us-central1-omo-v1.cloudfunctions.net/omoAPI/withdraw",{id:G1e,address:n,amount:i});console.log({tx:fe.data.tx}),g(!0),R("Withdraw Success"),b("Bitcoin withdrawal successful."),I("success"),M(!0)}catch(fe){console.log({error:fe}),g(!0),R("Withdraw Error"),b("Failed to withdraw Bitcoin."),I("error"),M(!0)}},style:{display:"flex",alignItems:"center",justifyContent:"center"},children:h("div",{className:"border text-center py-4 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600",style:k?{border:"1.5px solid #0FBE00",boxShadow:"0px 1px 1px 0px rgba(15, 190, 0, 0.50)",background:"linear-gradient(180deg, rgba(15, 190, 0, 0.50) 27.27%, rgba(15, 190, 0, 0.00) 145.45%)",width:"55%"}:{},children:"Withdraw"})}),x("div",{className:"text-[14px] mb-5",children:["Your withdrawal will have ",u,"% substracted from your remaining balance to cover the platform and gas fees required to process the transaction.",x("span",{className:"flex",children:["Minimum withdrawal is 0.00020000"," ",h(ro,{className:"mx-1 mt-[3px] w-4 h-4 text-yellow-500"})]})]}),h(kA,{}),x("div",{className:"mb-11",style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[h("div",{className:"text-center mb-2 text-[15px]",children:"Improve your account security with Two-factor Authentication"}),h("div",{className:"flex justify-center ",children:h("div",{className:"border px-5 py-2 bg-blue-500 rounded-lg text-white font-semibold cursor-pointer",onClick:()=>{},children:"Enable 2FA"})})]})]})};function K1e({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 9l-3 3m0 0l3 3m-3-3h7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const Q1e=y.forwardRef(K1e),kz=Q1e;function Y1e({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"}))}const X1e=y.forwardRef(Y1e),J1e=X1e;function Z1e({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z"}))}const ebe=y.forwardRef(Z1e),tbe=ebe;function nbe({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"}))}const rbe=y.forwardRef(nbe),ibe=rbe;function sbe({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}))}const obe=y.forwardRef(sbe),abe=obe,lbe=lr($t),cbe=()=>{const[t,e]=y.useState(""),[n,r]=ut(AA),[i,s]=y.useState(0),[o,a]=y.useState(0),[l,c]=y.useState(0),[u,d]=y.useState(!1),[p,v]=y.useState(!1),[g,_]=y.useState(!1),[R,E]=y.useState(""),[b,T]=y.useState(!1),[I,D]=En(Sn),M=localStorage.getItem("userAuthID"),$=M?yt(lbe,"users",M):null,C=async()=>{d(!0);try{const V=await _n($);c(V.data().tokenBalance),a(V.data().tokenBalance)}catch(V){console.log(V,"No doc exist!")}d(!1)};y.useEffect(()=>{M&&C()},[]);const k=V=>{isNaN(V)?(T(!0),E("Please enter numeric value"),_(!0)):(e(V),(l-(+V+ +V*n/100)).toFixed(2)>=0?(a((l-(+V+ +V*n/100)).toFixed(2)),_(!1),s(V*n/100)):(s(0),a(l),E("Please enter valid withdraw value"),_(!0)))};return h("div",{style:{paddingBottom:"11rem"},children:x("div",{children:[x("div",{className:"flex flex-col px-4 py-4",children:[x("div",{className:"flex justify-between pb-[40px]",children:[h("div",{children:"Withdrawable amount"}),x("div",{children:[" ",l]})]}),x("div",{className:"flex justify-between pb-[40px]",children:[x("div",{className:"",children:[h("span",{children:"Withdraw Amount"}),x("div",{className:"flex",children:[h(Ki,{width:"14px",height:"14px",fill:"gray",className:"mt-[4px] mr-[6px]"}),h("span",{className:"text-[14px] text-gray-600",children:"Minimum 5"})]})]}),x("div",{className:"flex mt-[5px]",children:[h("span",{className:"mt-[2px] mr-[10px]",children:""}),h("input",{style:I?{border:"1px solid #F7931A",backgroundColor:"black"}:{},placeholder:"",value:t,onChange:V=>k(V.target.value),className:" text-center h-[35px] px-[8px] w-[66px] border border-gray-400 rounded-l-[5px] focus:ring-blue-500 focus:border-blue-500 focus:outline-none focus:ring-[1px]"}),h("div",{className:"px-2 py-1 h-[35px] rounded-r-md bg-gray-400 cursor-pointer font-semibold text-white",onClick:()=>{e(+l-n/100*l),s(+(n/100)*l),a(+l-n/100*+l)},style:I?{border:"1px solid #F7931A"}:{},children:"Max"})]})]}),x("div",{className:"flex justify-between text-red-600 pb-[40px]",children:[x("div",{className:"",children:["- Platform Free (",n,"%)"]}),x("div",{children:["  ",i," "]})]}),x("div",{className:"flex justify-between pb-[40px]",children:[h("div",{children:"Remaining Balance"}),x("div",{children:["",o]})]})]}),h("div",{className:"w-full flex justify-center pb-[40px]",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:h("button",{className:"w-[40%] bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full",onClick:async()=>{if(v(!0),t<5)T(!0),E("Withdraw amount should be at least 5");else if(o<0)T(!0),a(l),E("Withdraw not possible");else{T(!1);const V=yt(Vi($,"transactions"));await ct($,{tokenBalance:o}),await fa(V,{amount:t,type:"withdraw",time:fg()}),c(o),E("Withdraw transaction successfull!")}e(""),s(0),_(!0),v(!1)},style:I?{border:"1.5px solid #0FBE00",boxShadow:"0px 1px 1px 0px rgba(15, 190, 0, 0.50)",background:"linear-gradient(180deg, rgba(15, 190, 0, 0.50) 27.27%, rgba(15, 190, 0, 0.00) 145.45%)",width:"55%"}:{},children:p?h("span",{children:"Loading..."}):h("span",{children:"WITHDRAW"})})}),g&&x("div",{className:" flex justify-center mb-[10px]",children:[b?h(u7,{width:"20px",height:"20px",className:"mt-[2px] mr-[6px] text-red-500"}):h(tbe,{width:"18px",height:"18px",className:"mt-[2px] mr-[6px] text-red-500"}),h("span",{className:"text-red-500 text-[14px] font-semibold",children:R})]})]})})},ube=rl($t),dbe=lr($t),hbe=[{label:x("div",{className:"flex justify-center text-[15px]",children:["BITCOIN ",h(ro,{className:"w-4 h-4 ml-2 mt-1"})," "]})},{label:x("div",{className:"flex justify-center text-[15px]",children:["STRIPE ",h(cB,{className:"w-4 h-4 ml-3 mt-1"})," "]})}],Pz=Tn(!1);function fbe(){const[t,e]=wd(ube),[n,r]=y.useState(0),[i,s]=y.useState(0),[o,a]=y.useState(0),[l,c]=ut(Pz),u=y.useRef([]),[d,p]=En(Sn),v=async()=>{const g=yt(dbe,"users",t.uid),_=await _n(g);_.exists()&&(_.data().hasVerifiedStep1===void 0?c(!1):c(_.data().hasVerifiedStep1))};return y.useEffect(()=>{function g(){const _=u.current[n];a((_==null?void 0:_.offsetLeft)??0),s((_==null?void 0:_.clientWidth)??0)}return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[n]),y.useEffect(()=>{t&&v()},[t,l]),x("div",{children:[x("div",{className:"relative",children:[h("div",{className:"flex space-x-3 border-b ",children:hbe.map((g,_)=>h("button",{ref:R=>u.current[_]=R,className:"pt-2 pb-3 w-[50%]",onClick:()=>r(_),children:h("span",{className:`font-semibold ${n===_?"text-red-400":"text-gray-500"}`,style:d?{color:"goldenrod"}:{},children:g.label})},_))}),h("span",{className:"absolute bottom-0 block h-1 bg-red-400 transition-all duration-300",style:d?{left:o,width:i,border:"2px solid goldenrod"}:{left:o,width:i}})]}),h("div",{className:"py-4",children:l?n===0?h(q1e,{}):h(cbe,{}):h(Dz,{})})]})}const Z3=lr($t),pbe=rl($t),Dz=()=>{const[t,e]=wd(pbe),[n,r]=y.useState(""),[i,s]=y.useState(""),[o,a]=y.useState({}),[l,c]=y.useState({}),[u,d]=y.useState({}),[p,v]=y.useState(""),[g,_]=y.useState(""),[R,E]=y.useState(""),[b,T]=y.useState(""),[I,D]=y.useState(""),[M,$]=ut(Jz),[C,k]=ut(HA),[O,W]=ut(Pz),[V,z]=y.useState(!1),[Y,fe]=En(Sn),{fields:ge,trigger:K,control:J,formState:{errors:Z},handleSubmit:Te,setValue:ke}=wwe(),U=async ue=>{z(!0),z(!0);try{console.log(t.id);const le=yt(Z3,"users",t.uid);await ct(le,ue),console.log("Object saved successfully!"),z(!1),$(!0),W(!0),Xu.post("/createWallet",{uid:t.uid}).then(Oe=>{console.log("Response:",Oe.data),k(Oe.data.address),console.log(C)}).catch(Oe=>{console.error("Error:",Oe)})}catch(le){console.error("Error saving object: ",le)}},ne=ue=>{const le={hasVerifiedStep1:!0,bonusBalance:Rr(10),firstName:ue.firstName,lastName:ue.lastName,dob:o.title+" "+l.title+" "+u.title,country:ue.country.title,residentialAddress:ue.residentialAddress,city:ue.city,postalCode:ue.postalCode,occupation:ue.occupation};console.log(le),U(le)},te=async()=>{const ue=yt(Z3,"users",t.uid),le=await _n(ue);if(le.exists()){const Oe=le.data().dob.split(" ");a({id:101,title:Oe[0]}),c({id:101,title:Oe[1]}),d({id:101,title:Oe[2]})}};return y.useEffect(()=>{t&&te()},[t]),e?h(Ms,{}):x("div",{className:"px-2",children:[h("div",{className:"font-semibold text-[21px]",style:Y?{color:"white"}:{},children:"Verification"}),h("div",{className:"text-[14px]",style:Y?{color:"white"}:{},children:"Please verify your details once and earn 10 bonus. In the event your details change, level 1 verification can be updated at a later date."}),h("div",{className:"my-5",children:h("hr",{className:"h-[2px] bg-gray-200 border-0"})}),x("form",{onSubmit:Te(ne),children:[x("div",{className:"flex w-full justify-between mb-5",children:[h("div",{className:"w-[50%] mr-4",children:h(es,{name:"firstName",labelText:"First Name",labelTextSize:"14px",marginLabelField:"4px",labelStyling:Y?"font-[500] text-white-500":"font-[500] text-gray-500",isRequired:!0,placeholderText:"ex. John",height:"36px",width:"100%",setValue:ke,validation:{...ge.firstName},errors:Z.firstName,trigger:K,onChangeTrigger:!0,inputState:n,setInputState:r})}),h("div",{className:"w-[50%]",children:h(es,{name:"lastName",labelText:"Last Name",labelTextSize:"14px",marginLabelField:"4px",labelStyling:"font-[500] text-gray-500",isRequired:!0,placeholderText:"ex. Doe",height:"36px",width:"100%",setValue:ke,validation:{...ge.lastName},errors:Z.lastName,trigger:K,onChangeTrigger:!0,inputState:i,setInputState:s})})]}),x("div",{className:" mb-5",children:[x("div",{className:"text-[14px] font-[500] text-[#182021] flex",style:Y?{color:"white"}:{},children:["Date of birth",h("span",{className:"text-red-600",children:"*"}),(Z.dobDate||Z.dobMonth||Z.dobYear)&&h($b,{className:"h-[14px] w-[14px] text-[#d76161] font-bold mt-1 ml-1","aria-hidden":"true"})]}),x("div",{className:"flex w-full justify-between",children:[h("div",{className:"w-[33%] mr-4",children:h(Ma,{required:!1,height:"36px",width:"100%",labelStyling:"font-[500]",control:J,setValue:ke,optionData:qj,errors:Z.dobDate,option:o,setOption:a,selectFieldName:"dobDate",selectFieldLabel:"Date of Birth",isRequired:!1,placeholder:"Day",trigger:K,noLabel:!0})}),h("div",{className:"w-[33%] mr-4",children:h(Ma,{required:!1,height:"36px",width:"100%",labelStyling:"font-[500]",control:J,setValue:ke,optionData:Gj,errors:Z.dobMonth,option:l,noLabel:!0,setOption:c,selectFieldName:"dobMonth",selectFieldLabel:"Month of birth",placeholder:"Month",trigger:K})}),h("div",{className:"w-[33%]",children:h(Ma,{required:!1,height:"36px",width:"100%",labelStyling:"font-[500]",control:J,setValue:ke,optionData:TA,errors:Z.dobYear,option:u,noLabel:!0,setOption:d,selectFieldName:"dobYear",selectFieldLabel:"Year of birth",placeholder:"Year",trigger:K})})]})]}),h("div",{className:"flex w-full justify-between mb-5",children:h("div",{className:"w-[100%]",children:h(Ma,{required:!0,height:"36px",width:"100%",labelStyling:"font-[500] text-fontDark",control:J,setValue:ke,optionData:Kj,errors:Z.country,option:p,setOption:v,selectFieldName:"country",selectFieldLabel:"Country",isRequired:!0,placeholder:"ex. United States",trigger:K,listWidth:"300px"})})}),h("div",{className:"flex w-full justify-between mb-5",children:h("div",{className:"w-[100%]",children:h(es,{name:"residentialAddress",labelText:"Residential Address",labelTextSize:"14px",marginLabelField:"4px",labelStyling:"font-[500] text-gray-500",isRequired:!0,placeholderText:"ex. house, street, town, or neighborhood",height:"36px",width:"100%",setValue:ke,validation:{...ge.residentialAddress},errors:Z.residentialAddress,trigger:K,onChangeTrigger:!0,inputState:g,setInputState:_})})}),x("div",{className:"flex w-full justify-between mb-5",children:[h("div",{className:"w-[50%] mr-4",children:h(es,{name:"city",labelText:"City",labelTextSize:"14px",marginLabelField:"4px",labelStyling:"font-[500] text-gray-500",isRequired:!0,placeholderText:"ex. New York",height:"36px",width:"100%",setValue:ke,validation:{...ge.city},errors:Z.city,trigger:K,onChangeTrigger:!0,inputState:R,setInputState:E})}),h("div",{className:"w-[50%]",children:h(es,{name:"postalCode",labelText:"Postal Code",labelTextSize:"14px",marginLabelField:"4px",labelStyling:"font-[500] text-gray-500",isRequired:!0,placeholderText:"ex. 6042",height:"36px",width:"100%",setValue:ke,validation:{...ge.postalCode},errors:Z.postalCode,trigger:K,onChangeTrigger:!0,inputState:b,setInputState:T})})]}),h("div",{className:"flex w-full justify-between mb-5",children:h("div",{className:"w-[100%]",children:h(es,{name:"occupation",labelText:"Occupation (Your job/work)",labelTextSize:"14px",marginLabelField:"4px",labelStyling:"font-[500] text-gray-500",isRequired:!0,placeholderText:"ex. Software Engineer",height:"36px",width:"100%",setValue:ke,validation:{...ge.occupation},errors:Z.occupation,trigger:K,onChangeTrigger:!0,inputState:I,setInputState:D})})}),h("div",{className:"flex flex-row-reverse mb-[60px]",children:h("button",{type:"submit",className:"border px-4 py-2 bg-green-500 rounded-md font-semibold text-white text-[15px]",children:V?"Loading...":"Continue"})})]})]})};var M0={},mbe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Lz={},Bs={};let $A;const gbe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Bs.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Bs.getSymbolTotalCodewords=function(e){return gbe[e]};Bs.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Bs.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');$A=e};Bs.isKanjiModeEnabled=function(){return typeof $A<"u"};Bs.toSJIS=function(e){return $A(e)};var Qb={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Qb);function Oz(){this.buffer=[],this.length=0}Oz.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var vbe=Oz;function F0(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}F0.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};F0.prototype.get=function(t,e){return this.data[t*this.size+e]};F0.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};F0.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var ybe=F0,Mz={};(function(t){const e=Bs.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(Mz);var Fz={};const wbe=Bs.getSymbolSize,eM=7;Fz.getPositions=function(e){const n=wbe(e);return[[0,0],[n-eM,0],[0,n-eM]]};var Bz={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let d=0;d<s;d++){a=l=0,c=u=null;for(let p=0;p<s;p++){let v=i.get(d,p);v===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=v,a=1),v=i.get(p,d),v===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=v,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(Bz);var Yb={};const Ml=Qb,Kv=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Qv=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Yb.getBlocksCount=function(e,n){switch(n){case Ml.L:return Kv[(e-1)*4+0];case Ml.M:return Kv[(e-1)*4+1];case Ml.Q:return Kv[(e-1)*4+2];case Ml.H:return Kv[(e-1)*4+3];default:return}};Yb.getTotalCodewordsCount=function(e,n){switch(n){case Ml.L:return Qv[(e-1)*4+0];case Ml.M:return Qv[(e-1)*4+1];case Ml.Q:return Qv[(e-1)*4+2];case Ml.H:return Qv[(e-1)*4+3];default:return}};var $z={},Xb={};const _m=new Uint8Array(512),m_=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)_m[n]=e,m_[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)_m[n]=_m[n-255]})();Xb.log=function(e){if(e<1)throw new Error("log("+e+")");return m_[e]};Xb.exp=function(e){return _m[e]};Xb.mul=function(e,n){return e===0||n===0?0:_m[m_[e]+m_[n]]};(function(t){const e=Xb;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})($z);const Uz=$z;function UA(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}UA.prototype.initialize=function(e){this.degree=e,this.genPoly=Uz.generateECPolynomial(this.degree)};UA.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Uz.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var _be=UA,Vz={},Oc={},VA={};VA.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var _a={};const jz="[0-9]+",bbe="[A-Z $%*+\\-./:]+";let Rg="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Rg=Rg.replace(/u/g,"\\u");const xbe="(?:(?![A-Z0-9 $%*+\\-./:]|"+Rg+`)(?:.|[\r
]))+`;_a.KANJI=new RegExp(Rg,"g");_a.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");_a.BYTE=new RegExp(xbe,"g");_a.NUMERIC=new RegExp(jz,"g");_a.ALPHANUMERIC=new RegExp(bbe,"g");const Ebe=new RegExp("^"+Rg+"$"),Sbe=new RegExp("^"+jz+"$"),Tbe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");_a.testKanji=function(e){return Ebe.test(e)};_a.testNumeric=function(e){return Sbe.test(e)};_a.testAlphanumeric=function(e){return Tbe.test(e)};(function(t){const e=VA,n=_a;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(Oc);(function(t){const e=Bs,n=Yb,r=Qb,i=Oc,s=VA,o=7973,a=e.getBCHDigit(o);function l(p,v,g){for(let _=1;_<=40;_++)if(v<=t.getCapacity(_,g,p))return _}function c(p,v){return i.getCharCountIndicator(p,v)+4}function u(p,v){let g=0;return p.forEach(function(_){const R=c(_.mode,v);g+=R+_.getBitsLength()}),g}function d(p,v){for(let g=1;g<=40;g++)if(u(p,g)<=t.getCapacity(g,v,i.MIXED))return g}t.from=function(v,g){return s.isValid(v)?parseInt(v,10):g},t.getCapacity=function(v,g,_){if(!s.isValid(v))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=i.BYTE);const R=e.getSymbolTotalCodewords(v),E=n.getTotalCodewordsCount(v,g),b=(R-E)*8;if(_===i.MIXED)return b;const T=b-c(_,v);switch(_){case i.NUMERIC:return Math.floor(T/10*3);case i.ALPHANUMERIC:return Math.floor(T/11*2);case i.KANJI:return Math.floor(T/13);case i.BYTE:default:return Math.floor(T/8)}},t.getBestVersionForData=function(v,g){let _;const R=r.from(g,r.M);if(Array.isArray(v)){if(v.length>1)return d(v,R);if(v.length===0)return 1;_=v[0]}else _=v;return l(_.mode,_.getLength(),R)},t.getEncodedBits=function(v){if(!s.isValid(v)||v<7)throw new Error("Invalid QR Code version");let g=v<<12;for(;e.getBCHDigit(g)-a>=0;)g^=o<<e.getBCHDigit(g)-a;return v<<12|g}})(Vz);var zz={};const uI=Bs,Hz=1335,Cbe=21522,tM=uI.getBCHDigit(Hz);zz.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;uI.getBCHDigit(i)-tM>=0;)i^=Hz<<uI.getBCHDigit(i)-tM;return(r<<10|i)^Cbe};var Wz={};const Ibe=Oc;function df(t){this.mode=Ibe.NUMERIC,this.data=t.toString()}df.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};df.prototype.getLength=function(){return this.data.length};df.prototype.getBitsLength=function(){return df.getBitsLength(this.data.length)};df.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var Nbe=df;const Rbe=Oc,sS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function hf(t){this.mode=Rbe.ALPHANUMERIC,this.data=t}hf.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};hf.prototype.getLength=function(){return this.data.length};hf.prototype.getBitsLength=function(){return hf.getBitsLength(this.data.length)};hf.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=sS.indexOf(this.data[n])*45;r+=sS.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(sS.indexOf(this.data[n]),6)};var Abe=hf,kbe=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Pbe=kbe,Dbe=Oc;function ff(t){this.mode=Dbe.BYTE,typeof t=="string"&&(t=Pbe(t)),this.data=new Uint8Array(t)}ff.getBitsLength=function(e){return e*8};ff.prototype.getLength=function(){return this.data.length};ff.prototype.getBitsLength=function(){return ff.getBitsLength(this.data.length)};ff.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Lbe=ff;const Obe=Oc,Mbe=Bs;function pf(t){this.mode=Obe.KANJI,this.data=t}pf.getBitsLength=function(e){return e*13};pf.prototype.getLength=function(){return this.data.length};pf.prototype.getBitsLength=function(){return pf.getBitsLength(this.data.length)};pf.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Mbe.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var Fbe=pf,Gz={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,d,p,v,g,_,R;!a.empty();){l=a.pop(),c=l.value,d=l.cost,p=n[c]||{};for(u in p)p.hasOwnProperty(u)&&(v=p[u],g=d+v,_=o[u],R=typeof o[u]>"u",(R||_>g)&&(o[u]=g,a.push(u,g),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var E=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(E)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Gz);var Bbe=Gz.exports;(function(t){const e=Oc,n=Nbe,r=Abe,i=Lbe,s=Fbe,o=_a,a=Bs,l=Bbe;function c(E){return unescape(encodeURIComponent(E)).length}function u(E,b,T){const I=[];let D;for(;(D=E.exec(T))!==null;)I.push({data:D[0],index:D.index,mode:b,length:D[0].length});return I}function d(E){const b=u(o.NUMERIC,e.NUMERIC,E),T=u(o.ALPHANUMERIC,e.ALPHANUMERIC,E);let I,D;return a.isKanjiModeEnabled()?(I=u(o.BYTE,e.BYTE,E),D=u(o.KANJI,e.KANJI,E)):(I=u(o.BYTE_KANJI,e.BYTE,E),D=[]),b.concat(T,I,D).sort(function($,C){return $.index-C.index}).map(function($){return{data:$.data,mode:$.mode,length:$.length}})}function p(E,b){switch(b){case e.NUMERIC:return n.getBitsLength(E);case e.ALPHANUMERIC:return r.getBitsLength(E);case e.KANJI:return s.getBitsLength(E);case e.BYTE:return i.getBitsLength(E)}}function v(E){return E.reduce(function(b,T){const I=b.length-1>=0?b[b.length-1]:null;return I&&I.mode===T.mode?(b[b.length-1].data+=T.data,b):(b.push(T),b)},[])}function g(E){const b=[];for(let T=0;T<E.length;T++){const I=E[T];switch(I.mode){case e.NUMERIC:b.push([I,{data:I.data,mode:e.ALPHANUMERIC,length:I.length},{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.ALPHANUMERIC:b.push([I,{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.KANJI:b.push([I,{data:I.data,mode:e.BYTE,length:c(I.data)}]);break;case e.BYTE:b.push([{data:I.data,mode:e.BYTE,length:c(I.data)}])}}return b}function _(E,b){const T={},I={start:{}};let D=["start"];for(let M=0;M<E.length;M++){const $=E[M],C=[];for(let k=0;k<$.length;k++){const O=$[k],W=""+M+k;C.push(W),T[W]={node:O,lastCount:0},I[W]={};for(let V=0;V<D.length;V++){const z=D[V];T[z]&&T[z].node.mode===O.mode?(I[z][W]=p(T[z].lastCount+O.length,O.mode)-p(T[z].lastCount,O.mode),T[z].lastCount+=O.length):(T[z]&&(T[z].lastCount=O.length),I[z][W]=p(O.length,O.mode)+4+e.getCharCountIndicator(O.mode,b))}}D=C}for(let M=0;M<D.length;M++)I[D[M]].end=0;return{map:I,table:T}}function R(E,b){let T;const I=e.getBestModeForData(E);if(T=e.from(b,I),T!==e.BYTE&&T.bit<I.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(T)+`.
 Suggested mode is: `+e.toString(I));switch(T===e.KANJI&&!a.isKanjiModeEnabled()&&(T=e.BYTE),T){case e.NUMERIC:return new n(E);case e.ALPHANUMERIC:return new r(E);case e.KANJI:return new s(E);case e.BYTE:return new i(E)}}t.fromArray=function(b){return b.reduce(function(T,I){return typeof I=="string"?T.push(R(I,null)):I.data&&T.push(R(I.data,I.mode)),T},[])},t.fromString=function(b,T){const I=d(b,a.isKanjiModeEnabled()),D=g(I),M=_(D,T),$=l.find_path(M.map,"start","end"),C=[];for(let k=1;k<$.length-1;k++)C.push(M.table[$[k]].node);return t.fromArray(v(C))},t.rawSplit=function(b){return t.fromArray(d(b,a.isKanjiModeEnabled()))}})(Wz);const Jb=Bs,oS=Qb,$be=vbe,Ube=ybe,Vbe=Mz,jbe=Fz,dI=Bz,hI=Yb,zbe=_be,g_=Vz,Hbe=zz,Wbe=Oc,aS=Wz;function Gbe(t,e){const n=t.size,r=jbe.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function qbe(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Kbe(t,e){const n=Vbe.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function Qbe(t,e){const n=t.size,r=g_.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function lS(t,e,n){const r=t.size,i=Hbe.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function Ybe(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function Xbe(t,e,n){const r=new $be;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),Wbe.getCharCountIndicator(l.mode,t)),l.write(r)});const i=Jb.getSymbolTotalCodewords(t),s=hI.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return Jbe(r,t,e)}function Jbe(t,e,n){const r=Jb.getSymbolTotalCodewords(e),i=hI.getTotalCodewordsCount(e,n),s=r-i,o=hI.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),d=u+1,p=c-u,v=new zbe(p);let g=0;const _=new Array(o),R=new Array(o);let E=0;const b=new Uint8Array(t.buffer);for(let $=0;$<o;$++){const C=$<l?u:d;_[$]=b.slice(g,g+C),R[$]=v.encode(_[$]),g+=C,E=Math.max(E,C)}const T=new Uint8Array(r);let I=0,D,M;for(D=0;D<E;D++)for(M=0;M<o;M++)D<_[M].length&&(T[I++]=_[M][D]);for(D=0;D<p;D++)for(M=0;M<o;M++)T[I++]=R[M][D];return T}function Zbe(t,e,n,r){let i;if(Array.isArray(t))i=aS.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=aS.rawSplit(t);c=g_.getBestVersionForData(u,n)}i=aS.fromString(t,c||40)}else throw new Error("Invalid data");const s=g_.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=Xbe(e,n,i),a=Jb.getSymbolSize(e),l=new Ube(a);return Gbe(l,e),qbe(l),Kbe(l,e),lS(l,n,0),e>=7&&Qbe(l,e),Ybe(l,o),isNaN(r)&&(r=dI.getBestMask(l,lS.bind(null,l,n))),dI.applyMask(r,l),lS(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}Lz.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=oS.M,i,s;return typeof n<"u"&&(r=oS.from(n.errorCorrectionLevel,oS.M),i=g_.from(n.version),s=dI.from(n.maskPattern),n.toSJISFunc&&Jb.setToSJISFunction(n.toSJISFunc)),Zbe(e,i,r,s)};var qz={},jA={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,d=[s.color.light,s.color.dark];for(let p=0;p<c;p++)for(let v=0;v<c;v++){let g=(p*c+v)*4,_=s.color.light;if(p>=u&&v>=u&&p<c-u&&v<c-u){const R=Math.floor((p-u)/l),E=Math.floor((v-u)/l);_=d[a[R*o+E]?1:0]}r[g++]=_.r,r[g++]=_.g,r[g++]=_.b,r[g]=_.a}}})(jA);(function(t){const e=jA;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),d=c.getContext("2d"),p=d.createImageData(u,u);return e.qrToImageData(p.data,s,l),n(d,c,u),d.putImageData(p,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",d=l.rendererOpts||{};return c.toDataURL(u,d.quality)}})(qz);var Kz={};const exe=jA;function nM(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function cS(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function txe(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?cS("M",l+n,.5+c+n):cS("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=cS("h",o),o=0)):i++}return r}Kz.render=function(e,n,r){const i=exe.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+nM(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+nM(i.color.dark,"stroke")+' d="'+txe(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const nxe=mbe,fI=Lz,Qz=qz,rxe=Kz;function zA(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!nxe())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=fI.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=fI.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}M0.create=fI.create;M0.toCanvas=zA.bind(null,Qz.render);M0.toDataURL=zA.bind(null,Qz.renderToDataURL);M0.toString=zA.bind(null,function(t,e,n){return rxe.render(t,n)});const ixe=()=>{const[t,e]=ut(HA),[n,r]=y.useState(!1),[i,s]=y.useState(""),[o,a]=En(Sn),[l,c]=y.useState(!1),u=localStorage.getItem("userAuthID");y.useEffect(()=>{const g=()=>{c(window.innerWidth<450)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const d=async()=>{console.log("handleReloadDepositAddress");const g=await Xu.get("/getWallet/"+u);g.status===404?setAdminWallet("No Wallet Found"):e(g.data.address)},p=()=>{navigator.clipboard.writeText(t).then(()=>{r(!0),setTimeout(()=>r(!1),5e3)}).catch(g=>{r(!1)})};return y.useEffect(()=>{M0.toDataURL(t).then(g=>s(g)).catch(g=>console.log(g))},[t]),x("div",{className:"py-2 mx-auto p-4 md:px-8 overflow-scroll scrollbar-hide sm:w-[600px]",style:{gap:"1.5rem",display:"flex",flexDirection:"column"},children:[x("div",{className:"mb-6",children:[h("div",{className:"font-medium text-[15px] mb-2 ",style:o?{color:"white"}:{},children:"Your BTC deposit address"}),x("div",{className:"border border-gray-300 h-[43px] bg-gray-300 py-2 px-3 rounded-md flex justify-between",children:[h("div",{className:"text-sm font-semibold text-gray-700 mt-[2px]",children:l?h("span",{className:"text-[11px]",children:t}):t}),x("div",{className:"flex",children:[h(nY,{className:"w-4 cursor-pointer",onClick:d}),h("span",{className:"mx-2 text-gray-600",children:"|"}),n?h("div",{className:"cursor-pointer text-gray-600",children:h("i",{className:"fa fa-check"})}):h("div",{className:"w-4 mt-1 cursor-pointer text-gray-700",onClick:p,children:h("svg",{className:"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium cursor-pointer css-i4bv87-MuiSvgIcon-root",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"ContentCopyIcon",children:h("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})})})]})]})]}),h("div",{className:"w-[200px] h-[200px] mx-auto text-sm",children:h("img",{src:i})}),h("div",{className:"text-center mb-4 text-[15px]",style:o?{color:"white"}:{},children:"Only send BTC to this address, 1 confirmation required."}),x("div",{className:"mb-11",style:o?{color:"white",display:"flex",flexDirection:"column",gap:"1rem"}:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h("div",{className:"text-center mb-2 text-[15px]",children:"Improve your account security with Two-factor Authentication"}),h("div",{className:"flex justify-center ",children:h("div",{className:"border px-5 py-2 bg-blue-500 rounded-lg text-white font-semibold cursor-pointer",onClick:()=>{},children:"Enable 2FA"})})]})]})},Od=[{value:5},{value:10},{value:20},{value:50},{value:100}],sxe=()=>{const[t,e]=ut(Yz),[n,r]=ut(Xz),[i,s]=y.useState(""),[o,a]=En(Sn),l=d=>{e(Od[d].value),document.getElementById(`token-${d}`).setAttribute("style","border: 2px solid #21C55D;"),document.getElementById("custom-token").setAttribute("style","border: 1px solid rgb(209 213 219);"),Od.map((g,_)=>{_!==d&&document.getElementById(`token-${_}`).setAttribute("style","border: 1px solid rgb(209 213 219);")}),r(!1)},c=()=>{document.getElementById("custom-token").setAttribute("style","border: 2px solid #42C55E"),e(+i),r(!1),Od.map((p,v)=>{document.getElementById(`token-${v}`).setAttribute("style","border: 1px solid rgb(209 213 219);")})},u=d=>{isNaN(d)?console.log("Input is not a number"):(s(d),e(+d)),Od.map((p,v)=>{document.getElementById(`token-${v}`).setAttribute("style","border: 1px solid rgb(209 213 219);")})};return h("div",{children:x("div",{className:"flex flex-col",children:[h("div",{className:"flex justify-around mb-[30px]",children:Od.slice(0,3).map((d,p)=>h("div",{className:"cursor-pointer w-[85px] text-center text-[20px] border border-gray-300  py-[5px] rounded-[5px]",onClick:()=>l(p),id:`token-${p}`,style:o?{border:"1px solid #F7931A"}:{},children:d.value},p))}),x("div",{className:"flex justify-around mb-[30px]",children:[Od.slice(3,5).map((d,p)=>h("div",{className:"cursor-pointer w-[85px] text-center text-[20px] border border-gray-300 py-[5px] rounded-[5px]",onClick:()=>l(p+3),id:`token-${p+3}`,style:o?{border:"1px solid #F7931A"}:{},children:d.value},p)),h("input",{id:"custom-token",placeholder:"custom",className:"w-[85px] cursor-pointer  text-center text-[20px] w-[90px] py-[5px] border border-gray-300 rounded-[5px] focus:ring-green-500 focus:border-green-500 focus:outline-none focus:ring-[0px]",value:i,onChange:d=>u(d.target.value),onClick:()=>c(),style:o?{border:"1px solid #F7931A",backgroundColor:"black",color:"black"}:{}})]})]})})},Yz=Tn(0);Tn(0);const Xz=Tn(!1),rM=lr($t),oxe=()=>{const[t]=ut(Yz),[e,n]=y.useState(0),[r,i]=y.useState(!1),[s,o]=y.useState(!1),[a,l]=ut(Xz),[c,u]=En(Sn),d=localStorage.getItem("userAuthID"),p=d!==null?yt(rM,"users",d):null,v=async()=>{i(!0);try{const _=await _n(p);_.exists()&&n(+_.data().tokenBalance)}catch(_){n(0),console.log(_,"No doc exist!")}i(!1)};y.useEffect(()=>{d!==null&&v(),l(!1)},[]);const g=async()=>{o(!0);const _=yt(rM,"users",d),R=await _n(_),E=yt(Vi(_,"transactions"));n(e+t),await fa(E,{amount:t,type:"deposit",time:fg()}),R.exists()?await ct(_,{tokenBalance:Rr(t)}):await fa(_,{tokenBalance:Rr(t)}),R.data().star1TablesLock===void 0&&e+t>=.25&&await ct(_,{star1TablesLock:!1,"tableUnlockDeposit.star1":t}),R.data().star2TablesLock===void 0&&e+t>=5&&await ct(_,{star2TablesLock:!1,"tableUnlockDeposit.star2":t}),R.data().star3TablesLock===void 0&&e+t>=50&&await ct(_,{star3TablesLock:!1,"tableUnlockDeposit.star3":t}),l(!0),o(!1)};return h("div",{style:{paddingBottom:"5rem"},children:x("div",{className:"flex flex-col h-[60vh] md:w-[80%] mx-auto p-4 md:p-7",style:c?{color:"white",colorWeight:"700"}:{},children:[x("div",{className:"mb-[20px]",children:[x("div",{className:"flex justify-between mb-[20px]",children:[h("div",{}),x("div",{className:"flex",children:[h(wY,{width:"16px",height:"16px",fill:"gray",className:"text-red-500 mr-[10px] mt-[4px]"}),h("div",{children:"1 Token = 1 "})]})]}),x("div",{className:"flex justify-between mb-[20px]",children:[h("div",{children:"Current Balance"}),h("div",{className:"flex",children:x("div",{className:"font-semibold text-green-500",children:[" ",e.toFixed(2)]})})]})]}),h("div",{className:"mb-[20px]",children:h(sxe,{})}),h("div",{className:"w-full flex w-full justify-center mb-[40px]",children:x("div",{className:"flex flex-col",children:[h("button",{className:"w-[200px] mx-auto bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full mb-[10px]",onClick:g,children:s?h("span",{children:"Loading..."}):h("span",{children:"BUY NOW"})}),a&&x("div",{className:" flex justify-center",children:[" ",h(my,{width:"18px",height:"18px",className:"mt-[2px] ml-[3px] mr-[5px] text-green-500"})," ",x("span",{className:"text-green-500 font-bold",children:[t," tokens added to your balance!"," "]})]})]})})]})})},axe=rl($t),lxe=lr($t),Jz=Tn(!1);function cxe(){const[t,e]=wd(axe),[n,r]=y.useState(0),[i,s]=y.useState(0),[o,a]=y.useState(0),[l,c]=ut(Jz),u=y.useRef([]),[d,p]=En(Sn),v=async()=>{const _=yt(lxe,"users",t.uid),R=await _n(_);R.exists()&&(R.data().hasVerifiedStep1===void 0?c(!1):c(R.data().hasVerifiedStep1))};return y.useEffect(()=>{function _(){const R=u.current[n];a((R==null?void 0:R.offsetLeft)??0),s((R==null?void 0:R.clientWidth)??0)}return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[n]),y.useEffect(()=>{t&&v()},[t,l]),e?h(Ms,{}):x("div",{children:[x("div",{className:"relative",children:[h("div",{className:"flex space-x-3 border-b ",children:[{label:x("div",{className:"flex justify-center text-[15px]",style:d?{color:"goldenrod"}:{},children:["BITCOIN ",h(ro,{className:"w-4 h-4 ml-2 mt-1"})," "]})},{label:x("div",{className:"flex justify-center text-[15px]",style:d?{color:"goldenrod"}:{},children:["STRIPE ",h(cB,{className:"w-4 h-4 ml-3 mt-1"})," "]})}].map((_,R)=>h("button",{ref:E=>u.current[R]=E,className:"pt-2 pb-3 w-[50%]",onClick:()=>r(R),children:h("span",{className:`font-semibold ${n===R?"text-red-400":"text-gray-500"}`,children:_.label})},R))}),h("span",{className:"absolute bottom-0 block h-1 bg-red-400 transition-all duration-300",style:d?{backgroundColor:"goldenrod",left:o,width:i}:{left:o,width:i}})]}),h("div",{className:"py-4",children:l?n===0?h(ixe,{}):h(oxe,{}):h(Dz,{})})]})}Tn(0);Tn(0);Tn(!1);const HA=Tn("Wallet Address is loading..."),uxe=lr($t),dxe=()=>{const[t,e]=y.useState(0),[n,r]=y.useState(0),[i,s]=y.useState(!0),[o,a]=ut(HA),l=localStorage.getItem("userAuthID"),[c,u]=En(Sn),d=async()=>{const p=await Xu.get("/getWallet/"+l);p.status===404?a("No Wallet Found"):a(p.data.address)};return y.useEffect(()=>{d()},[]),y.useEffect(()=>{const p=l?yt(uxe,"users",l):null;let v=null;return p&&(v=pd(p,g=>{g.exists()?(e(parseFloat(g.data().tokenBalance)),r(parseFloat(g.data().bonusBalance))):console.log("No such document!"),s(!1)})),()=>{v&&v()}},[]),l?i?h(Ms,{}):h("div",{style:c?{backgroundColor:"black"}:{},children:x("div",{className:"p-[16px] flex flex-col sm:w-[600px] mx-auto",style:c?{backgroundColor:"#000"}:{},children:[h(A0,{title:"DEPOSIT"}),h("div",{className:"flex justify-center mb-3",children:h("div",{className:"flex w-fit border px-3 py-1 bg-white rounded-xl shadow-sm",style:c?{backgroundColor:"black",border:"1px solid #F7931A"}:{},children:x("div",{className:"flex font-medium text-[16px] py-[1px] text-gray-600",children:[h("span",{className:"mr-2",style:c?{color:"white"}:{},children:(t+n)%1===0?+t+n:(t+n).toFixed(2)}),h(ro,{className:"my-1 w-[20px] h-[18px] text-yellow-500"})]})})}),h(cxe,{})]})}):h(yd,{})},hxe=()=>x("div",{className:"flex flex-col justify-center items-center h-[75vh]",children:[h("img",{src:"https://cdn-icons-png.flaticon.com/512/8281/8281994.png",className:"w-[170px] mb-3 lg:w-[200px]"}),x("div",{className:"text-center",children:[h("div",{className:"text-[17px] font-semibold text-[#FF4D68] mb-2",children:"PAGE NOT FOUND!"}),h(wn,{to:"/live",className:"text-md font-medium text-[#4E6AFF] underline cursor-pointer",children:"Go Back"})]})]});var Zz={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(SG,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},a=0,l={parse:function(C,k){var O=(k=k||{}).dynamicTyping||!1;if($(O)&&(k.dynamicTypingFunction=O,O={}),k.dynamicTyping=O,k.transform=!!$(k.transform)&&k.transform,k.worker&&l.WORKERS_SUPPORTED){var W=function(){if(!l.WORKERS_SUPPORTED)return!1;var z=(fe=r.URL||r.webkitURL||null,ge=n.toString(),l.BLOB_URL||(l.BLOB_URL=fe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ge,")();"],{type:"text/javascript"})))),Y=new r.Worker(z),fe,ge;return Y.onmessage=b,Y.id=a++,o[Y.id]=Y}();return W.userStep=k.step,W.userChunk=k.chunk,W.userComplete=k.complete,W.userError=k.error,k.step=$(k.step),k.chunk=$(k.chunk),k.complete=$(k.complete),k.error=$(k.error),delete k.worker,void W.postMessage({input:C,config:k,workerId:W.id})}var V=null;return l.NODE_STREAM_INPUT,typeof C=="string"?(C=function(z){return z.charCodeAt(0)===65279?z.slice(1):z}(C),V=k.download?new d(k):new v(k)):C.readable===!0&&$(C.read)&&$(C.on)?V=new g(k):(r.File&&C instanceof File||C instanceof Object)&&(V=new p(k)),V.stream(C)},unparse:function(C,k){var O=!1,W=!0,V=",",z=`\r
`,Y='"',fe=Y+Y,ge=!1,K=null,J=!1;(function(){if(typeof k=="object"){if(typeof k.delimiter!="string"||l.BAD_DELIMITERS.filter(function(U){return k.delimiter.indexOf(U)!==-1}).length||(V=k.delimiter),(typeof k.quotes=="boolean"||typeof k.quotes=="function"||Array.isArray(k.quotes))&&(O=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(ge=k.skipEmptyLines),typeof k.newline=="string"&&(z=k.newline),typeof k.quoteChar=="string"&&(Y=k.quoteChar),typeof k.header=="boolean"&&(W=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");K=k.columns}k.escapeChar!==void 0&&(fe=k.escapeChar+Y),(typeof k.escapeFormulae=="boolean"||k.escapeFormulae instanceof RegExp)&&(J=k.escapeFormulae instanceof RegExp?k.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Z=new RegExp(R(Y),"g");if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return Te(null,C,ge);if(typeof C[0]=="object")return Te(K||Object.keys(C[0]),C,ge)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||K),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),Te(C.fields||[],C.data||[],ge);throw new Error("Unable to serialize unrecognized input");function Te(U,ne,te){var ue="";typeof U=="string"&&(U=JSON.parse(U)),typeof ne=="string"&&(ne=JSON.parse(ne));var le=Array.isArray(U)&&0<U.length,Oe=!Array.isArray(ne[0]);if(le&&W){for(var We=0;We<U.length;We++)0<We&&(ue+=V),ue+=ke(U[We],We);0<ne.length&&(ue+=z)}for(var me=0;me<ne.length;me++){var Be=le?U.length:ne[me].length,we=!1,nt=le?Object.keys(ne[me]).length===0:ne[me].length===0;if(te&&!le&&(we=te==="greedy"?ne[me].join("").trim()==="":ne[me].length===1&&ne[me][0].length===0),te==="greedy"&&le){for(var rt=[],wt=0;wt<Be;wt++){var _e=Oe?U[wt]:wt;rt.push(ne[me][_e])}we=rt.join("").trim()===""}if(!we){for(var Ye=0;Ye<Be;Ye++){0<Ye&&!nt&&(ue+=V);var B=le&&Oe?U[Ye]:Ye;ue+=ke(ne[me][B],Ye)}me<ne.length-1&&(!te||0<Be&&!nt)&&(ue+=z)}}return ue}function ke(U,ne){if(U==null)return"";if(U.constructor===Date)return JSON.stringify(U).slice(1,25);var te=!1;J&&typeof U=="string"&&J.test(U)&&(U="'"+U,te=!0);var ue=U.toString().replace(Z,fe);return(te=te||O===!0||typeof O=="function"&&O(U,ne)||Array.isArray(O)&&O[ne]||function(le,Oe){for(var We=0;We<Oe.length;We++)if(-1<le.indexOf(Oe[We]))return!0;return!1}(ue,l.BAD_DELIMITERS)||-1<ue.indexOf(V)||ue.charAt(0)===" "||ue.charAt(ue.length-1)===" ")?Y+ue+Y:ue}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!i&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=E,l.ParserHandle=_,l.NetworkStreamer=d,l.FileStreamer=p,l.StringStreamer=v,l.ReadableStreamStreamer=g,r.jQuery){var c=r.jQuery;c.fn.parse=function(C){var k=C.config||{},O=[];return this.each(function(z){if(!(c(this).prop("tagName").toUpperCase()==="INPUT"&&c(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Y=0;Y<this.files.length;Y++)O.push({file:this.files[Y],inputElem:this,instanceConfig:c.extend({},k)})}),W(),this;function W(){if(O.length!==0){var z,Y,fe,ge,K=O[0];if($(C.before)){var J=C.before(K.file,K.inputElem);if(typeof J=="object"){if(J.action==="abort")return z="AbortError",Y=K.file,fe=K.inputElem,ge=J.reason,void($(C.error)&&C.error({name:z},Y,fe,ge));if(J.action==="skip")return void V();typeof J.config=="object"&&(K.instanceConfig=c.extend(K.instanceConfig,J.config))}else if(J==="skip")return void V()}var Z=K.instanceConfig.complete;K.instanceConfig.complete=function(Te){$(Z)&&Z(Te,K.file,K.inputElem),V()},l.parse(K.file,K.instanceConfig)}else $(C.complete)&&C.complete()}function V(){O.splice(0,1),W()}}}function u(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var O=D(k);O.chunkSize=parseInt(O.chunkSize),k.step||k.chunk||(O.chunkSize=null),this._handle=new _(O),(this._handle.streamer=this)._config=O}).call(this,C),this.parseChunk=function(k,O){if(this.isFirstChunk&&$(this._config.beforeFirstChunk)){var W=this._config.beforeFirstChunk(k);W!==void 0&&(k=W)}this.isFirstChunk=!1,this._halted=!1;var V=this._partialLine+k;this._partialLine="";var z=this._handle.parse(V,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Y=z.meta.cursor;this._finished||(this._partialLine=V.substring(Y-this._baseIndex),this._baseIndex=Y),z&&z.data&&(this._rowCount+=z.data.length);var fe=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)r.postMessage({results:z,workerId:l.WORKER_ID,finished:fe});else if($(this._config.chunk)&&!O){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);z=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!fe||!$(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),fe||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(k){$(this._config.error)?this._config.error(k):s&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:k,finished:!1})}}function d(C){var k;(C=C||{}).chunkSize||(C.chunkSize=l.RemoteChunkSize),u.call(this,C),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),i||(k.onload=M(this._chunkLoaded,this),k.onerror=M(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var O=this._config.downloadRequestHeaders;for(var W in O)k.setRequestHeader(W,O[W])}if(this._config.chunkSize){var V=this._start+this._config.chunkSize-1;k.setRequestHeader("Range","bytes="+this._start+"-"+V)}try{k.send(this._config.downloadRequestBody)}catch(z){this._chunkError(z.message)}i&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:k.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(O){var W=O.getResponseHeader("Content-Range");return W===null?-1:parseInt(W.substring(W.lastIndexOf("/")+1))}(k),this.parseChunk(k.responseText)))},this._chunkError=function(O){var W=k.statusText||O;this._sendError(new Error(W))}}function p(C){var k,O;(C=C||{}).chunkSize||(C.chunkSize=l.LocalChunkSize),u.call(this,C);var W=typeof FileReader<"u";this.stream=function(V){this._input=V,O=V.slice||V.webkitSlice||V.mozSlice,W?((k=new FileReader).onload=M(this._chunkLoaded,this),k.onerror=M(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var V=this._input;if(this._config.chunkSize){var z=Math.min(this._start+this._config.chunkSize,this._input.size);V=O.call(V,this._start,z)}var Y=k.readAsText(V,this._config.encoding);W||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(V){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(V.target.result)},this._chunkError=function(){this._sendError(k.error)}}function v(C){var k;u.call(this,C=C||{}),this.stream=function(O){return k=O,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var O,W=this._config.chunkSize;return W?(O=k.substring(0,W),k=k.substring(W)):(O=k,k=""),this._finished=!k,this.parseChunk(O)}}}function g(C){u.call(this,C=C||{});var k=[],O=!0,W=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(V){this._input=V,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){W&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):O=!0},this._streamData=M(function(V){try{k.push(typeof V=="string"?V:V.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(z){this._streamError(z)}},this),this._streamError=M(function(V){this._streamCleanUp(),this._sendError(V)},this),this._streamEnd=M(function(){this._streamCleanUp(),W=!0,this._streamData("")},this),this._streamCleanUp=M(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(C){var k,O,W,V=Math.pow(2,53),z=-V,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,fe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ge=this,K=0,J=0,Z=!1,Te=!1,ke=[],U={data:[],errors:[],meta:{}};if($(C.step)){var ne=C.step;C.step=function(me){if(U=me,le())ue();else{if(ue(),U.data.length===0)return;K+=me.data.length,C.preview&&K>C.preview?O.abort():(U.data=U.data[0],ne(U,ge))}}}function te(me){return C.skipEmptyLines==="greedy"?me.join("").trim()==="":me.length===1&&me[0].length===0}function ue(){return U&&W&&(We("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),W=!1),C.skipEmptyLines&&(U.data=U.data.filter(function(me){return!te(me)})),le()&&function(){if(!U)return;function me(we,nt){$(C.transformHeader)&&(we=C.transformHeader(we,nt)),ke.push(we)}if(Array.isArray(U.data[0])){for(var Be=0;le()&&Be<U.data.length;Be++)U.data[Be].forEach(me);U.data.splice(0,1)}else U.data.forEach(me)}(),function(){if(!U||!C.header&&!C.dynamicTyping&&!C.transform)return U;function me(we,nt){var rt,wt=C.header?{}:[];for(rt=0;rt<we.length;rt++){var _e=rt,Ye=we[rt];C.header&&(_e=rt>=ke.length?"__parsed_extra":ke[rt]),C.transform&&(Ye=C.transform(Ye,_e)),Ye=Oe(_e,Ye),_e==="__parsed_extra"?(wt[_e]=wt[_e]||[],wt[_e].push(Ye)):wt[_e]=Ye}return C.header&&(rt>ke.length?We("FieldMismatch","TooManyFields","Too many fields: expected "+ke.length+" fields but parsed "+rt,J+nt):rt<ke.length&&We("FieldMismatch","TooFewFields","Too few fields: expected "+ke.length+" fields but parsed "+rt,J+nt)),wt}var Be=1;return!U.data.length||Array.isArray(U.data[0])?(U.data=U.data.map(me),Be=U.data.length):U.data=me(U.data,0),C.header&&U.meta&&(U.meta.fields=ke),J+=Be,U}()}function le(){return C.header&&ke.length===0}function Oe(me,Be){return we=me,C.dynamicTypingFunction&&C.dynamicTyping[we]===void 0&&(C.dynamicTyping[we]=C.dynamicTypingFunction(we)),(C.dynamicTyping[we]||C.dynamicTyping)===!0?Be==="true"||Be==="TRUE"||Be!=="false"&&Be!=="FALSE"&&(function(nt){if(Y.test(nt)){var rt=parseFloat(nt);if(z<rt&&rt<V)return!0}return!1}(Be)?parseFloat(Be):fe.test(Be)?new Date(Be):Be===""?null:Be):Be;var we}function We(me,Be,we,nt){var rt={type:me,code:Be,message:we};nt!==void 0&&(rt.row=nt),U.errors.push(rt)}this.parse=function(me,Be,we){var nt=C.quoteChar||'"';if(C.newline||(C.newline=function(_e,Ye){_e=_e.substring(0,1048576);var B=new RegExp(R(Ye)+"([^]*?)"+R(Ye),"gm"),X=(_e=_e.replace(B,"")).split("\r"),re=_e.split(`
`),xe=1<re.length&&re[0].length<X[0].length;if(X.length===1||xe)return`
`;for(var be=0,pe=0;pe<X.length;pe++)X[pe][0]===`
`&&be++;return be>=X.length/2?`\r
`:"\r"}(me,nt)),W=!1,C.delimiter)$(C.delimiter)&&(C.delimiter=C.delimiter(me),U.meta.delimiter=C.delimiter);else{var rt=function(_e,Ye,B,X,re){var xe,be,pe,De;re=re||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var St=0;St<re.length;St++){var Xe=re[St],Ht=0,qn=0,cn=0;pe=void 0;for(var Cn=new E({comments:X,delimiter:Xe,newline:Ye,preview:10}).parse(_e),mt=0;mt<Cn.data.length;mt++)if(B&&te(Cn.data[mt]))cn++;else{var Dn=Cn.data[mt].length;qn+=Dn,pe!==void 0?0<Dn&&(Ht+=Math.abs(Dn-pe),pe=Dn):pe=Dn}0<Cn.data.length&&(qn/=Cn.data.length-cn),(be===void 0||Ht<=be)&&(De===void 0||De<qn)&&1.99<qn&&(be=Ht,xe=Xe,De=qn)}return{successful:!!(C.delimiter=xe),bestDelimiter:xe}}(me,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess);rt.successful?C.delimiter=rt.bestDelimiter:(W=!0,C.delimiter=l.DefaultDelimiter),U.meta.delimiter=C.delimiter}var wt=D(C);return C.preview&&C.header&&wt.preview++,k=me,O=new E(wt),U=O.parse(k,Be,we),ue(),Z?{meta:{paused:!0}}:U||{meta:{paused:!1}}},this.paused=function(){return Z},this.pause=function(){Z=!0,O.abort(),k=$(C.chunk)?"":k.substring(O.getCharIndex())},this.resume=function(){ge.streamer._halted?(Z=!1,ge.streamer.parseChunk(k,!0)):setTimeout(ge.resume,3)},this.aborted=function(){return Te},this.abort=function(){Te=!0,O.abort(),U.meta.aborted=!0,$(C.complete)&&C.complete(U),k=""}}function R(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(C){var k,O=(C=C||{}).delimiter,W=C.newline,V=C.comments,z=C.step,Y=C.preview,fe=C.fastMode,ge=k=C.quoteChar===void 0||C.quoteChar===null?'"':C.quoteChar;if(C.escapeChar!==void 0&&(ge=C.escapeChar),(typeof O!="string"||-1<l.BAD_DELIMITERS.indexOf(O))&&(O=","),V===O)throw new Error("Comment character same as delimiter");V===!0?V="#":(typeof V!="string"||-1<l.BAD_DELIMITERS.indexOf(V))&&(V=!1),W!==`
`&&W!=="\r"&&W!==`\r
`&&(W=`
`);var K=0,J=!1;this.parse=function(Z,Te,ke){if(typeof Z!="string")throw new Error("Input must be a string");var U=Z.length,ne=O.length,te=W.length,ue=V.length,le=$(z),Oe=[],We=[],me=[],Be=K=0;if(!Z)return Ne();if(C.header&&!Te){var we=Z.split(W)[0].split(O),nt=[],rt={},wt=!1;for(var _e in we){var Ye=we[_e];$(C.transformHeader)&&(Ye=C.transformHeader(Ye,_e));var B=Ye,X=rt[Ye]||0;for(0<X&&(wt=!0,B=Ye+"_"+X),rt[Ye]=X+1;nt.includes(B);)B=B+"_"+X;nt.push(B)}if(wt){var re=Z.split(W);re[0]=nt.join(O),Z=re.join(W)}}if(fe||fe!==!1&&Z.indexOf(k)===-1){for(var xe=Z.split(W),be=0;be<xe.length;be++){if(me=xe[be],K+=me.length,be!==xe.length-1)K+=W.length;else if(ke)return Ne();if(!V||me.substring(0,ue)!==V){if(le){if(Oe=[],cn(me.split(O)),mr(),J)return Ne()}else cn(me.split(O));if(Y&&Y<=be)return Oe=Oe.slice(0,Y),Ne(!0)}}return Ne()}for(var pe=Z.indexOf(O,K),De=Z.indexOf(W,K),St=new RegExp(R(ge)+R(k),"g"),Xe=Z.indexOf(k,K);;)if(Z[K]!==k)if(V&&me.length===0&&Z.substring(K,K+ue)===V){if(De===-1)return Ne();K=De+te,De=Z.indexOf(W,K),pe=Z.indexOf(O,K)}else if(pe!==-1&&(pe<De||De===-1))me.push(Z.substring(K,pe)),K=pe+ne,pe=Z.indexOf(O,K);else{if(De===-1)break;if(me.push(Z.substring(K,De)),Dn(De+te),le&&(mr(),J))return Ne();if(Y&&Oe.length>=Y)return Ne(!0)}else for(Xe=K,K++;;){if((Xe=Z.indexOf(k,Xe+1))===-1)return ke||We.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Oe.length,index:K}),mt();if(Xe===U-1)return mt(Z.substring(K,Xe).replace(St,k));if(k!==ge||Z[Xe+1]!==ge){if(k===ge||Xe===0||Z[Xe-1]!==ge){pe!==-1&&pe<Xe+1&&(pe=Z.indexOf(O,Xe+1)),De!==-1&&De<Xe+1&&(De=Z.indexOf(W,Xe+1));var Ht=Cn(De===-1?pe:Math.min(pe,De));if(Z.substr(Xe+1+Ht,ne)===O){me.push(Z.substring(K,Xe).replace(St,k)),Z[K=Xe+1+Ht+ne]!==k&&(Xe=Z.indexOf(k,K)),pe=Z.indexOf(O,K),De=Z.indexOf(W,K);break}var qn=Cn(De);if(Z.substring(Xe+1+qn,Xe+1+qn+te)===W){if(me.push(Z.substring(K,Xe).replace(St,k)),Dn(Xe+1+qn+te),pe=Z.indexOf(O,K),Xe=Z.indexOf(k,K),le&&(mr(),J))return Ne();if(Y&&Oe.length>=Y)return Ne(!0);break}We.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Oe.length,index:K}),Xe++}}else Xe++}return mt();function cn(st){Oe.push(st),Be=K}function Cn(st){var ee=0;if(st!==-1){var q=Z.substring(Xe+1,st);q&&q.trim()===""&&(ee=q.length)}return ee}function mt(st){return ke||(st===void 0&&(st=Z.substring(K)),me.push(st),K=U,cn(me),le&&mr()),Ne()}function Dn(st){K=st,cn(me),me=[],De=Z.indexOf(W,K)}function Ne(st){return{data:Oe,errors:We,meta:{delimiter:O,linebreak:W,aborted:J,truncated:!!st,cursor:Be+(Te||0)}}}function mr(){z(Ne()),Oe=[],We=[]}},this.abort=function(){J=!0},this.getCharIndex=function(){return K}}function b(C){var k=C.data,O=o[k.workerId],W=!1;if(k.error)O.userError(k.error,k.file);else if(k.results&&k.results.data){var V={abort:function(){W=!0,T(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if($(O.userStep)){for(var z=0;z<k.results.data.length&&(O.userStep({data:k.results.data[z],errors:k.results.errors,meta:k.results.meta},V),!W);z++);delete k.results}else $(O.userChunk)&&(O.userChunk(k.results,V,k.file),delete k.results)}k.finished&&!W&&T(k.workerId,k.results)}function T(C,k){var O=o[C];$(O.userComplete)&&O.userComplete(k),O.terminate(),delete o[C]}function I(){throw new Error("Not implemented.")}function D(C){if(typeof C!="object"||C===null)return C;var k=Array.isArray(C)?[]:{};for(var O in C)k[O]=D(C[O]);return k}function M(C,k){return function(){C.apply(k,arguments)}}function $(C){return typeof C=="function"}return s&&(r.onmessage=function(C){var k=C.data;if(l.WORKER_ID===void 0&&k&&(l.WORKER_ID=k.workerId),typeof k.input=="string")r.postMessage({workerId:l.WORKER_ID,results:l.parse(k.input,k.config),finished:!0});else if(r.File&&k.input instanceof File||k.input instanceof Object){var O=l.parse(k.input,k.config);O&&r.postMessage({workerId:l.WORKER_ID,results:O,finished:!0})}}),(d.prototype=Object.create(u.prototype)).constructor=d,(p.prototype=Object.create(u.prototype)).constructor=p,(v.prototype=Object.create(v.prototype)).constructor=v,(g.prototype=Object.create(u.prototype)).constructor=g,l})})(Zz);var fxe=Zz.exports;const pxe=Ag(fxe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH="firebasestorage.googleapis.com",tH="storageBucket",mxe=2*60*1e3,gxe=10*60*1e3,vxe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Ci{constructor(e,n,r=0){super(uS(e),`Firebase Storage: ${n} (${uS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gn||(Gn={}));function uS(t){return"storage/"+t}function WA(){const t="An unknown error occurred, please check the error payload for server response.";return new cr(Gn.UNKNOWN,t)}function yxe(t){return new cr(Gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wxe(t){return new cr(Gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _xe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cr(Gn.UNAUTHENTICATED,t)}function bxe(){return new cr(Gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xxe(t){return new cr(Gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function nH(){return new cr(Gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rH(){return new cr(Gn.CANCELED,"User canceled the upload/download.")}function Exe(t){return new cr(Gn.INVALID_URL,"Invalid URL '"+t+"'.")}function Sxe(t){return new cr(Gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Txe(){return new cr(Gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tH+"' property when initializing the app?")}function iH(){return new cr(Gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Cxe(){return new cr(Gn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Ixe(){return new cr(Gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Nxe(t){return new cr(Gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pI(t){return new cr(Gn.INVALID_ARGUMENT,t)}function sH(){return new cr(Gn.APP_DELETED,"The Firebase app was deleted.")}function Rxe(t){return new cr(Gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bm(t,e){return new cr(Gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Lp(t){throw new cr(Gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cs.makeFromUrl(e,n)}catch{return new Cs(e,"")}if(r.path==="")return r;throw Sxe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${d}/${u}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},_=n===eH?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",E=new RegExp(`^https?://${_}/${i}/${R}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:v,indices:g,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<T.length;I++){const D=T[I],M=D.regex.exec(e);if(M){const $=M[D.indices.bucket];let C=M[D.indices.path];C||(C=""),r=new Cs($,C),D.postModify(r);break}}if(r==null)throw Exe(e);return r}}class Axe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kxe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...R){c||(c=!0,e.apply(null,R))}function d(R){i=setTimeout(()=>{i=null,t(v,l())},R)}function p(){s&&clearTimeout(s)}function v(R,...E){if(c){p();return}if(R){p(),u.call(null,R,...E);return}if(l()||o){p(),u.call(null,R,...E);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,d(T)}let g=!1;function _(R){g||(g=!0,p(),!c&&(i!==null?(R||(a=2),clearTimeout(i),d(0)):R||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function Pxe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dxe(t){return t!==void 0}function Lxe(t){return typeof t=="function"}function Oxe(t){return typeof t=="object"&&!Array.isArray(t)}function Zb(t){return typeof t=="string"||t instanceof String}function iM(t){return GA()&&t instanceof Blob}function GA(){return typeof Blob<"u"&&!m1()}function sM(t,e,n,r){if(r<e)throw pI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw pI(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function oH(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Cu||(Cu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mxe{constructor(e,n,r,i,s,o,a,l,c,u,d,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Yv(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Cu.NO_ERROR,l=s.getStatus();if(!a||aH(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Cu.ABORT;r(!1,new Yv(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Yv(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Dxe(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=WA();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?sH():rH();o(l)}else{const l=nH();o(l)}};this.canceled_?n(!1,new Yv(!1,null,!0)):this.backoffId_=kxe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Pxe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Fxe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Bxe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $xe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Uxe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Vxe(t,e,n,r,i,s,o=!0){const a=oH(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return $xe(c,e),Fxe(c,n),Bxe(c,s),Uxe(c,r),new Mxe(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jxe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zxe(...t){const e=jxe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(GA())return new Blob(t);throw new cr(Gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Hxe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wxe(t){if(typeof atob>"u")throw Nxe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dS{constructor(e,n){this.data=e,this.contentType=n||null}}function Gxe(t,e){switch(t){case na.RAW:return new dS(lH(e));case na.BASE64:case na.BASE64URL:return new dS(cH(t,e));case na.DATA_URL:return new dS(Kxe(e),Qxe(e))}throw WA()}function lH(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function qxe(t){let e;try{e=decodeURIComponent(t)}catch{throw bm(na.DATA_URL,"Malformed data URL.")}return lH(e)}function cH(t,e){switch(t){case na.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw bm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case na.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw bm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Wxe(e)}catch(i){throw i.message.includes("polyfill")?i:bm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class uH{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bm(na.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Yxe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Kxe(t){const e=new uH(t);return e.base64?cH(na.BASE64,e.rest):qxe(e.rest)}function Qxe(t){return new uH(t).contentType}function Yxe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){let r=0,i="";iM(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(iM(this.data_)){const r=this.data_,i=Hxe(r,e,n);return i===null?null:new Cl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Cl(r,!0)}}static getBlob(...e){if(GA()){const n=e.map(r=>r instanceof Cl?r.data_:r);return new Cl(zxe.apply(null,n))}else{const n=e.map(o=>Zb(o)?Gxe(na.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Cl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(t){let e;try{e=JSON.parse(t)}catch{return null}return Oxe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xxe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Jxe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function hH(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zxe(t,e){return e}class ki{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Zxe}}let Xv=null;function eEe(t){return!Zb(t)||t.length<2?t:hH(t)}function fH(){if(Xv)return Xv;const t=[];t.push(new ki("bucket")),t.push(new ki("generation")),t.push(new ki("metageneration")),t.push(new ki("name","fullPath",!0));function e(s,o){return eEe(o)}const n=new ki("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ki("size");return i.xform=r,t.push(i),t.push(new ki("timeCreated")),t.push(new ki("updated")),t.push(new ki("md5Hash",null,!0)),t.push(new ki("cacheControl",null,!0)),t.push(new ki("contentDisposition",null,!0)),t.push(new ki("contentEncoding",null,!0)),t.push(new ki("contentLanguage",null,!0)),t.push(new ki("contentType",null,!0)),t.push(new ki("metadata","customMetadata",!0)),Xv=t,Xv}function tEe(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Cs(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function nEe(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return tEe(r,t),r}function pH(t,e,n){const r=dH(e);return r===null?null:nEe(t,r,n)}function rEe(t,e,n,r){const i=dH(e);if(i===null||!Zb(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,p="/b/"+o(u)+"/o/"+o(d),v=B0(p,n,r),g=oH({alt:"media",token:c});return v+g})[0]}function mH(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Gf{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){if(!t)throw WA()}function qA(t,e){function n(r,i){const s=pH(t,i,e);return za(s!==null),s}return n}function iEe(t,e){function n(r,i){const s=pH(t,i,e);return za(s!==null),rEe(s,i,t.host,t._protocol)}return n}function $0(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=bxe():i=_xe():n.getStatus()===402?i=wxe(t.bucket):n.getStatus()===403?i=xxe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function gH(t){const e=$0(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=yxe(t.path)),s.serverResponse=i.serverResponse,s}return n}function sEe(t,e,n){const r=e.fullServerUrl(),i=B0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Gf(i,s,qA(t,n),o);return a.errorHandler=gH(e),a}function oEe(t,e,n){const r=e.fullServerUrl(),i=B0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Gf(i,s,iEe(t,n),o);return a.errorHandler=gH(e),a}function aEe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vH(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=aEe(null,e)),r}function lEe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let I=0;I<2;I++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=vH(e,r,i),u=mH(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",v=Cl.getBlob(d,r,p);if(v===null)throw iH();const g={name:c.fullPath},_=B0(s,t.host,t._protocol),R="POST",E=t.maxUploadRetryTime,b=new Gf(_,R,qA(t,n),E);return b.urlParams=g,b.headers=o,b.body=v.uploadData(),b.errorHandler=$0(e),b}class v_{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function KA(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{za(!1)}return za(!!n&&(e||["active"]).indexOf(n)!==-1),n}function cEe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=vH(e,r,i),a={name:o.fullPath},l=B0(s,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=mH(o,n),p=t.maxUploadRetryTime;function v(_){KA(_);let R;try{R=_.getResponseHeader("X-Goog-Upload-URL")}catch{za(!1)}return za(Zb(R)),R}const g=new Gf(l,c,v,p);return g.urlParams=a,g.headers=u,g.body=d,g.errorHandler=$0(e),g}function uEe(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const u=KA(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{za(!1)}d||za(!1);const p=Number(d);return za(!isNaN(p)),new v_(p,r.size(),u==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Gf(n,o,s,a);return l.headers=i,l.errorHandler=$0(e),l}const oM=256*1024;function dEe(t,e,n,r,i,s,o,a){const l=new v_(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw Cxe();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,p=d+u;let v="";u===0?v="finalize":c===u?v="upload, finalize":v="upload";const g={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${l.current}`},_=r.slice(d,p);if(_===null)throw iH();function R(I,D){const M=KA(I,["active","final"]),$=l.current+u,C=r.size();let k;return M==="final"?k=qA(e,s)(I,D):k=null,new v_($,C,M==="final",k)}const E="POST",b=e.maxUploadRetryTime,T=new Gf(n,E,R,b);return T.headers=g,T.body=_.uploadData(),T.progressCallback=a||null,T.errorHandler=$0(t),T}const Ji={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hS(t){switch(t){case"running":case"pausing":case"canceling":return Ji.RUNNING;case"paused":return Ji.PAUSED;case"success":return Ji.SUCCESS;case"canceled":return Ji.CANCELED;case"error":return Ji.ERROR;default:return Ji.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hEe{constructor(e,n,r){if(Lxe(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class fEe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Lp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class pEe extends fEe{initXhr(){this.xhr_.responseType="text"}}function zd(){return new pEe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mEe{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=fH(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Gn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(aH(i.status,[]))if(s)i=nH();else{this.sleepTime=Math.max(this.sleepTime*2,vxe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Gn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=cEe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,zd,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=uEe(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,zd,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=oM*this._chunkMultiplier,n=new v_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=dEe(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,zd,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){oM*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=sEe(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,zd,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=lEe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,zd,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=rH(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=hS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new hEe(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(hS(this._state)){case Ji.SUCCESS:Md(this._resolve.bind(null,this.snapshot))();break;case Ji.CANCELED:case Ji.ERROR:const n=this._reject;Md(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(hS(this._state)){case Ji.RUNNING:case Ji.PAUSED:e.next&&Md(e.next.bind(e,this.snapshot))();break;case Ji.SUCCESS:e.complete&&Md(e.complete.bind(e))();break;case Ji.CANCELED:case Ji.ERROR:e.error&&Md(e.error.bind(e,this._error))();break;default:e.error&&Md(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this._service=e,n instanceof Cs?this._location=n:this._location=Cs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ju(e,n)}get root(){const e=new Cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hH(this._location.path)}get storage(){return this._service}get parent(){const e=Xxe(this._location.path);if(e===null)return null;const n=new Cs(this._location.bucket,e);return new Ju(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Rxe(e)}}function gEe(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new mEe(t,new Cl(e),n)}function vEe(t){t._throwIfRoot("getDownloadURL");const e=oEe(t.storage,t._location,fH());return t.storage.makeRequestWithTokens(e,zd).then(n=>{if(n===null)throw Ixe();return n})}function yEe(t,e){const n=Jxe(t._location.path,e),r=new Cs(t._location.bucket,n);return new Ju(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wEe(t){return/^[A-Za-z]+:\/\//.test(t)}function _Ee(t,e){return new Ju(t,e)}function yH(t,e){if(t instanceof QA){const n=t;if(n._bucket==null)throw Txe();const r=new Ju(n,n._bucket);return e!=null?yH(r,e):r}else return e!==void 0?yEe(t,e):t}function bEe(t,e){if(e&&wEe(e)){if(t instanceof QA)return _Ee(t,e);throw pI("To use ref(service, url), the first argument must be a Storage instance.")}else return yH(t,e)}function aM(t,e){const n=e==null?void 0:e[tH];return n==null?null:Cs.makeFromBucketSpec(n,t)}function xEe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:WN(i,t.app.options.projectId))}class QA{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=eH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mxe,this._maxUploadRetryTime=gxe,this._requests=new Set,i!=null?this._bucket=Cs.makeFromBucketSpec(i,this._host):this._bucket=aM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cs.makeFromBucketSpec(this._url,e):this._bucket=aM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ju(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Axe(sH());{const o=Vxe(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const lM="@firebase/storage",cM="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH="storage";function _H(t,e,n){return t=qe(t),gEe(t,e,n)}function bH(t){return t=qe(t),vEe(t)}function xH(t,e){return t=qe(t),bEe(t,e)}function EH(t=Cf(),e){t=qe(t);const r=Cc(t,wH).getImmediate({identifier:e}),i=p1("storage");return i&&EEe(r,...i),r}function EEe(t,e,n,r={}){xEe(t,e,n,r)}function SEe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new QA(n,r,i,e,ya)}function TEe(){Ro(new zi(wH,SEe,"PUBLIC").setMultipleInstances(!0)),fi(lM,cM,""),fi(lM,cM,"esm2017")}TEe();const CEe=EH($t),uM=lr($t);function Jv({userId:t,type:e,onUploadComplete:n,declineMsg:r=!1}){const[i,s]=y.useState(null),[o,a]=y.useState(0),[l,c]=y.useState(!1),[u,d]=y.useState(""),[p,v]=y.useState(!1),[g,_]=y.useState(r);return x("div",{className:"flex flex-col mb-2",children:[x("div",{className:"sm:flex sm:flex-row flex-col justify-between",children:[h("div",{className:"w-[40%]",children:h("input",{type:"file",onChange:async E=>{const b=E.target.files[0];if(!b)return;if(b.size>10*1024*1024){c(!0),d("File size should be less than 10 MB"),s(null);return}else c(!1),s(b),v(!0);const T=xH(CEe,`documentVerification/${e}Proof/${b.name}`),I=_H(T,b);I.on("state_changed",D=>{const M=D.bytesTransferred/D.totalBytes*100;a(M)},D=>{console.error(D)},async()=>{const D=await bH(I.snapshot.ref);n(D);const M=yt(uM,"users",t);(await _n(M)).exists()&&(e==="ID"?await ct(M,{IDProofUrl:D,IDProofApprove:null}):e==="address"&&await ct(M,{addressProofUrl:D,addressProofApprove:null})),_(!1);const C=yt(uM,"public","verifyDocuments");(await _n(C)).exists()?await ct(C,{unapproved:zw(t)}):await fa(C,{unapproved:zw(t)})})},className:"mr-5 flex-auto rounded border border-solid border-neutral-300 bg-clip-padding py-[0.32rem] px-3 text-base font-normal text-neutral-700 transition duration-300 ease-in-out file:-mx-3 file:-my-[0.32rem] file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100  file:px-3 file:py-[0.32rem] file:text-neutral-700 file:transition file:duration-150 file:ease-in-out file:[margin-inline-end:0.75rem] file:[border-inline-end-width:1px] file:cursor-pointer hover:file:bg-neutral-200 focus:border-primary focus:text-neutral-700 focus:shadow-[0_0_0_1px] focus:shadow-primary focus:outline-none shadow-sm cursor-pointer"})}),p&&x("div",{className:"py-1 text-sm font-medium",children:[o.toFixed(2),"% uploaded"]})]}),l&&h("div",{className:"text-red-500 text-sm",children:u}),g&&h("div",{className:"text-[13px] text-red-500 mt-2",children:"This document was not approved. Please upload a valid document proof."})]})}function mI(){return(mI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var IEe={ac:!0,ad:!0,ae:!0,af:!0,afar:!0,ag:!0,ai:!0,al:!0,am:!0,ao:!0,aq:!0,ar:!0,as:!0,at:!0,au:!0,"au-aboriginal":!0,"au-act":!0,"au-nsw":!0,"au-nt":!0,"au-qld":!0,"au-tas":!0,"au-vic":!0,"au-wa":!0,aw:!0,ax:!0,az:!0,ba:!0,bb:!0,bd:!0,be:!0,bf:!0,bg:!0,bh:!0,bi:!0,bj:!0,bl:!0,bm:!0,bn:!0,bo:!0,"bq-bo":!0,"bq-sa":!0,"bq-se":!0,bq:!0,br:!0,bs:!0,bt:!0,bv:!0,bw:!0,by:!0,bz:!0,"ca-bc":!0,ca:!0,cc:!0,cd:!0,cf:!0,cg:!0,"ch-gr":!0,ch:!0,ci:!0,ck:!0,cl:!0,cm:!0,"cn-xj":!0,cn:!0,co:!0,cp:!0,cq:!0,cr:!0,cu:!0,cv:!0,cw:!0,cx:!0,cy:!0,cz:!0,de:!0,dg:!0,dj:!0,dk:!0,dm:!0,do:!0,dz:!0,ea:!0,earth:!0,east_african_federation:!0,easter_island:!0,"ec-w":!0,ec:!0,ee:!0,eg:!0,eh:!0,er:!0,"es-ar":!0,"es-ce":!0,"es-cn":!0,"es-ct":!0,"es-ga":!0,"es-ib":!0,"es-ml":!0,"es-pv":!0,"es-variant":!0,es:!0,"et-or":!0,"et-ti":!0,et:!0,eu:!0,european_union:!0,ewe:!0,fi:!0,fj:!0,fk:!0,fm:!0,fo:!0,"fr-20r":!0,"fr-bre":!0,"fr-cp":!0,fr:!0,fx:!0,ga:!0,"gb-con":!0,"gb-eng":!0,"gb-nir":!0,"gb-ork":!0,"gb-sct":!0,"gb-wls":!0,gb:!0,gd:!0,"ge-ab":!0,ge:!0,gf:!0,gg:!0,gh:!0,gi:!0,gl:!0,gm:!0,gn:!0,gp:!0,gq:!0,gr:!0,gs:!0,gt:!0,gu:!0,guarani:!0,gw:!0,gy:!0,hausa:!0,hk:!0,hm:!0,hmong:!0,hn:!0,hr:!0,ht:!0,hu:!0,ic:!0,id:!0,"id-jb":!0,"id-jt":!0,ie:!0,il:!0,im:!0,"in-as":!0,"in-gj":!0,"in-ka":!0,"in-or":!0,"in-tn":!0,in:!0,io:!0,iq:!0,ir:!0,is:!0,"it-23":!0,"it-82":!0,"it-88":!0,it:!0,je:!0,jm:!0,jo:!0,jp:!0,kanuri:!0,ke:!0,kg:!0,kh:!0,ki:!0,kikuyu:!0,km:!0,kn:!0,kongo:!0,kp:!0,kr:!0,kurdistan:!0,kw:!0,ky:!0,kz:!0,la:!0,lb:!0,lc:!0,li:!0,lk:!0,lr:!0,ls:!0,lt:!0,lu:!0,lv:!0,ly:!0,ma:!0,malayali:!0,manipur:!0,maori:!0,mc:!0,md:!0,me:!0,mf:!0,mg:!0,mh:!0,mizoram:!0,mk:!0,ml:!0,mm:!0,mn:!0,mo:!0,mp:!0,mq:!0,mr:!0,ms:!0,mt:!0,mu:!0,mv:!0,mw:!0,mx:!0,my:!0,mz:!0,na:!0,nato:!0,nc:!0,ne:!0,nf:!0,ng:!0,ni:!0,"nl-fr":!0,nl:!0,no:!0,northern_cyprus:!0,np:!0,nr:!0,nu:!0,nz:!0,occitania:!0,olympics:!0,om:!0,otomi:!0,pa:!0,pe:!0,pf:!0,pg:!0,ph:!0,"pk-jk":!0,"pk-sd":!0,pk:!0,pl:!0,pm:!0,pn:!0,pr:!0,ps:!0,"pt-20":!0,"pt-30":!0,pt:!0,pw:!0,py:!0,qa:!0,quechua:!0,re:!0,ro:!0,rs:!0,ru:!0,"ru-ba":!0,"ru-ce":!0,"ru-cu":!0,"ru-da":!0,"ru-ko":!0,"ru-ta":!0,"ru-ud":!0,rw:!0,sa:!0,sami:!0,sb:!0,sc:!0,sd:!0,se:!0,sg:!0,"sh-ac":!0,"sh-hl":!0,"sh-ta":!0,sh:!0,si:!0,sj:!0,sk:!0,sl:!0,sm:!0,sn:!0,so:!0,somaliland:!0,south_ossetia:!0,soviet_union:!0,sr:!0,ss:!0,st:!0,su:!0,sv:!0,sx:!0,sy:!0,sz:!0,ta:!0,tc:!0,td:!0,tf:!0,tg:!0,th:!0,tibet:!0,tj:!0,tk:!0,tl:!0,tm:!0,tn:!0,to:!0,torres_strait_islands:!0,tr:!0,transnistria:!0,tt:!0,tv:!0,tw:!0,tz:!0,ua:!0,ug:!0,uk:!0,um:!0,un:!0,united_nations:!0,"us-hi":!0,us:!0,uy:!0,uz:!0,va:!0,vc:!0,ve:!0,vg:!0,vi:!0,vn:!0,vu:!0,wf:!0,wiphala:!0,ws:!0,xk:!0,xx:!0,ye:!0,yorubaland:!0,yt:!0,za:!0,zm:!0,zw:!0},NEe=["countryCode","cdnUrl"],Kc=function(t){var e=t.countryCode,n=t.cdnUrl,r=function(i,s){if(i==null)return{};var o,a,l={},c=Object.keys(i);for(a=0;a<c.length;a++)s.indexOf(o=c[a])>=0||(l[o]=i[o]);return l}(t,NEe);return Ze.createElement("img",mI({"data-testid":"circle-country-flag"},function(i,s,o){return mI({},o,{title:o.title||i,height:o.height||100,src:""+(s||"https://hatscripts.github.io/circle-flags/flags/")+i+".svg"})}(function(i){return IEe[i]?i:"xx"}(e).toLowerCase(),n,r)))};function SH(){const[t,e]=y.useState(!1),[n,r]=y.useState(null),d=[{id:"us",name:"United States",icon:h(()=>h(Kc,{countryCode:"us",height:"50",width:"50"}),{})},{id:"es",name:"Spain",icon:h(()=>h(Kc,{countryCode:"es",height:"50",width:"50"}),{})},{id:"ar",name:"Arabic",icon:h(()=>h(Kc,{countryCode:"ar",height:"50",width:"50"}),{})},{id:"zh",name:"Chiense",icon:h(()=>h(Kc,{countryCode:"zh",height:"50",width:"50"}),{})},{id:"th",name:"Thai",icon:h(()=>h(Kc,{countryCode:"ar",height:"50",width:"50"}),{})},{id:"hi",name:"Hindi",icon:h(()=>h(Kc,{countryCode:"in",height:"50",width:"50"}),{})},{id:"tr",name:"Turkish",icon:h(()=>h(Kc,{countryCode:"tr",height:"50",width:"50"}),{})}],p=()=>{e(!t)},v=g=>{r(g),localStorage.setItem("flag",JSON.stringify(g.id)),window.location.reload(),p()};return y.useEffect(()=>{const g=JSON.parse(localStorage.getItem("flag"))||"en",_=d.find(R=>R.id==g);r(_),console.log("inside flag",_)},[]),x("div",{className:"custom-flag-select",children:[h("button",{className:"toggle-button",onClick:p,children:n?n.icon:h("button",{class:"circular-button"})}),t&&h("div",{style:{position:"absolute",left:"-130px",top:"-190px"},className:"flags-container",children:d.map(g=>x("div",{className:"flag-card",onClick:()=>v(g),children:[g.icon," ",h("span",{className:"flag-name",children:g.name})]},g.id))})]})}const dM=lr($t),hM=rl($t),TH=({userData:t})=>{const[e,n,r]=wd(hM),[i,s]=y.useState(""),[o,a]=y.useState(""),[l,c]=y.useState(0),[u,d]=y.useState(0),[p,v]=y.useState([]),[g,_]=y.useState(0),[R,E]=y.useState(0),[b,T]=y.useState(0),[I,D]=y.useState(0),[M,$]=y.useState(0),[C,k]=y.useState(0),[O,W]=y.useState(0),[V,z]=y.useState(0),[Y,fe]=y.useState(0),[ge,K]=y.useState(0),[J,Z]=y.useState(0),[Te,ke]=y.useState(!1),[U,ne]=y.useState(!1),[te,ue]=y.useState(!1),[le,Oe]=y.useState(!1),[We,me]=y.useState(!1),[Be,we]=y.useState(0),[nt,rt]=y.useState(0),[wt,_e]=y.useState(0),[Ye,B]=y.useState(!1),[X,re]=ut(BA),[xe,be]=y.useState(null),[pe,De]=y.useState(null),[St,Xe]=y.useState(!1),[Ht,qn]=y.useState(!1),[cn,Cn]=y.useState(!1),[mt,Dn]=y.useState(!1),[Ne,mr]=En(Sn),{formatMessage:st}=bf(),ee=()=>{localStorage.clear(),pU(hM)};console.log(X),console.log(St),console.log(Ht);const q=async()=>{var Gi,si,vs,ys,lo;me(!0);const Le=yt(dM,"users",e.uid),$e=await _n(Le);if($e.exists()){s($e.data().username),$e.data().firstName&&$e.data().lastName&&a($e.data().firstName+" "+$e.data().lastName),d(+$e.data().bonusBalance),c(+$e.data().tokenBalance),$e.data().allGamesPlayed&&(_(+$e.data().allGamesPlayed.total),E(+$e.data().allGamesPlayed.wins),T(+$e.data().allGamesPlayed.loses),D(+$e.data().allGamesPlayed.draws)),$(((Gi=$e.data().reward2status)==null?void 0:Gi.claimedCount)??0),k(((si=$e.data.reward2status)==null?void 0:si.reward2BonusEarned)??0),ne(((vs=$e.data().rewardsClaimed)==null?void 0:vs.reward3)??!1),ue(((ys=$e.data().rewardsClaimed)==null?void 0:ys.reward4)??!1),Oe(((lo=$e.data().rewardsClaimed)==null?void 0:lo.reward5)??!1),z(+$e.data().usersReferred);const gr=Vi(Le,"usersReferred"),Gt=Si(gr),Us=await Ua(Gt);let co=0,ba=0,xa=[];Us.forEach(uo=>{xa.push(uo.data().userId),uo.data().claimed?++co:++ba}),K(co),Z(ba),fe($e.data().referralBonus??0),De($e.data().addressProofUrl??null),qn($e.data().addressProofApprove??null),be($e.data().IDProofUrl??null),Xe($e.data().IDProofApprove??null)}const vt=Vi(Le,"transactions"),Ln=Si(vt),an=await Ua(Ln),Wt=[];an.forEach(gr=>{var Gt,Us;Wt.push({id:gr.id,amount:gr.data().amount,type:gr.data().type,time:(Gt=gr.data().time)==null?void 0:Gt.toDate().toLocaleTimeString(),date:(Us=gr.data().time)==null?void 0:Us.toDate().toLocaleDateString(),timeStamp:gr.data().time})}),Wt.sort((gr,Gt)=>Gt.timeStamp-gr.timeStamp),Wt.length===0?B(!0):B(!1),v(Wt),_e(Math.ceil(Wt.length/5)),me(!1);const $s=yt(dM,"public","settings"),gs=await _n($s);if(gs.exists()){const gr=gs.data();W(gr.reward1)}},Ee=()=>{const Le=[];p.forEach(Wt=>{Le.push({id:Wt.id,amount:Wt.amount,type:Wt.type,time:Wt.time,date:Wt.date})});const $e=pxe.unparse(Le),vt=new Blob([$e],{type:"text/csv;charset=utf-8;"}),Ln=window.URL.createObjectURL(vt),an=document.createElement("a");an.href=Ln,an.setAttribute("download","transactions.csv"),an.click()};function je(Le){return Le.replace(/[^a-zA-Z0-9]/g,"").substring(0,8)}const Ve=()=>{const Le=`https://omo7-739e5.web.app/signup/${t.shortID||je(e.uid)}`;navigator.clipboard.writeText(Le).then(()=>{ke(!Te)}).catch($e=>{console.error("Failed to copy URL to clipboard: ",$e)})},Ge=async()=>{var $s,gs,Gi,si,vs;s(t.username),t.firstName&&t.lastName&&a(t.firstName+" "+t.lastName),d(+t.bonusBalance),c(+t.tokenBalance),t.allGamesPlayed&&(_(+t.allGamesPlayed.total),E(+t.allGamesPlayed.wins),T(+t.allGamesPlayed.loses),D(+t.allGamesPlayed.draws)),$((($s=t.reward2status)==null?void 0:$s.claimedCount)??0),k(((gs=t.reward2status)==null?void 0:gs.reward2BonusEarned)??0),ne(((Gi=t.rewardsClaimed)==null?void 0:Gi.reward3)??!1),ue(((si=t.rewardsClaimed)==null?void 0:si.reward4)??!1),Oe(((vs=t.rewardsClaimed)==null?void 0:vs.reward5)??!1),z(+t.usersReferred);const Le=Vi(userRef,"usersReferred"),$e=Si(Le),vt=await Ua($e);let Ln=0,an=0,Wt=[];vt.forEach(ys=>{Wt.push(ys.data().userId),ys.data().claimed?++Ln:++an}),K(Ln),Z(an),fe(t.referralBonus??0),De(t.addressProofUrl??null),qn(t.addressProofApprove??null),be(t.IDProofUrl??null),Xe(t.IDProofApprove??null)};y.useEffect(()=>{console.log(t,"user data from props"),t?Ge():e&&q()},[e,t]),y.useEffect(()=>{rt(Be*5)},[Be]);const dt=5,at=[];for(let Le=0;Le<wt;++Le)at.push(h("button",{onClick:()=>we(Le),className:`px-3 py-1 border-r border-r-gray-300 ${Le===Be?"active":""}`,children:Le+1},Le));const it=[];if(wt<=dt)it.push(...at);else{const Le=Math.max(Be-Math.floor(dt/2),0),$e=Math.min(Le+dt-1,wt-1);Le>0&&(it.push(h("button",{className:`px-3 py-1 border-r border-r-gray-300 ${Be==0?"active":""}`,onClick:()=>we(0),children:"1"},0)),Le>1&&it.push(h("span",{className:"px-2 py-1 border-r border-r-gray-300",children:"..."},"ellipsis1")));for(let vt=Le;vt<=$e;++vt)it.push(h("button",{onClick:()=>we(vt),className:`px-3 py-1 border-r border-r-gray-300 ${vt===Be?"active":""}`,children:vt+1},vt));$e<wt-1&&($e<wt-2&&it.push(h("span",{className:"px-2 py-1 border-r border-r-gray-300",children:"..."},"ellipsis2")),it.push(h("button",{className:`px-3 py-1 border-r border-r-gray-300 ${Be==wt-1?"active":""}`,onClick:()=>we(wt-1),children:wt},wt-1)))}const Tt=Le=>{be(Le)},Ut=Le=>{De(Le)},vn=()=>{!mt&&rR(e).then(()=>Dn(!0)).catch(Le=>{Le.code==="auth/too-many-requests"&&Dn(!0)})},yn=()=>{mr(!Ne)};return n||We?h(Ms,{}):e?h("div",{style:Ne?{backgroundColor:"black"}:{},children:x("div",{className:" flex flex-col sm:w-[630px] sm:mx-auto my-3",style:Ne?{backgroundColor:"black",border:"1px solid gray"}:{},children:[h(A0,{title:st({id:"My Account"})}),h("div",{className:"w-full flex justify-center text-[13px] px-4",children:h("div",{className:"flex w-fit border border-gray-300 px-3 py-1 bg-white rounded-xl shadow-sm",style:Ne?{backgroundColor:"black",border:"1px solid #F7931A"}:{},children:x("div",{className:"flex font-medium text-[16px] py-[1px] text-gray-600",children:[h("span",{className:"mr-2",style:Ne?{color:"white"}:{},children:(l+u)%1===0?+l+u:(l+u).toFixed(2)}),h(ro,{className:"my-1 w-[20px] h-[18px] text-yellow-500"})]})})}),h("div",{className:"p-[16px] overflow-scroll scrollbar-hide",children:x("div",{className:"flex flex-col",children:[x("div",{className:"flex justify-between mb-5",children:[h("div",{className:"mt-[15px] flex",children:x("div",{className:"w-fit h-fit m-[2px] px-[8px] border border-gray-300 bg-white rounded-md py-1 text-sm",style:Ne?{border:"2px solid #F7931A",color:"white",backgroundColor:"black"}:{},children:["User ID:"," ",h("span",{className:"text-sky-700 font-bold",style:Ne?{color:"#8E8BFF"}:{},children:(t==null?void 0:t.shortID)||je(e==null?void 0:e.uid)})]})}),h("img",{src:e!=null&&e.photoURL?e.photoURL:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png",className:"w-[50px] h-[50px] rounded-full"})]}),h("div",{className:"Profile mb-[30px]",children:x("div",{className:"flex flex-col",children:[h("div",{className:"font-bold bg-gray-500 w-fit px-[10px] py-[5px] text-white rounded-md text-[14px] mb-[7px]",style:Ne?{border:"1px solid #F7931A",backgroundColor:"#F7931A"}:{},children:st({id:"Profile"})}),i!==void 0?x("div",{className:"flex justify-between",children:[h("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:"Username"}),h("span",{style:Ne?{color:"white"}:{},children:i})]}):null,x("div",{className:"flex justify-between",children:[h("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:st({id:"Email"})}),x("span",{className:"flex font-medium",style:Ne?{color:"white"}:{},children:[(t==null?void 0:t.email)||(e==null?void 0:e.email),t!=null&&t.emailVerified||e.emailVerified?h(my,{width:"18px",height:"18px",className:"mt-[5px] ml-[3px] text-green-500"}):h("div",{onClick:()=>Cn(!cn),children:h($b,{width:"18px",height:"18px",className:"mt-[5px] ml-[3px] text-red-400 cursor-pointer"})})]})]}),cn&&!e.emailVerified&&x("div",{className:"flex flex-row-reverse",style:Ne?{color:"white"}:{},children:[h("span",{className:"text-sm text-blue-500 font-medium cursor-pointer",onClick:vn,children:mt?"Verification link sent!":"Send verification link"}),h("div",{className:"text-sm mr-1",children:"Email not verified. "})]}),o!==""&&x("div",{className:"flex justify-between",children:[h("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:"Name"}),h("span",{className:"flex",style:Ne?{color:"white"}:{},children:o})]})]})}),h("div",{className:"Doc",children:x("div",{className:"flex flex-col",children:[X||xe||pe?h("div",{className:"font-bold bg-gray-500 w-fit px-[10px] py-[5px] text-white rounded-md text-[14px] mb-[7px]",style:Ne?{border:"1px solid #F7931A",backgroundColor:"#F7931A"}:{},children:"DOCUMENTS"}):null,(X||xe||pe)&&x("div",{className:"mb-[30px]",children:[x("div",{className:"mb-4",children:[x("div",{className:"font-semibold pb-1 flex",style:Ne?{color:"white"}:{},children:["1. Proof of ID"," ",St==="approved"&&h("div",{children:h(my,{width:"18px",height:"18px",className:"mt-[5px] ml-[10px] text-green-500"})})," ","verified"]}),St===null?h("div",{style:Ne?{color:"white"}:{},children:xe?h("div",{children:h("div",{className:"flex justify-between",children:h("a",{href:xe,target:"_blank",className:"text-blue-600 underline",children:"Uploaded ID proof"})})}):x("div",{children:[h(Jv,{userId:e.uid,type:"ID",onUploadComplete:Tt}),xe&&h("a",{href:xe,target:"_blank",className:"text-blue-600 underline",style:Ne?{color:"white"}:{},children:"Uploaded ID proof"})]})}):St==="declined"?x("div",{children:[h(Jv,{userId:e.uid,type:"ID",onUploadComplete:Tt,declineMsg:!0}),xe&&h("a",{href:xe,target:"_blank",className:"text-blue-600 underline",children:"Uploaded ID proof"})]}):null]}),x("div",{children:[x("div",{className:"font-semibold pb-1 flex",style:Ne?{color:"white"}:{},children:["2. Proof of Address"," ",Ht==="approved"&&h("div",{children:h(my,{width:"18px",height:"18px",className:"mt-[5px] ml-[10px] text-green-500"})})," ","verified"]}),Ht===null?h("div",{children:pe?h("div",{children:h("div",{className:"flex justify-between",children:h("a",{href:pe,target:"_blank",className:"text-blue-600 underline",children:"Uploaded address proof"})})}):h("div",{children:h("div",{children:h(Jv,{userId:e.uid,type:"address",onUploadComplete:Ut})})})}):Ht==="declined"&&x("div",{children:[h(Jv,{userId:e.uid,type:"address",onUploadComplete:Ut,declineMsg:!0}),h("a",{href:pe,target:"_blank",className:"text-blue-600 underline",children:"Uploaded address proof"})]})]})]})]})}),h("div",{className:"Token  mb-[30px]",children:x("div",{className:"flex flex-col",children:[h("div",{className:"font-bold bg-gray-500 w-fit px-[10px] py-[5px] text-white rounded-md text-[14px] mb-[7px]",style:Ne?{border:"1px solid #F7931A",backgroundColor:"#F7931A"}:{},children:st({id:"Theme"})}),h("div",{className:"flex justify-between",children:h("div",{className:"w-[60%]",children:x("div",{className:"flex  justify-between",children:[x("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:[" ",st(Ne?{id:"Dark Mode"}:{id:"Light Mode"})]}),h("span",{className:"flex",style:Ne?{color:"white"}:{},children:h("div",{className:"checkbox_wrapper",style:{display:"flex",alignItems:"center"},children:x("label",{class:"switch",children:[h("input",{type:"checkbox",checked:Ne,onChange:yn,style:{border:"1px solid gray"}}),h("span",{className:"slider"})]})})})]})})})]})}),h("div",{className:"Token  mb-[30px]",children:x("div",{className:"flex flex-col",children:[h("div",{className:"font-bold bg-gray-500 w-fit px-[10px] py-[5px] text-white rounded-md text-[14px] mb-[7px]",style:Ne?{border:"1px solid #F7931A",backgroundColor:"#F7931A"}:{},children:st({id:"Balance"})}),x("div",{className:"flex justify-between",children:[x("div",{className:"w-[60%]",children:[x("div",{className:"flex justify-between",children:[h("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:st({id:"AccountBalance"})}),x("span",{className:"flex",style:Ne?{color:"white"}:{},children:[""," ",l%1==0?l:l.toFixed(2)]})]}),x("div",{className:"flex  justify-between",children:[x("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:[" ",st({id:"BonusBalance"})]}),h("span",{className:"flex",style:Ne?{color:"white"}:{},children:u?x("span",{children:["",u%1==0?u:u.toFixed(2)]}):0})]})]}),h(wn,{to:"/deposit",children:h("div",{className:"w-[100px] mt-[10px]",children:h("button",{className:"bg-red-400 hover:bg-red-500 text-white font-bold py-[5px] px-[15px] rounded-full text-[12px]",style:Ne?{border:"1px solid #0FBE00",background:"linear-gradient(180deg, rgba(15, 190, 0, 0.50) 20.27%, rgba(15, 190, 0, 0.00) 145.45%)"}:{},children:st({id:"Deposit"})})})})]})]})}),h("div",{className:"History  mb-[30px]",children:x("div",{className:"flex flex-col",children:[h("div",{className:"font-bold bg-gray-500 w-fit px-[10px] py-[5px] text-white rounded-md text-[14px] mb-[7px]",style:Ne?{border:"1px solid #F7931A",backgroundColor:"#F7931A"}:{},children:st({id:"History"})}),Ye?h("span",{className:"text-center",style:Ne?{color:"white"}:{},children:"You have not made any transactions yet"}):h("div",{children:x("div",{className:"flex flex-col ",style:Ne?{backgroundColor:"black",color:"white"}:{},children:[x("div",{className:"flex justify-between px-2 py-2 text-[14px]",style:Ne?{backgroundColor:"black",color:"white"}:{},children:[h("span",{className:"flex",style:Ne?{color:"white"}:{},children:"Transactions history"}),h("span",{style:Ne?{color:"white"}:{},className:"underline cursor-pointer",onClick:Ee,children:"Download"})]}),h("div",{className:"flex flex-col",children:h("div",{className:"overflow-x-auto",style:Ne?{backgroundColor:"black",color:"white"}:{},children:h("div",{className:"p-1.5 w-[100%] inline-block align-middle",children:h("div",{className:"overflow-hidden border rounded-lg",children:x("table",{className:"w-[100%] divide-y divide-gray-200",children:[h("thead",{className:"bg-gray-50",style:Ne?{backgroundColor:"black"}:{},children:x("tr",{children:[h("th",{scope:"col",className:"px-4 py-3 text-xs font-bold text-left text-gray-500 uppercase ",style:Ne?{color:"white"}:{},children:"Amount"}),h("th",{scope:"col",className:"px-11 pl-3 py-3 text-xs font-bold text-left text-gray-500 uppercase ",style:Ne?{color:"white"}:{},children:"Type"}),h("th",{scope:"col",className:"pl-3 py-3 text-xs font-bold text-left text-gray-500 uppercase ",style:Ne?{color:"white"}:{},children:"time"})]})}),h("tbody",{className:"divide-y divide-gray-200",children:p.slice(nt,nt+5).map((Le,$e)=>x("tr",{children:[x("td",{className:"pl-5 py-2 text-sm text-gray-800 whitespace-nowrap ",style:Ne?{color:"white"}:{},children:[" ",Le.amount]}),x("td",{className:"py-2 text-sm text-gray-800 whitespace-nowrap",style:Ne?{color:"white"}:{},children:[Le.type.charAt(0).toUpperCase(),Le.type.slice(1)]}),h("td",{className:"py-2 text-sm text-gray-800 whitespace-nowrap",children:x("div",{className:"flex flex-col",children:[h("span",{style:Ne?{color:"white"}:{},children:Le.date}),x("span",{style:Ne?{color:"white"}:{},children:[Le.time," "]})]})})]},$e))})]})})})})}),p.length>5&&h("div",{className:"w-full flex justify-center",children:h("div",{className:"flex w-full",children:x("div",{className:"w-fit flex border-y border-gray-300 rounded-md",children:[h("div",{onClick:()=>Be-1>0?we(Be-1):we(0),className:"border-x py-2 border-x-gray-300 rounded-l-md px-2 cursor-pointer",children:h(ibe,{className:"w-4"})}),it,h("div",{onClick:()=>Be+1<wt?we(Be+1):we(Be),className:"border-r py-2 border-r-gray-300  rounded-r-md px-2 cursor-pointer",children:h(abe,{className:"w-4"})})]})})})]})})]})}),h("div",{className:"Games  mb-[30px]",children:x("div",{className:"flex flex-col",children:[h("div",{className:"font-bold bg-gray-500 w-fit px-[10px] py-[5px] text-white rounded-md text-[14px] mb-[7px]",style:Ne?{border:"1px solid #F7931A",backgroundColor:"#F7931A"}:{},children:st({id:"Games"})}),x("div",{className:"flex justify-between",children:[x("div",{className:"w-[55%]",children:[x("div",{className:"flex justify-between",children:[x("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:[" ",st({id:"Played"})]}),h("span",{className:"flex",style:Ne?{color:"white"}:{},children:g||0})]}),x("div",{className:"flex  justify-between",children:[x("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:[" ",st({id:"Wins"})]}),h("span",{className:"flex ",style:Ne?{color:"white"}:{},children:R||0})]}),x("div",{className:"flex  justify-between",children:[x("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:[" ",st({id:"Losses"})]}),h("span",{className:"flex ",style:Ne?{color:"white"}:{},children:b||0})]}),x("div",{className:"flex  justify-between",children:[h("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:st({id:"Draw"})}),h("span",{className:"flex ",style:Ne?{color:"white"}:{},children:I||0})]})]}),h(wn,{to:"/live",children:h("div",{className:"w-[100px] mt-[20px]",children:h("button",{className:"bg-red-400 hover:bg-red-500 text-white font-bold py-[5px] px-[15px] rounded-full text-[12px]",style:Ne?{border:"1px solid #0FBE00",background:"linear-gradient(180deg, rgba(15, 190, 0, 0.50) 20.27%, rgba(15, 190, 0, 0.00) 145.45%)"}:{},children:st({id:"GoLive"})})})})]})]})}),h("div",{className:"Referrals  mb-[30px]",children:x("div",{className:"flex flex-col",children:[h("div",{className:"font-bold bg-gray-500 w-fit px-[10px] py-[5px] text-white rounded-md text-[14px] mb-[7px]",style:Ne?{border:"1px solid #F7931A",backgroundColor:"#F7931A"}:{},children:st({id:"Referrals"})}),x("div",{className:"flex justify-between",children:[x("div",{className:"w-[55%] mr-4",children:[x("div",{className:"flex justify-between",children:[h("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:st({id:"Registered"})}),x("span",{style:Ne?{color:"white"}:{},children:[V||0," "]})]}),x("div",{className:"flex justify-between",children:[x("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:[" ",st({id:"Unclaimed"})]}),x("span",{className:"flex",style:Ne?{color:"white"}:{},children:[" ",J*O]})]}),x("div",{className:"flex justify-between",children:[h("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:"Claimed"}),x("span",{className:"flex",style:Ne?{color:"white"}:{},children:[" ",Y]})]})]}),h("div",{children:x("div",{className:"cursor-pointer h-fit w-fit flex bg-[#E7F1FF] px-3 py-2 font-medium rounded-full shadow-sm",style:Ne?{background:"#44BCFF"}:{},onClick:Ve,children:[h("div",{className:"text-[#3884FF] p-[1px] mr-2 text-[14px]",style:Ne?{color:"white"}:{},children:"Referral Link"}),h("div",{className:"text-blue-400 underline cursor-pointer w-fit",style:Ne?{color:"white"}:{},children:Te?h("i",{className:"fa fa-check"}):h("span",{children:h("i",{className:"fa fa-copy"})})})]})})]})]})}),h("div",{className:"Rewards  mb-[30px]",children:x("div",{className:"flex flex-col",children:[h("div",{className:"font-bold bg-gray-500 w-fit px-[10px] py-[5px] text-white rounded-md text-[14px] mb-[7px]",style:Ne?{border:"1px solid #F7931A",backgroundColor:"#F7931A"}:{},children:st({id:"Rewards"})}),x("div",{className:"flex justify-between",children:[x("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:[st({id:"Reward"})," 1"]}),x("span",{className:"text-gray-500 font-semibold",style:Ne?{color:"white"}:{},children:["Earned ",Y]})]}),x("div",{className:"flex justify-between",children:[x("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:[st({id:"Reward"})," 2"]}),x("span",{className:"text-gray-500 font-semibold",style:Ne?{color:"white"}:{},children:["Earned ",C]})]}),x("div",{className:"flex justify-between",children:[x("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:[st({id:"Reward"})," 3"]}),U?h("span",{className:"text-green-500 font-semibold",children:"Achieved"}):h("span",{className:"text-red-500 font-semibold",children:st({id:"Incomplete"})})]}),x("div",{className:"flex justify-between",children:[x("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:[st({id:"Reward"})," 4"]}),te?h("span",{className:"text-green-500 font-semibold",children:"Achieved"}):h("span",{className:"text-red-500 font-semibold",children:st({id:"Incomplete"})})]}),x("div",{className:"flex justify-between",children:[x("span",{className:"font-semibold",style:Ne?{color:"white"}:{},children:[st({id:"Reward"})," 5"]}),le?h("span",{className:"text-green-500 font-semibold",children:"Achieved"}):h("span",{className:"text-red-500 font-semibold",children:st({id:"Incomplete"})})]})]})}),x("div",{className:"mb-[30px] flex justify-between",children:[h(wn,{to:"/termsConditions",children:h("div",{className:"underline cursor-pointer text-blue-500",children:"Terms and Conditions"})}),h(wn,{to:"/report",children:h("div",{className:"underline text-gray-600 cursor-pointer",style:Ne?{color:"white"}:{},children:"Report Issue"})})]}),x("div",{className:"pb-[60px]",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[x("div",{className:"cursor-pointer font-bold bg-blue-400 w-fit px-[10px] pt-[7px] pb-[0px]  text-white rounded-md text-[14px] flex",onClick:()=>ee(),style:Ne?{width:"120px",height:"40px",border:"1px solid #0FBE00",background:"linear-gradient(180deg, rgba(15, 190, 0, 0.50) 20.27%, rgba(15, 190, 0, 0.00) 145.45%)"}:{width:"120px",height:"40px"},children:[h(J1e,{className:"w-5 h-5 mr-2"}),"Log out"]}),x("div",{style:{marginTop:"-20px"},children:[" ",h(SH,{})," "]})]})]})})]})}):h(yd,{})};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class REe{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="us-central1";class AEe{constructor(e,n,r,i,s=gI,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new REe(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=gI}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function kEe(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}const fM="@firebase/functions",pM="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PEe="auth-internal",DEe="app-check-internal",LEe="messaging-internal";function OEe(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(PEe),a=r.getProvider(LEe),l=r.getProvider(DEe);return new AEe(s,o,a,l,i,t)};Ro(new zi(CH,n,"PUBLIC").setMultipleInstances(!0)),fi(fM,pM,e),fi(fM,pM,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MEe(t=Cf(),e=gI){const r=Cc(qe(t),CH).getImmediate({identifier:e}),i=p1("functions");return i&&FEe(r,...i),r}function FEe(t,e,n){kEe(qe(t),e,n)}OEe(fetch.bind(self));const Mo=lr($t),BEe=MEe($t),$Ee=rl($t),UEe=()=>{const[t,e]=y.useState(0),[n,r]=y.useState(0),[i,s]=y.useState(0),[o,a]=y.useState(0),[l,c]=y.useState(0),[u,d]=y.useState(0),[p,v]=y.useState(0),[g,_]=wd($Ee),[R,E]=y.useState(!1),[b,T]=y.useState(!0),[I,D]=y.useState(0),[M,$]=y.useState(0),[C,k]=y.useState(0),[O,W]=y.useState(!1),[V,z]=y.useState(!0),[Y,fe]=y.useState(Ge()),[ge,K]=y.useState(!1),[J,Z]=y.useState(0),[Te,ke]=y.useState(0),[U,ne]=y.useState([]),[te,ue]=y.useState(!1),[le,Oe]=y.useState(!1),[We,me]=y.useState(1),[Be,we]=y.useState("lose"),[nt,rt]=y.useState(0),[wt,_e]=y.useState(0),[Ye,B]=y.useState(!1),[X,re]=y.useState(!1),[xe,be]=y.useState(!1),[pe,De]=y.useState(!1),[St,Xe]=y.useState(void 0),[Ht,qn]=y.useState(void 0),[cn,Cn]=y.useState(!1),[mt,Dn]=y.useState(0),[Ne,mr]=y.useState(!1),[st,ee]=En(Sn),q=async()=>{const Le=yt(Mo,"public","settings"),$e=await _n(Le);if($e.exists()){const vt=$e.data();e(vt.reward1),s(vt.reward2),r(vt.reward2times),a(vt.reward3),c(vt.reward4),d(vt.reward5Hrs),v(vt.reward5)}},Ee=async()=>{var Ln,an,Wt,$s,gs,Gi,si,vs,ys,lo,gr;const Le=yt(Mo,"public","settings"),$e=await _n(Le),vt=yt(Mo,"users",g.uid);try{const Gt=await _n(vt);if(Gt.exists()){$(Gt.data().bonusBalance),D(Gt.data().tokenBalance);const Us=new Date().toLocaleString("default",{month:"long"}),co=new Date().getFullYear(),ba=`${Us}-${co}`;(Ln=Gt.data().loyaltyRewardClaimed)!=null&&Ln.includes(ba)?z(!0):z(!1);const xa=Vi(vt,"usersReferred"),uo=Si(xa),_d=await Ua(uo);let Mc=0,ll=0,dn=[];_d.forEach(jt=>{dn.push(jt.data().userId),jt.data().claimed?++Mc:++ll}),ne(dn),Z(Mc),ke(ll),k(Gt.data().referralBonus??0),((an=Gt.data().reward2status)==null?void 0:an.current)==="unclaimed"?(Oe(!0),me((Wt=Gt.data().reward2status)==null?void 0:Wt.table),we(($s=Gt.data().reward2status)==null?void 0:$s.result),_e(((gs=Gt.data.reward2status)==null?void 0:gs.reward2BonusEarned)??0)):Oe(!1),rt(((Gi=Gt.data().reward2status)==null?void 0:Gi.claimedCount)??0),(si=Gt.data().rewardsClaimed)!=null&&si.reward3?re(Gt.data().rewardsClaimed.reward3):re(!1),(vs=Gt.data().rewardsClaimed)!=null&&vs.reward4?De(Gt.data().rewardsClaimed.reward4):De(!1),(ys=Gt.data().tableUnlockDeposit)!=null&&ys.star2?Xe(Gt.data().tableUnlockDeposit.star2):Xe(void 0),(lo=Gt.data().tableUnlockDeposit)!=null&&lo.star3?qn(Gt.data().tableUnlockDeposit.star3):qn(void 0),(gr=Gt.data().rewardsClaimed)!=null&&gr.reward5?mr(Gt.data().rewardsClaimed.reward5):mr(!1);const cl=Gt.data().allGamesPlayed.secondsPlayed??1,ul=$e.data().reward5Hrs??10,Nt=cl/3600/ul*100;Dn(Nt)}}catch(Gt){console.log(Gt,"No doc exist!")}T(!1)};y.useEffect(()=>{g&&Ee()},[g]),y.useEffect(()=>{q()},[]),y.useEffect(()=>{const Le=g?yt(Mo,"users",g.uid):null;let $e=null;return Le&&($e=pd(Le,vt=>{vt.exists()?(D(parseFloat(vt.data().tokenBalance)),$(parseFloat(vt.data().bonusBalance))):console.log("No such document!")})),()=>{$e&&$e()}},[I,M]);function je(Le){return Le.replace(/[^a-zA-Z0-9]/g,"").substring(0,8)}y.useEffect(()=>{const Le=setTimeout(()=>{const $e=Ge();fe($e),$e.days===0&&$e.hours===0&&$e.minutes===0&&$e.seconds===0&&Ve()},1e3);return()=>clearTimeout(Le)},[Y]);async function Ve(){const Le=BEe.httpsCallable("sendEmail");try{await Le({userEmail:g.email}),console.log("Email sent successfully.")}catch($e){console.error($e)}}function Ge(){const Le=new Date,$e=Le.getFullYear(),vt=Le.getMonth(),an=+new Date($e,vt+1,1)-+Le;let Wt={};return an>0&&(Wt={days:Math.floor(an/(1e3*60*60*24)),hours:Math.floor(an/(1e3*60*60)%24),minutes:Math.floor(an/1e3/60%60),seconds:Math.floor(an/1e3%60)}),Wt}const dt=()=>{const Le=`https://omo7-739e5.web.app/signup/${je(g.uid)}`;navigator.clipboard.writeText(Le).then(()=>{E(!R)}).catch($e=>{console.error("Failed to copy URL to clipboard: ",$e)})},at=()=>{if(!O){const Le=yt(Mo,"users",g.uid);ct(Le,{bonusBalance:Rr(10)});const $e=new Date().toLocaleString("default",{month:"long"}),vt=new Date().getFullYear(),Ln=`${$e}-${vt}`;ct(Le,{loyaltyRewardClaimed:zw(Ln)})}W(!0)},it=()=>{if(!ge){const Le=yt(Mo,"users",g.uid);ct(Le,{bonusBalance:Rr(Te*t),referralBonus:Rr(Te*t)});const $e=Vi(Le,"usersReferred");U.map(async vt=>{const Ln=Si($e,k2("userId","==",vt)),Wt=(await Ua(Ln)).docs[0];ct(Wt.ref,{claimed:!0})}),Z(J+Te),k(Te*t+C)}K(!0)},Tt=()=>{if(!te){const Le=yt(Mo,"users",g.uid);ct(Le,{bonusBalance:Rr(i)}),ct(Le,{"reward2status.claimedCount":Rr(1),"reward2status.current":"claimed","reward2status.earnedBonus":Rr(i)}),rt(nt+1)}_e(i+wt),ue(!0)},Ut=()=>{if(!Ye){const Le=yt(Mo,"users",g.uid);ct(Le,{bonusBalance:Rr(St*(o/100))}),ct(Le,{"rewardsClaimed.reward3":!0})}B(!0)},vn=()=>{if(!xe){const Le=yt(Mo,"users",g.uid);ct(Le,{bonusBalance:Rr(Ht*(l/100))}),ct(Le,{"rewardsClaimed.reward4":!0})}be(!0)},yn=()=>{if(!cn){const Le=yt(Mo,"users",g.uid);ct(Le,{bonusBalance:Rr(p)}),ct(Le,{"rewardsClaimed.reward5":!0})}Cn(!0)};return g?_||b?h(Ms,{}):h("div",{className:"p-[16px] flex flex-col overflow-scroll bg-gray-50",style:st?{backgroundColor:"black"}:{border:"2px solid red"},children:x("div",{className:"flex flex-col overflow-scroll scrollbar-hide pb-[50px] sm:w-[500px] sm:mx-auto",children:[h(A0,{title:"REWARDS"}),h("div",{className:"flex justify-center",children:h("div",{className:"flex mb-3 w-fit border px-3 py-1 bg-white rounded-xl shadow-sm",style:st?{backgroundColor:"black",border:"1px solid #F7931A"}:{},children:x("div",{className:"flex font-medium text-[16px] py-[1px] text-gray-600",children:[h("span",{className:"mr-2",style:st?{color:"white"}:{},children:(I+M)%1===0?+I+M:(I+M).toFixed(2)}),h(ro,{className:"my-1 w-[20px] h-[18px] text-yellow-500"})]})})}),x("div",{className:"flex flex-col border mb-4 p-3 rounded-lg shadow-sm bg-white",style:st?{backgroundColor:"black",color:"white"}:{},children:[x("div",{className:"flex flex-row justify-between mb-[13px]",children:[h("h1",{className:"text-[16px] font-bold",children:"LOYALTY REWARD"}),x("div",{className:"text-[13px] pt-[2px]",children:[Y.days," days ",Y.hours,":",Y.minutes,":",Y.seconds," left"]})]}),x("div",{className:"flex text-[14px] mb-[13px]",children:[h(Ki,{width:"14px",height:"14px",fill:"gray",className:"mt-[4px] mr-[7px]"}),h("div",{children:"Earn (10) bonus on 1st day of every month"})]}),h("div",{className:"w-fit bg-amber-400 text-white px-[10px] py-[5px] rounded-md text-[13px] font-bold",children:"BONUS 10 / month"}),!V&&h(bs,{children:x("div",{className:"flex flex-col",onClick:at,children:[h("div",{style:st?{backgroundColor:"black",border:"1px solid #F7931A"}:{},className:"h-[35px] text-[15px] cursor-pointer border font-medium w-fit flex bg-gray-100 px-3 py-1 mt-4 rounded-full mr-5 shadow-sm",children:O?h("span",{children:"Claimed! "}):h("span",{children:"Claim Reward "})}),x("span",{className:"text-[12px] mt-[7px] ml-2 flex",children:[h(Ki,{width:"12px",height:"12px",fill:"gray",className:"mt-[3px] mr-[6px] text-gray-200"}),O?h("span",{children:"10 added to your bonus balance!"}):x("span",{children:["Claim loyalty reward for month of"," ",new Date().toLocaleString("default",{month:"long"})]})]})]})})]}),x("div",{className:"flex flex-col border mb-4 p-3 px-4 rounded-lg shadow-sm bg-white",style:st?{color:"white",backgroundColor:"black"}:{},children:[x("div",{className:"flex flex-row justify-between mb-[13px]",children:[h("h1",{className:"font-bold",children:"REWARD 1"}),x("div",{className:"text-[13px] pt-[3px]",children:["Earned  ",C]})]}),x("div",{className:"flex mb-[13px] text-[14px]",children:[h(Ki,{width:"14px",height:"14px",fill:"gray",className:"mt-[4px] mr-[7px]"}),x("div",{children:["Earn (",t,") bonus for each friend you invite"]})]}),x("div",{className:"cursor-pointer w-fit flex bg-[#E7F1FF] px-3 py-2 font-medium rounded-full shadow-sm",onClick:dt,style:st?{backgroundColor:"black",color:"white",border:"1px solid #F7931A"}:{},children:[h("div",{className:"text-[#3884FF] p-[1px] mr-2 text-[14px]",style:st?{backgroundColor:"black",color:"white"}:{},children:"Referral Link"}),h("div",{className:"text-blue-400 underline cursor-pointer w-fit",children:R?h("i",{className:"fa fa-check"}):h("span",{children:h("i",{className:"fa fa-copy"})})})]}),Te>0&&h(bs,{children:x("div",{className:"flex flex-col",onClick:it,children:[h("div",{className:"h-[35px] text-[15px] cursor-pointer border font-medium w-fit flex bg-gray-100 px-3 py-1 mt-4 rounded-full mr-5 shadow-sm",children:ge?h("span",{children:"Claimed! "}):h("span",{children:"Claim Reward "})}),x("span",{className:"text-[12px] mt-[7px] ml-2 flex",children:[h(Ki,{width:"12px",height:"12px",fill:"gray",className:"mt-[3px] mr-[6px] text-gray-200"}),ge?x("span",{children:["",Te*t," added to your bonus balance"]}):x("span",{children:[Te," users signed up using your referral link"]})]})]})})]}),x("div",{className:"flex flex-col border mb-4 p-3 rounded-lg shadow-sm bg-white",style:st?{color:"white",backgroundColor:"black"}:{},children:[x("div",{className:"flex flex-row justify-between mb-[13px]",children:[h("h1",{className:"text-[16px] font-bold",children:"REWARD 2"}),x("div",{className:"text-[13px] pt-[2px]",children:["Earned  ",wt]})]}),x("div",{className:"flex text-[14px] mb-[13px]",children:[h(Ki,{width:"14px",height:"14px",fill:"gray",className:"mt-[4px] mr-[7px]"}),x("div",{children:["Win or lose ",n," times in a row on same table"]})]}),x("div",{className:"w-fit bg-amber-400 text-white px-[10px] py-[5px] rounded-md text-[13px] font-bold",children:["BONUS ",i]}),le&&h(bs,{children:x("div",{className:"flex flex-col",children:[h("div",{className:"h-[35px] text-[15px] cursor-pointer border font-medium w-fit flex bg-gray-100 px-3 py-1 mt-4 rounded-full mr-5 shadow-sm",onClick:Tt,children:te?h("span",{children:"Claimed! "}):h("span",{children:"Claim Reward "})}),x("span",{className:"text-[12px] mt-[7px] ml-2 flex",children:[h(Ki,{width:"12px",height:"12px",fill:"gray",className:"mt-[3px] mr-[6px] text-gray-200"}),te?x("span",{children:["",i," added to your bonus balance!"]}):x("span",{children:["You ",Be," 10 times on table ",We]})]})]})})]}),x("div",{className:"flex flex-col border mb-4 p-3 rounded-lg shadow-sm bg-white",style:st?{color:"white",backgroundColor:"black"}:{},children:[x("div",{className:"flex flex-row justify-between mb-[13px]",children:[h("h1",{className:"text-[16px] font-bold",children:"REWARD 3"}),h("div",{className:"text-[13px] pt-[2px]",children:X||Ye?h("span",{className:"text-green-500 font-semibold",children:"Achieved"}):h("span",{children:"Incomplete"})})]}),x("div",{className:"flex text-[14px] mb-[13px]",children:[h(Ki,{width:"14px",height:"14px",fill:"gray",className:"mt-[4px] mr-[7px]"}),h("div",{children:"Unlock 2 star tables"})]}),x("div",{className:"w-fit bg-amber-400 text-white px-[10px] py-[5px] rounded-md text-[13px] font-bold",children:[o,"% BONUS"]}),St!==void 0&&!X&&h(bs,{children:x("div",{className:"flex flex-col",onClick:Ut,children:[h("div",{className:"h-[35px] text-[15px] cursor-pointer border font-medium w-fit flex bg-gray-100 px-3 py-1 mt-4 rounded-full mr-5 shadow-sm",children:Ye?h("span",{children:"Claimed! "}):h("span",{children:"Claim Reward "})}),x("span",{className:"text-[12px] mt-[7px] ml-2 flex",children:[h(Ki,{width:"12px",height:"12px",fill:"gray",className:"mt-[3px] mr-[6px] text-gray-200"}),Ye?x("span",{children:["",St*(o/100)," added to your bonus balance"]}):x("span",{children:["You deposited ",St," for unlocking 2 stars tables"]})]})]})})]}),x("div",{className:"flex flex-col border mb-4 p-3 rounded-lg shadow-sm bg-white",style:st?{color:"white",backgroundColor:"black"}:{},children:[x("div",{className:"flex flex-row justify-between mb-[13px]",children:[h("h1",{className:"text-[16px] font-bold",children:"REWARD 4"}),h("div",{className:"text-[13px] pt-[2px]",children:pe||xe?h("span",{className:"text-green-500 font-semibold",children:"Achieved"}):h("span",{children:"Incomplete"})})]}),x("div",{className:"flex text-[14px] mb-[13px]",children:[h(Ki,{width:"14px",height:"14px",fill:"gray",className:"mt-[4px] mr-[7px]"}),h("div",{children:"Unlock 3 star tables"})]}),x("div",{className:"w-fit bg-amber-400 text-white px-[10px] py-[5px] rounded-md text-[13px] font-bold",children:[l,"% BONUS"]}),Ht!==void 0&&!pe&&h(bs,{children:x("div",{className:"flex flex-col",onClick:vn,children:[h("div",{className:"h-[35px] text-[15px] cursor-pointer border font-medium w-fit flex bg-gray-100 px-3 py-1 mt-4 rounded-full mr-5 shadow-sm",children:xe?h("span",{children:"Claimed! "}):h("span",{children:"Claim Reward "})}),x("span",{className:"text-[12px] mt-[7px] ml-2 flex",children:[h(Ki,{width:"12px",height:"12px",fill:"gray",className:"mt-[3px] mr-[6px] text-gray-200"}),xe?x("span",{children:["",Ht*(l/100)," added to your bonus balance"]}):x("span",{children:["You deposited ",Ht," for unlocking 3 stars tables"]})]})]})})]}),x("div",{className:"flex flex-col border mb-4 p-3 rounded-lg shadow-sm bg-white",style:st?{color:"white",backgroundColor:"black"}:{},children:[x("div",{className:"flex flex-row justify-between mb-[13px]",children:[h("h1",{className:"text-[16px] font-bold",children:"REWARD 5"}),Ne||cn?h("span",{className:"text-green-500 text-[13px] font-semibold",children:"Achieved"}):x("div",{className:"text-[13px] pt-[2px] font-semibold",children:[mt.toFixed(3),"% completed"]})]}),x("div",{className:"flex text-[14px] mb-[13px]",children:[h(Ki,{width:"14px",height:"14px",fill:"gray",className:"mt-[4px] mr-[7px]"}),x("div",{children:["Play ",u," hours on any tables"]})]}),x("div",{className:"w-fit bg-amber-400 text-white px-[10px] py-[5px] rounded-md text-[13px] font-bold",children:["BONUS ",p]}),mt===100&&!Ne&&h(bs,{children:x("div",{className:"flex flex-col",onClick:yn,children:[h("div",{className:"h-[35px] text-[15px] cursor-pointer border font-medium w-fit flex bg-gray-100 px-3 py-1 mt-4 rounded-full mr-5 shadow-sm",children:cn?h("span",{children:"Claimed! "}):h("span",{children:"Claim Reward "})}),x("span",{className:"text-[12px] mt-[7px] ml-2 flex",children:[h(Ki,{width:"12px",height:"12px",fill:"gray",className:"mt-[3px] mr-[6px] text-gray-200"}),cn?x("span",{children:["",p," added to your bonus balance!"]}):x("span",{children:["You played for ",u," hours on all tables"]})]})]})})]})]})}):h(yd,{})},VEe=()=>{const t=SA(),{register:e}=t;return{fields:{email:{...e("email",{required:{value:!0,message:"Enter the required field"},pattern:{value:/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,message:"Please enter valid email format"}})},password:{...e("password",{required:{value:!0,message:"Enter the required field"}})}},...t}},jEe="/assets/OMOGif-cb8af76b.gif",fS=rl($t),mM=lr($t),zEe=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(""),[o,a]=y.useState(""),[l,c]=y.useState(!1),[u,d]=y.useState(""),[p,v]=y.useState(!1),[g,_]=y.useState(""),[R,E]=y.useState(!1);y.useState(!1);const[b,T]=En(Sn),[I]=wd(fS),D=xc(),{fields:M,trigger:$,formState:{errors:C},handleSubmit:k,setValue:O}=VEe();function W(K){return K.replace(/[^a-zA-Z0-9]/g,"").substring(0,8)}function V(){return Math.floor(Date.now()/1e3)}const z=()=>{const K=yt(mM,"users",I.uid);fa(K,{email:I.email,name:I.displayName,tokenBalance:0,bonusBalance:10,shortID:W(I.uid),registeredAt:V()}),localStorage.setItem("userAuthID",I.uid),D("/live")};y.useEffect(()=>{I&&(I.providerData[0].providerId==="google.com"?_n(yt(mM,"users",I.uid)).then(K=>{K.exists()?(localStorage.setItem("userAuthID",I.uid),D("/live")):z(),a(!1)}).catch(K=>{console.error("Error checking user:",K)}):I.email==="omo6042game@gmail.com"||I.email==="rainy8882399321@gmail.com"?(localStorage.setItem("adminAuthID",I.uid),D("/admin/activeUsers"),a(!1)):(localStorage.setItem("userAuthID",I.uid),D("/live"),a(!1)))},[I]);const Y=()=>{a(!0),dU(fS,t,n).then(K=>{}).catch(K=>{K.code==="auth/wrong-password"?s("Wrong Password. Please try again."):K.code==="auth/user-not-found"?s("User with this email address does not exist"):s(K.message.substring(9).split(new RegExp("\\((.*)\\)"))[0]),a(!1)})},fe=async()=>{try{/\S+@\S+\.\S+/.test(u)||(v(!0),_("Please enter valid email address")),await lU(fS,u),E(!0)}catch(K){K.code==="auth/user-not-found"?(v(!0),_("This user account does not exist")):console.log("Error sending password reset email:",K)}},ge=K=>{d(K.target.value),v(!1)};return h("div",{className:"lg:w-full lg:h-[100vh] flex",style:b?{backgroundColor:"black",height:"100vh"}:{},children:x("div",{className:"w-full px-8 md:w-[70%] md:mx-auto lg:w-[35%] lg:px-[50px]",children:[h("div",{class:"container",children:h(SH,{})}),h("div",{className:"w-full flex justify-center py-[25px]",children:b?h("img",{src:jEe,style:{width:"15rem"}}):h("img",{src:zN,className:"h-[75px] w-[250px]"})}),l?x("div",{children:[h("div",{className:"font-medium text-lg mb-4 text-center",style:b?{color:"white"}:{},children:"Forgot your password?"}),R?x("div",{className:"my-7 text-sm sm:text-md text-center",children:[x("div",{children:["Message has been sent to ",u,"."]}),h("p",{children:"Please check your email and follow the link to restore your account and password."})]}):x("div",{children:[h("div",{className:"mb-5",style:b?{color:"white"}:{},children:"Enter your email and we'll send you a link to reset password and get back into your account."}),x("div",{className:"mb-5",children:[x("div",{className:"mb-4",children:[x("label",{className:"font-medium text-[14px] flex mb-[3px]",style:b?{color:"white"}:{},children:["Email ",h("div",{className:"text-red-700",children:"*"})]}),h("input",{className:`block text-[14px] appearance-none rounded-[3px] text-[#182021] font-normal placeholder-gray-400 border p-[8px]
                     hover:outline-none hover:ring-0 
                    ${p?"hover:border-[#D86161] hover:ring-[#D86161] border-[#D86161] focus:border-[#D86161] focus:ring-[#D86161]":"hover:border-[#00A1FF] hover:ring-[#00A1FF] border-gray-300 focus:border-[#00A1FF] hover:ring-[1px] focus:ring-[#00A1FF]"}
                    focus:outline-none focus:ring-[1.5px]`,style:b?{border:"1px solid #F7931A",width:"100%",background:"#000",boxShadow:"0px 1px 1px 0px rgba(247, 147, 26, 0.50)",width:"100%",height:"33px"}:{width:"100%",height:"33px"},placeholder:"someone@example.com",value:u,onChange:K=>ge(K)}),p&&h("div",{className:"text-[12px] text-red-700",children:g})]}),x("button",{type:"submit",className:"w-full mt-[10px] text-white bg-[#000000] hover:bg-gray-800 focus:outline-none font-medium rounded-md px-5 py-2.5 mr-2 mb-2",onClick:fe,style:b?{border:"1px solid #DD7900",width:"55%",transform:"skew(-25deg)",backgroundColor:"#F7931A",borderRadius:"0",position:"relative",left:"22%"}:{},children:["Restore Password",b&&h("div",{style:{border:"3px solid black",width:"13.6rem",height:"4.5rem",position:"absolute",top:"-0.8rem",left:"1.1rem",transform:"skew(-6deg)"}})]})]})]}),h("div",{className:"w-full flex justify-center",children:x("div",{className:"text-[#00A1FF] text-sm font-semibold hover:underline cursor-pointer",style:b?{color:"white",fontWeight:"700",gap:"0.35rem",display:"flex",alignItems:"center",textDecoration:"none"}:{},children:["Back to"," ",h("span",{onClick:()=>c(!1),style:b?{border:"2px solid #0FBE00",width:"8rem",textAlign:"center",borderRadius:"0.625rem",height:"2.5rem",background:"linear-gradient(180deg, rgba(15, 190, 0, 0.50) 27.27%, rgba(15, 190, 0, 0.00) 145.45%)",boxShadow:" 0px 1px 1px 0px rgba(15, 190, 0, 0.50)",display:"flex",justifyContent:"center",alignItems:"center",textDecoration:"underline"}:{},children:"Sign in"})]})})]}):x("div",{children:[x("form",{onSubmit:k(Y),className:"flex flex-col",children:[h("div",{className:"mb-[14px]",children:h(es,{name:"email",labelText:"Email",labelTextSize:"14px",marginLabelField:"4px",labelStyling:"font-[500] text-gray-500",isRequired:!0,placeholderText:"someone@example.com",height:"36px",width:"100%",setValue:O,validation:{...M.email},errors:C.email,trigger:$,onChangeTrigger:!1,inputState:t,setInputState:e})}),h("div",{className:"mb-[14px]",children:h(es,{name:"password",labelText:"Password",labelTextSize:"14px",marginLabelField:"4px",labelStyling:"font-[500] text-gray-500",inputType:"password",isRequired:!0,placeholderText:"Enter Password",height:"36px",width:"100%",setValue:O,validation:{...M.password},errors:C.password,trigger:$,inputState:n,setInputState:r})}),i&&h("div",{className:"text-[14px] text-[#D86161]",children:i}),x("button",{type:"submit",className:"w-full mt-[10px] text-white bg-[#000000] hover:bg-gray-800 focus:outline-none font-medium rounded-md px-5 py-2.5 mr-2 mb-2",style:b?{border:"1px solid #DD7900",width:"55%",alignSelf:"center",transform:"skew(-25deg)",backgroundColor:"#F7931A",borderRadius:"0",position:"relative"}:{},children:[o?"Loading...":"Sign in",b&&x(bs,{children:[h("div",{style:{border:"2px solid black",height:"4.5rem",position:"absolute",top:"-0.8rem",left:"1.1rem",transform:"skew(-6deg)"}}),h("div",{style:{border:"2px solid black",height:"4.5rem",position:"absolute",top:"-0.8rem",right:"1.1rem",transform:"skew(-6deg)"}})]})]})]}),h("div",{className:"w-full flex justify-center text-[#00A1FF] mt-3",children:h("div",{className:"w-fit text-[#00A1FF] text-sm font-semibold hover:underline cursor-pointer",children:h("div",{onClick:()=>c(!0),children:"Forgot Password?"})})}),x("div",{className:"flex my-[20px] md:my-[10px]",children:[h("hr",{className:"w-[45%] mt-[9px] h-[2px] mx-auto bg-gray-300 border-0 rounded lg:my-7"}),h("span",{className:"text-gray-500 text-[13px] lg:my-5",children:"or"}),h("hr",{className:"w-[45%] mt-[9px] h-[2px] mx-auto  bg-gray-300 border-0 rounded lg:my-7"})]}),x("div",{className:"w-full flex justify-center my-7 text-gray-700",style:b?{alignItems:"center"}:{},children:[h("span",{className:"mr-[5px]",style:b?{color:"white",fontWeight:"600"}:{},children:"Don't have an account?"}),h(wn,{to:"/signup",style:b?{border:"2px solid #0FBE00",width:"8rem",textAlign:"center",borderRadius:"0.625rem",height:"2.5rem",background:"linear-gradient(180deg, rgba(15, 190, 0, 0.50) 27.27%, rgba(15, 190, 0, 0.00) 145.45%)",boxShadow:" 0px 1px 1px 0px rgba(15, 190, 0, 0.50)",display:"flex",justifyContent:"center",alignItems:"center"}:{},children:h("span",{className:"text-[#00A1FF] font-bold hover:underline",style:b?{color:"white"}:{},children:"Sign up"})})]})]})]})})},HEe=()=>{const t=SA(),{register:e}=t;return{fields:{email:{...e("email",{required:{value:!0,message:"Enter the required field"},pattern:{value:/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,message:"Please enter valid email format"}})},username:{...e("username",{required:{value:!0,message:"Enter the required field"}})},password:{...e("password",{required:{value:!0,message:"Enter the required field"}})},dobDate:{...e("dobDate",{required:{value:!0,message:"Select Date"}})},dobMonth:{...e("dobMonth",{required:{value:!0,message:"Select Month"}})},dobYear:{...e("dobYear",{required:{value:!0,message:"Select Year"}})},agreeTnC:{...e("agreeTnC",{required:{value:!0,message:"Check the required field"}})},signupCode:{...e("signupCode",{required:{value:!1}})}},...t}},WEe=({control:t,name:e,type:n,label:r,error:i,defaultValue:s=!1,rules:o,required:a=!1})=>{const{field:{onChange:l,onBlur:c,value:u}}=$j({name:e,control:t,rules:o,defaultValue:s}),[d,p]=En(Sn);return x("div",{children:[x("label",{children:[h("input",{type:"checkbox",onChange:v=>l(v.target.checked),checked:u}),n==="termsConditions"?x("span",{className:"ml-2 text-[15px]",style:d?{color:"white"}:{},children:["I agree and understand the"," ",h(wn,{to:"/termsConditions",className:"text-blue-500 underline",target:"_blank",style:d?{color:"#44BCFF"}:{},children:"terms & conditions"}),h("span",{className:"text-red-500",children:"*"})]}):x("span",{className:"ml-2 text-[15px]",children:[r,a&&h("span",{className:"text-red-500",children:"*"})]})]}),i&&h("div",{className:"mt-[4px] text-[12px] text-[#D86161]",children:i.message})]})},GEe="/assets/OmoLogo-55872779.gif",gM=rl($t),pS=lr($t),vM=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState("");y.useState("");const[o,a]=y.useState(void 0),[l,c]=y.useState(""),[u,d]=y.useState(""),[p,v]=y.useState(""),[g,_]=y.useState(""),[R,E]=y.useState(!1),[b,T]=y.useState(""),[I,D]=y.useState(!1),M=xc(),$=Dh().referrerID,[C,k]=wd(gM),[O,W]=En(Sn),{fields:V,trigger:z,control:Y,formState:{errors:fe},handleSubmit:ge,setValue:K}=HEe(),J=async te=>{E(!0),a(void 0),uU(gM,t,i).then(ue=>{rR(ue.user)}).catch(ue=>{ue.code==="auth/email-already-in-use"?_("This email address is already in use"):ue.code==="auth/weak-password"?_(ue.message.substring(9).split(new RegExp("\\((.*)\\)"))[0]):_(ue.message),E(!1)})};function Z(te){return te.replace(/[^a-zA-Z0-9]/g,"").substring(0,8)}const Te=()=>{},ke=async()=>{const te=Si(Vi(pS,"users"),k2("shortID","==",$)),ue=await Ua(te);if(ue.size>0){const le=ue.docs[0],Oe=yt(Vi(le.ref,"usersReferred"));await fa(Oe,{userId:C.uid,claimed:!1}),ct(le.ref,{usersReferred:Rr(1)})}else console.log("referrer id does not exist")};function U(){return Math.floor(Date.now()/1e3)}const ne=()=>{const te=yt(pS,"users",C.uid);fa(te,{email:C.email,name:C.displayName,username:n,tokenBalance:0,bonusBalance:10,shortID:Z(C.uid),referrerID:$||null,registeredAt:U(),dob:l.title+" "+u.title+" "+p.title,signupCode:b||null}),$&&ke(),localStorage.setItem("userAuthID",C.uid),M("/live")};return y.useEffect(()=>(C&&_n(yt(pS,"users",C.uid)).then(te=>{te.exists()?(localStorage.setItem("userAuthID",C.uid),M("/live")):ne(),E(!1)}).catch(te=>{console.error("Error checking user:",te)}),()=>{}),[C]),h("div",{className:"lg:w-full lg:h-[100vh] flex",style:O?{backgroundColor:"black",height:"100vh",overflow:"scroll"}:{height:"100vh",overflow:"scroll"},children:x("div",{className:"w-full px-8 md:w-[70%] md:mx-auto lg:w-[35%] lg:px-[50px]  overflow-scroll scrollbar-hide",children:[h("div",{className:"w-full flex justify-center py-[25px]",children:O?h("img",{src:GEe,style:{height:"8.6rem",width:"17rem"}}):h("img",{src:zN,className:"h-[75px] w-[250px]"})}),x("form",{onSubmit:ge(J),className:"flex flex-col",children:[h("div",{className:"mb-4",children:h(es,{name:"email",labelText:"Email",labelTextSize:"14px",marginLabelField:"4px",labelStyling:"font-[500] text-gray-500",isRequired:!0,placeholderText:"someone@example.com",height:"36px",width:"100%",setValue:K,validation:{...V.email},errors:fe.email,trigger:z,inputState:t,setInputState:e})}),h("div",{className:"mb-4",children:h(es,{name:"username",labelText:"Username",labelTextSize:"14px",marginLabelField:"4px",labelStyling:"font-[500] text-gray-500",isRequired:!0,placeholderText:"username",height:"36px",width:"100%",setValue:K,validation:{...V.username},errors:fe.username,trigger:z,onChangeTrigger:!0,inputState:n,setInputState:r})}),h("div",{className:"mb-4",children:h(es,{name:"password",labelText:"Password",labelTextSize:"14px",marginLabelField:"4px",labelStyling:"font-[500] text-gray-500",inputType:"password",isRequired:!0,placeholderText:"Create Password",height:"36px",width:"100%",setValue:K,validation:{...V.password},errors:fe.password,customError:o,trigger:z,inputState:i,setInputState:s})}),x("div",{className:"mb-4",children:[x("div",{className:"text-[14px] font-[500] text-[#182021] flex",style:O?{color:"white"}:{},children:["Date of birth",h("span",{className:"text-red-600",children:"*"}),(fe.dobDate||fe.dobMonth||fe.dobYear)&&h($b,{className:"h-[14px] w-[14px] text-[#d76161] font-bold mt-1 ml-1","aria-hidden":"true"})]}),x("div",{className:"flex w-full justify-between",children:[h("div",{className:"w-[33%] mr-4",children:h(Ma,{required:!1,height:"36px",width:"100%",labelStyling:"font-[500]",control:Y,setValue:K,optionData:qj,errors:fe.dobDate,option:l,setOption:c,selectFieldName:"dobDate",selectFieldLabel:"Date of Birth",isRequired:!1,placeholder:"Day",trigger:z,noLabel:!0})}),h("div",{className:"w-[33%] mr-4",children:h(Ma,{required:!1,height:"36px",width:"100%",labelStyling:"font-[500]",control:Y,setValue:K,optionData:Gj,errors:fe.dobMonth,option:u,noLabel:!0,setOption:d,selectFieldName:"dobMonth",selectFieldLabel:"Month of birth",placeholder:"Month",trigger:z})}),h("div",{className:"w-[33%]",children:h(Ma,{required:!1,height:"36px",width:"100%",labelStyling:"font-[500]",control:Y,setValue:K,optionData:TA,errors:fe.dobYear,option:p,noLabel:!0,setOption:v,selectFieldName:"dobYear",selectFieldLabel:"Year of birth",placeholder:"Year",trigger:z})})]})]}),h("div",{className:"mb-4",children:h(WEe,{control:Y,error:fe.agreeTnC,name:"agreeTnC",type:"termsConditions",required:!0})}),x("div",{className:"mb-4",children:[x("label",{children:[h("input",{className:"",type:"checkbox",onChange:te=>D(te.target.checked),checked:I}),x("span",{className:"ml-2 text-[15px]",style:O?{color:"white"}:{},children:["Code"," ",h("span",{style:O?{color:"#44BCFF"}:{},children:"(Optional)"})]})]}),I&&h(es,{name:"signupCode",labelText:"",labelTextSize:"14px",marginLabelField:"4px",labelStyling:"font-[500] text-gray-500",isRequired:!1,placeholderText:"Sign up Code",height:"36px",width:"100%",setValue:K,validation:{...V.signupCode},errors:fe.signupCode,trigger:z,onChangeTrigger:!0,inputState:b,setInputState:T})]}),g&&h("div",{className:"text-[14px] text-[#D86161]",children:g}),h("button",{type:"submit",className:"w-full mt-[10px] text-white bg-[#000000] hover:bg-gray-800 focus:outline-none font-medium rounded-md px-5 py-2.5 mr-2 mb-2",onClick:Te,style:O?{border:"1px solid #DD7900",width:"55%",alignSelf:"center",transform:"skew(-25deg)",backgroundColor:"#F7931A",borderRadius:"0",position:"relative"}:{},children:k||R?h("span",{children:"Loading..."}):x("span",{style:O?{color:"white"}:{},children:["Sign up"," ",O&&x(bs,{children:[h("div",{style:{border:"2px solid black",height:"4.5rem",position:"absolute",top:"-0.8rem",left:"1.1rem",transform:"skew(-6deg)"}}),h("div",{style:{border:"2px solid black",height:"4.5rem",position:"absolute",top:"-0.8rem",right:"1.1rem",transform:"skew(-6deg)"}})]})]})})]}),x("div",{className:"flex my-[20px] md:my-[10px]",children:[h("hr",{className:"w-[45%] mt-[9px] h-[2px] mx-auto bg-gray-300 border-0 rounded lg:my-7"}),h("span",{className:"text-gray-500 text-[13px] lg:my-5",children:"or"}),h("hr",{className:"w-[45%] mt-[9px] h-[2px] mx-auto  bg-gray-300 border-0 rounded lg:my-7"})]}),x("div",{className:"w-full flex justify-center my-7 mb-11 text-gray-700",style:O?{alignItems:"center"}:{},children:[h("span",{className:"mr-[5px]",style:O?{color:"white",fontWeight:"700",textAlign:"right"}:{},children:"Already have an account?"}),h(wn,{to:"/login",style:O?{border:"2px solid #0FBE00",width:"8rem",textAlign:"center",borderRadius:"0.625rem",height:"2.5rem",background:"linear-gradient(180deg, rgba(15, 190, 0, 0.50) 27.27%, rgba(15, 190, 0, 0.00) 145.45%)",boxShadow:" 0px 1px 1px 0px rgba(15, 190, 0, 0.50)",display:"flex",justifyContent:"center",alignItems:"center"}:{},children:h("span",{className:"text-[#00A1FF] font-bold hover:underline",style:O?{color:"white"}:{},children:"Sign in"})})]})]})})},qEe=lr($t),KEe=Oa($t),QEe=async(t,e,n)=>{const r=e==="1"?1:e==="2"?5:e==="3"?10:e==="4"?25:e==="5"?50:100,i=yt(qEe,"users",t),s=await _n(i);s.exists()&&Number(s.data().tokenBalance)>=r&&n("/live")},YEe=()=>{const t=Dh().number;Dh().error;const e=xc(),n=localStorage.getItem("userAuthID"),[r,i]=y.useState(0),[s,o]=y.useState(!1),a=()=>{t==="1"?i(.25):t==="2"?i(.5):t==="3"?i(1):t==="4"?i(5):t==="5"?i(10):t==="6"?i(25):t==="7"?i(50):t==="8"?i(100):t==="9"&&i(500)};return y.useEffect(()=>{a();const l=tn(KEe,`users/table${t}/players/${n}`);return r_(l),QEe(n,t,e),()=>{}},[]),s?h(Ms,{}):x(bs,{children:[h("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:h("div",{className:"relative  w-[320px]",children:x("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[h("div",{className:"flex items-start justify-between px-5 py-3 border-b border-solid border-slate-200 rounded-t",children:h("h3",{className:"text-lg font-semibold text-red-500",children:"Not enough token balance"})}),h("div",{className:"relative flex-auto",children:x("p",{className:"mx-5 my-3 text-gray-900 text-md leading-relaxed",children:["Please have your token balance atleast"," ",x("span",{className:"font-semibold",children:[r," ",r>1?h("span",{children:"tokens "}):h("span",{children:"token"})," "]}),"to continue playing this game."]})}),x("div",{className:"flex items-center justify-end p-3 border-t border-solid border-slate-200 rounded-b",children:[h("button",{className:"text-red-400 background-transparent font-bold uppercase px-6 py-2 text-[13px] outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>e("/live"),children:"Close"}),x("button",{type:"button",className:"bg-amber-400 cursor-pointer text-[13px] flex w-fit text-white font-bold py-2 px-3 rounded-full active:border-green-300",onClick:()=>e("/deposit"),children:[h("span",{className:"mr-1",children:"DEPOSIT "}),h(yN,{className:"w-5 h-5 text-white"})]})]})]})})}),h("div",{className:"opacity-60 fixed inset-0 z-40 bg-black"})]})};var XEe=function(t,e,n){var r=y.useRef(t);return y.useEffect(function(){e(t,r.current)||(r.current=t,n&&n())}),r},JEe=function(t,e){var n=!t&&!e,r=!!t&&!!e&&t.isEqual(e);return n||r},ZEe=function(t,e){return XEe(t,JEe,e)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jr=function(){return jr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jr.apply(this,arguments)};function Mi(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var IH={loading:!0,value:{keys:[],values:[]}},eSe=function(t,e){switch(e.type){case"add":return e.snapshot?jr(jr({},t),{error:void 0,value:NH(t.value,e.snapshot,e.previousKey)}):t;case"change":return e.snapshot?jr(jr({},t),{error:void 0,value:nSe(t.value,e.snapshot)}):t;case"error":return jr(jr({},t),{error:e.error,loading:!1,value:{keys:void 0,values:void 0}});case"move":return e.snapshot?jr(jr({},t),{error:void 0,value:rSe(t.value,e.snapshot,e.previousKey)}):t;case"remove":return e.snapshot?jr(jr({},t),{error:void 0,value:RH(t.value,e.snapshot)}):t;case"reset":return IH;case"value":return jr(jr({},t),{error:void 0,loading:!1,value:tSe(e.snapshots)});case"empty":return jr(jr({},t),{loading:!1,value:{keys:void 0,values:void 0}});default:return t}},tSe=function(t){if(!t)return{keys:[],values:[]};var e=[],n=[];return t.forEach(function(r){r.key&&(e.push(r.key),n.push(r))}),{keys:e,values:n}},NH=function(t,e,n){if(!e.key)return t;var r=t.keys,i=t.values;if(!n)return{keys:r?Mi([e.key],r,!0):[e.key],values:i?Mi([e],i,!0):[e]};var s=r?r.indexOf(n):0;return{keys:r?Mi(Mi(Mi([],r.slice(0,s+1),!0),[e.key],!1),r.slice(s+1),!0):[e.key],values:i?Mi(Mi(Mi([],i.slice(0,s+1),!0),[e],!1),i.slice(s+1),!0):[e]}},nSe=function(t,e){if(!e.key)return t;var n=t.keys,r=t.values,i=n?n.indexOf(e.key):0;return jr(jr({},t),{values:r?Mi(Mi(Mi([],r.slice(0,i),!0),[e],!1),r.slice(i+1),!0):[e]})},RH=function(t,e){if(!e.key)return t;var n=t.keys,r=t.values,i=n?n.indexOf(e.key):0;return{keys:n?Mi(Mi([],n.slice(0,i),!0),n.slice(i+1),!0):[],values:r?Mi(Mi([],r.slice(0,i),!0),r.slice(i+1),!0):[]}},rSe=function(t,e,n){var r=RH(t,e);return NH(r,e,n)},iSe=function(){return y.useReducer(eSe,IH)},YA=function(t){var e=iSe(),n=e[0],r=e[1],i=ZEe(t,function(){return r({type:"reset"})}),s=i.current;return y.useEffect(function(){if(!s){r({type:"empty"});return}var o=function(E,b){r({type:"add",previousKey:b,snapshot:E})},a=function(E){r({type:"change",snapshot:E})},l=function(E,b){r({type:"move",previousKey:b,snapshot:E})},c=function(E){r({type:"remove",snapshot:E})},u=function(E){r({type:"error",error:E})},d=function(E){r({type:"value",snapshots:E})},p,v=function(E){var b=E.val(),T=b?Object.keys(E.val()).length:0;if(T===0)p=i_(s,o,u),d([]);else{var I=[],D=function(M,$){if(T>0){T--,I.push(M),T===0&&d(I);return}o(M,$)};p=i_(s,D,u)}};jo(s,v,u,{onlyOnce:!0});var g=JC(s,a,u),_=ZC(s,l,u),R=eI(s,c,u);return function(){ih(s,"child_added",p),ih(s,"child_changed",g),ih(s,"child_moved",_),ih(s,"child_removed",R)}},[r,s]),[n.value.values,n.loading,n.error]};const mS=Oa($t),sSe=({index:t,starNum:e,tableNum:n,tableAmount:r,tableTime:i,lockTime:s,minimumLimit:o})=>{var z;const[a]=ut(XA),[l]=ut(JA),[c]=ut(ZA),[u,d]=ut(DH),[p,v]=y.useState(!1);ut(PH);const[g]=ut(kH),[_,R]=ut(LH),[E,b]=ut(OH),[T,I]=ut(MH),D=xc(),[M,$]=En(Sn),[C,k,O]=YA(tn(mS,`users/table${n}/players`)),W=Y=>{var fe=Y==null?void 0:Y.filter((ge,K,J)=>K===J.findIndex(Z=>Z.key===ge.key));return fe},V=()=>{const Y=tn(mS,`timer${n}`);Tg(Y).then(ge=>{ge.val()<=s?(R(!0),I(!0)):(R(!1),I(!1))}),b(r);const fe=localStorage.getItem("userAuthID");Ir(tn(mS,`users/table${n}/players/`+fe),{boxClicked:0}),d(!0),D(`/${i}/table/${n}`)};return y.useEffect(()=>{e===1?v(a):e===2?v(l):e===3&&v(c)},[a,l,c]),h("div",{className:`basis-1/3 ${t===2?"mr-0":"mr-[25px]"}  flex justify-center`,children:x("div",{className:"flex flex-col",children:[x("div",{className:"w-fit",children:[h("div",{className:`${p?"invisible":"visible"} relative z-0 top-[10px] right-[10px] bg-red-600 text-white text-center w-[40px] rounded-full px-[5px] py-[3px] shadow `,children:x("div",{className:"flex justify-center",children:[h(hB,{className:"h-3 w-3 mr-[2px] mt-[4px] text-[17px]"}),h("span",{className:"text-[13px] font-bold",children:(z=W(C))==null?void 0:z.length})]})}),h("div",{style:M&&p?{border:"1px solid #ffbf00",backgroundColor:"transparent",color:"white"}:M&&g>=r?{backgroundColor:"transparent",color:"white",border:"1px solid #0FBE00"}:M&&g<r?{backgroundColor:"transparent",color:"white",border:"1px solid #ffbf00"}:{},className:`${p?"border-gray-200 bg-gray-200":g>=r?"border-[#BFF4BE] bg-[#BFF4BE]":"border-amber-200 bg-amber-200"}  w-[75px] rounded-full px-5 py-6 text-center mb-[15px] mx-auto shadow text-gray-600 font-semibold`,children:r})]}),h("div",{className:"w-full flex justify-center cursor-pointer",children:p?h(xY,{style:M?{color:"#ffbf00"}:{},className:"h-5 w-5 text-gray-500 mr-1"}):g>=r?h("div",{className:"bg-green-400 w-fit h-[28px] font-bold text-center text-white rounded-full py-1 px-3 text-[13px]",onClick:()=>V(),style:M?{backgroundColor:"#0FBE00",color:"white"}:{},children:"JOIN"}):h(wn,{to:"/deposit",children:x("button",{className:"bg-amber-300 flex w-fit h-[28px]  text-white font-bold py-1 px-3 rounded-full text-[13px]",children:["BUY ",h(yN,{className:"h-5 w-4 text-white ml-1"})]})})})]})})},AH="/assets/stopwatch-63e5e3fe.png",oSe="/assets/darkClock-ba47ccb8.svg",aSe=Tn(5),gS=({starNum:t,time:e,lockTime:n=5,tablesData:r,minLimit:i})=>{const[s]=ut(XA),[o]=ut(JA),[a]=ut(ZA),[l,c]=y.useState(!1),[u,d]=ut(aSe),[p,v]=ut(Ub),[g,_]=ut(Vb),[R,E]=ut(jb),[b,T]=ut(zb),I=Array(t).fill(0),[D,M]=En(Sn);return y.useEffect(()=>{t===1?c(!1):t===2?c(o):t===3&&c(a)},[s,o,a]),h("div",{className:D?"border border-lime-200 rounded-md p-3 pb-5 bg-black shadow-sm mb-4":"border border-gray-200 rounded-md p-3 pb-5 bg-white shadow-sm mb-4",onClick:()=>{if(l){d(i),_("Insufficient Funds");const C=`<div class='text-[17px]'>A minimum of <span class='font-semibold'> ${i}</span> deposit is required to unlock tables on this level.</div>`;E(C),T("lockStatus"),v(!0)}},children:x("div",{children:[x("div",{className:"flex justify-between pr-4",children:[x("div",{className:"flex pl-3",children:[h("span",{className:D?"text-[13px] text-blue-500 font-bold py-[4px] mr-2":"text-[13px] text-gray-500 font-bold py-[4px] mr-2",children:"LEVEL"}),I.map((C,k)=>h(uB,{className:"h-6 w-6 text-yellow-400"},k))]}),x("div",{className:"flex",children:[h("img",{src:D?oSe:AH,className:"relative top-[-5%] left-[50%] h-[40px] w-[40px]"}),h("div",{className:"relative z-10 top-[33%] flex flex-col h-fit text-gray-800 font-semibold border border-white rounded-full px-[px] text-[10px] bg-white",style:D?{backgroundColor:"black",color:"white",border:"none"}:{},children:h("span",{className:"text-center",children:e})})]})]}),h("div",{className:"flex w-full pl-3",children:r.map((C,k)=>h(sSe,{index:k,starNum:t,tableTime:e,tableNum:C.tableNum,lockTime:n,tableAmount:C.tableAmount},k))})]})})},lSe="_Main_Page_2z4ok_1",cSe="_Main_Dark_Page_2z4ok_7",uSe="_Main_Section_2z4ok_13",dSe="_Top_Section_2z4ok_27",hSe="_Top_Dark_Section_2z4ok_33",fSe="_Bit_Coin_2z4ok_83",Fd={Main_Page:lSe,Main_Dark_Page:cSe,Main_Section:uSe,Top_Section:dSe,Top_Dark_Section:hSe,Bit_Coin:fSe},vS=lr($t),XA=Tn(!1),JA=Tn(!0),ZA=Tn(!0),kH=Tn(0),PH=Tn(0),DH=Tn(!1),LH=Tn(!1),OH=Tn(0),MH=Tn(!1),yM=()=>{const t=localStorage.getItem("userAuthID"),[e,n]=ut(PH),[r,i]=y.useState(0),[s,o]=ut(kH);ut(XA);const[a,l]=ut(JA),[c,u]=ut(ZA),[d,p]=y.useState(!0),[v,g]=En(Sn),[_,R]=y.useState(10),[E,b]=y.useState(15),[T,I]=y.useState(45),D=[{tableNum:1,tableAmount:.25},{tableNum:2,tableAmount:.5},{tableNum:3,tableAmount:1},{tableNum:4,tableAmount:5},{tableNum:5,tableAmount:10},{tableNum:6,tableAmount:25},{tableNum:7,tableAmount:50},{tableNum:8,tableAmount:100},{tableNum:9,tableAmount:500}],M=async()=>{const $=yt(vS,"users",t),C=await _n($);C.exists()&&(C.data().star2TablesLock!==void 0?l(C.data().star2TablesLock):l(!0),C.data().star3TablesLock!==void 0?u(C.data().star3TablesLock):u(!0));const k=yt(vS,"public","settings"),O=await _n(k);O.exists()&&(R(O.data().level1time),b(O.data().level2time),I(O.data().level3time)),p(!1)};return y.useEffect(()=>{M()},[]),y.useEffect(()=>{const $=t?yt(vS,"users",t):null;let C=null;return $&&(C=pd($,k=>{k.exists()?(n(parseFloat(k.data().tokenBalance)),i(parseFloat(k.data().bonusBalance)),o(parseFloat(k.data().tokenBalance)+parseFloat(k.data().bonusBalance))):console.log("No such document!"),p(!1)})),()=>{C&&C()}},[]),t?d?h(Ms,{}):h("div",{className:v?Fd.Main_Dark_Page:Fd.Main_Page,children:x("div",{className:Fd.Main_Section,children:[h(A0,{title:"CHOOSE TABLE"}),h("div",{className:v?Fd.Top_Dark_Section:Fd.Top_Section,children:h("div",{children:x("div",{children:[h("span",{children:s%1===0?s:s.toFixed(2)}),h(ro,{className:Fd.Bit_Coin})]})})}),h("div",{className:"hidden bg-[#058274] bg-[#033382] bg-[#9E1DAB] bg-[#7416D4] bg-[#08400F] bg-[#24432F] bg-[#3C3819] bg-[#854405] bg-[#240000] bg-[#002424] bg-[#0E192D] bg-[#011924] bg-[#200024] bg-[#292201] bg-[#000000] bg-[#DEDEDE] bg-[#037082] bg-[#796F40] bg-[#8D8D8D]"}),h(kA,{}),h(gS,{starNum:1,lockTime:3,time:_,tablesData:D.slice(0,3),minLimit:.25}),h(gS,{starNum:2,time:E,tablesData:D.slice(3,6),minLimit:5}),h(gS,{starNum:3,time:T,tablesData:D.slice(6,9),minLimit:50})]})}):h(yd,{})},pSe=Oa($t),mSe=({index:t,starNum:e,tableNum:n,tableAmount:r,tableTime:i,lockTime:s,minimumLimit:o})=>{var d;xc();const[a,l,c]=YA(tn(pSe,`users/table${n}/players`));return h("div",{className:`basis-1/3 ${t===2?"mr-0":"mr-[25px]"}  flex justify-center`,children:h("div",{className:"flex flex-col",children:x("div",{className:"w-fit",children:[h("div",{className:" relative z-0 top-[10px] right-[10px] bg-red-400 text-white text-center w-[40px] rounded-full px-[5px] py-[3px] shadow ",children:x("div",{className:"flex justify-center",children:[h(hB,{className:"h-3 w-3 mr-[2px] mt-[4px] text-[17px]"}),h("span",{className:"text-[13px] font-bold",children:(d=(p=>{var v=p==null?void 0:p.filter((g,_,R)=>_===R.findIndex(E=>E.key===g.key));return v})(a))==null?void 0:d.length})]})}),h("div",{className:"border-[#BFF4BE] bg-[#BFF4BE]  w-[75px] rounded-full px-5 py-6 text-center mb-[15px] mx-auto shadow text-gray-600 font-semibold",children:r})]})})})},yS=({starNum:t,time:e,lockTime:n=5,tablesData:r,minLimit:i})=>{const s=Array(t).fill(0);return h("div",{className:"border border-gray-200 rounded-md p-3 pb-5 bg-white shadow-sm mb-4",children:x("div",{children:[x("div",{className:"flex justify-between pr-4",children:[x("div",{className:"flex pl-3",children:[h("span",{className:"text-[13px] text-gray-500 font-bold py-[4px] mr-2",children:"LEVEL"}),s.map((o,a)=>h(uB,{className:"h-6 w-6 text-yellow-400"},a))]}),x("div",{className:"flex",children:[h("img",{src:AH,className:"relative top-[-5%] left-[50%] h-[40px] w-[40px]"}),h("div",{className:"relative z-10 top-[33%] flex flex-col h-fit text-gray-800 font-semibold border border-white rounded-full px-[px] text-[10px] bg-white",children:h("span",{className:"text-center",children:e})})]})]}),h("div",{className:"flex w-full pl-3",children:r.map((o,a)=>h(mSe,{index:a,starNum:t,tableTime:e,tableNum:o.tableNum,lockTime:n,tableAmount:o.tableAmount},a))})]})})},gSe=()=>{const t=localStorage.getItem("adminAuthID"),e=[{tableNum:1,tableAmount:.25},{tableNum:2,tableAmount:.5},{tableNum:3,tableAmount:1},{tableNum:4,tableAmount:5},{tableNum:5,tableAmount:10},{tableNum:6,tableAmount:25},{tableNum:7,tableAmount:50},{tableNum:8,tableAmount:100},{tableNum:9,tableAmount:500}];return t?x("div",{className:"p-4 sm:ml-64",children:[h("div",{className:"flex flex-row-reverse mb-5",children:x("div",{className:"flex flex-col",children:[x("div",{children:[h("span",{children:"Account Balance: __"}),h("span",{})]}),x("div",{children:[h("span",{children:"Total Deposits: __"}),h("span",{})]}),x("div",{children:[h("span",{children:"Total Withdraws: __"}),h("span",{})]})]})}),x("div",{className:"w-[50%] mx-auto",children:[h(yS,{starNum:1,lockTime:3,time:10,tablesData:e.slice(0,3),minLimit:.25}),h(yS,{starNum:2,time:15,tablesData:e.slice(3,6),minLimit:5}),h(yS,{starNum:3,time:45,tablesData:e.slice(6,9),minLimit:50})]})]}):x("div",{className:"flex flex-col justify-center h-[70vh] text-center items-center",children:[h("div",{className:"font-bold text-[21px] mb-[20px]",children:"Not Authorised"}),h(wn,{to:"/login",className:"text-blue-500 font-bold",children:"Go back"})]})};const vSe=lr($t),ySe=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!1),[i,s]=y.useState(""),[o,a]=y.useState([]),[l,c]=y.useState(null);console.log(o);const u=I=>{let D="",M=0;if(I!==void 0)for(const[$,C]of Object.entries(I))C>M&&(M=C,D=$);return D.slice(0,-5)};function d(I){let D=Math.floor(I/86400),M=Math.floor(I/3600)%24,$=Math.floor(I/60)%60,C=I%60;return(D>0?D+"D ":"")+(M<10?"0":"")+M+":"+($<10?"0":"")+$+":"+(C<10?"0":"")+C}const p=I=>{const D=((I==null?void 0:I.table1Count)??0)+((I==null?void 0:I.table2Count)??0)+((I==null?void 0:I.table3Count)??0),M=((I==null?void 0:I.table4Count)??0)+((I==null?void 0:I.table5Count)??0)+((I==null?void 0:I.table6Count)??0),$=((I==null?void 0:I.table7Count)??0)+((I==null?void 0:I.table8Count)??0)+((I==null?void 0:I.table9Count)??0),C=D*10+M*15+$*45;return d(C)},v=async()=>{r(!0);const I=Vi(vSe,"/users"),D=Si(I),M=await Ua(D),$=[];M.forEach(V=>{$.push({id:V.id,data:V.data()})}),console.log("arr",$);const C="/Wallet",k=await Xu.get(C),O=$.map(async V=>{try{const z=V.id,Y=k.data.find(ge=>ge.id===z),fe=Y?Y.data.address:"";console.log({userId:z,walletData:fe}),V.data.walletAddress=fe}catch(z){console.error("Error fetching wallet data:",z),V.data.walletAddress=""}return V}),W=await Promise.all(O);console.log(W),e(W),r(!1)},g=I=>{const D=new Date(I*1e3),M={timeZone:"Europe/Nicosia",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};return D.toLocaleString("en-US",M)},_=I=>{const D=I.target.value.toLowerCase();s(D);const M=t.filter(C=>{console.log(C,"userData in search");const{id:k,data:O}=C,{shortID:W,email:V,name:z,country:Y,registeredAt:fe,walletAddress:ge}=O,K=g(fe);return k.toString().toLowerCase().includes(D)||W&&W.toLowerCase().includes(D)||V&&V.toLowerCase().includes(D)||O.phone&&O.phone.toLowerCase().includes(D)||z&&z.toLowerCase().includes(D)||Y&&Y.toLowerCase().includes(D)||K&&K.toString().toLowerCase().includes(D)||ge&&ge.toLowerCase().includes(D)});a(M),console.log(M);const $=M.length===1?M[0]:null;c($),console.log($)},[R,E]=y.useState("asc"),b=I=>{const D=o&&o.length?o:t;console.log(o,"filteredUsers"),console.log(t,"users"),I=="active"&&(R==="asc"?(D.sort((M,$)=>M.data.tokenBalance-$.data.tokenBalance),E("desc")):(D.sort((M,$)=>$.data.tokenBalance-M.data.tokenBalance),E("asc"))),console.log(D,"sortedData"),a(D)};return console.log(o,"sortedData outside"),y.useEffect(()=>{v()},[]),localStorage.getItem("adminAuthID")?n?h(Ms,{}):h("div",{className:"p-4 sm:ml-64",children:h("div",{className:"flex flex-col",children:h("div",{className:"overflow-x-auto",children:x("div",{className:"p-1.5 w-full inline-block align-middle",children:[h("div",{className:"search-bar",children:h("input",{type:"text",placeholder:"Search users...",value:i,onChange:_})}),h("div",{className:"overflow-hidden border rounded-lg",children:x("table",{className:"min-w-full divide-y divide-gray-200",children:[h("thead",{className:"bg-gray-50",children:x("tr",{children:[h("th",{scope:"col",className:"px-6 py-3 text-xs font-bold text-left text-gray-500 uppercase ",children:"ID"}),h("th",{scope:"col",className:"px-6 py-3 text-xs font-bold text-left text-gray-500 uppercase ",children:"Referred by"}),x("th",{scope:"col",className:"px-6 py-3 text-xs font-bold text-left text-gray-500 uppercase ",children:[h("span",{children:R==="asc"?h("span",{onClick:()=>b("account"),children:""}):h("span",{onClick:()=>b("account"),children:""})}),"Account Balance"]}),h("th",{scope:"col",className:"px-6 py-3 text-xs font-bold text-left text-gray-500 uppercase ",children:"Games"}),x("th",{scope:"col",className:"px-6 py-3 text-xs font-bold text-right text-gray-500 uppercase ",children:[h("span",{children:R==="asc"?h("span",{onClick:()=>b("active"),children:""}):h("span",{onClick:()=>b("active"),children:""})}),"Active Balance"]})]})}),h("tbody",{className:"divide-y divide-gray-200",children:i!==""?o.map((I,D)=>{var M,$,C;return x("tr",{children:[x("td",{className:"px-6 py-4 text-sm text-gray-800 whitespace-nowrap flex flex-col",children:[x("div",{className:"flex",children:["ID:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:h(wn,{to:`/admin/user/${I.id}`,className:"text-blue-600 font-medium",children:I.id})})]}),x("div",{className:"flex",children:["Short ID:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.shortID})]}),x("div",{className:"flex",children:["Registered at:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:g(I.data.registeredAt)==="Invalid Date"?"":g(I.data.registeredAt)})]}),x("div",{className:"flex",children:["Email:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.email})]}),x("div",{className:"flex",children:["Name:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.name})]}),x("div",{className:"flex",children:["Phone:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.phone})]}),x("div",{className:"flex",children:["Country:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.country})]}),x("div",{className:"flex",children:["Wallet Address:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.walletAddress})]})]}),h("td",{className:"px-6 py-4 text-sm text-gray-800 whitespace-nowrap",children:I.data.referrerID}),x("td",{className:"px-6 py-4 text-sm text-gray-800 whitespace-nowrap",children:[x("div",{className:"flex",children:["Current Balance:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.tokenBalance})]}),x("div",{className:"flex",children:["Current Bonus:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:isNaN(I.data.bonusBalance)?0:I.data.bonusBalance})]}),x("div",{className:"flex",children:["Total Deposit:"," ",h("div",{className:"text-blue-600 font-medium ml-2"})]}),x("div",{className:"flex",children:["Total Withdraws:"," ",h("div",{className:"text-blue-600 font-medium ml-2"})]}),x("div",{className:"flex",children:["Total Bonus:"," ",h("div",{className:"text-blue-600 font-medium ml-2"})]})]}),x("td",{className:"px-6 text-sm text-right whitespace-nowrap ",children:[x("div",{className:"flex",children:["Total:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:((M=I.data.allGamesPlayed)==null?void 0:M.total)??0})]}),x("div",{className:"flex",children:["Wins:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:(($=I.data.allGamesPlayed)==null?void 0:$.wins)??0})]}),x("div",{className:"flex",children:["Loses:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:((C=I.data.allGamesPlayed)==null?void 0:C.loses)??0})]}),x("div",{className:"flex",children:["Most Played:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:u(I.data.tablesPlayedCount)})]}),x("div",{className:"flex",children:["Total Time Played:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:p(I.data.tablesPlayedCount)})]})]}),h("td",{className:"px-6 py-4 text-sm font-medium text-right whitespace-nowrap",children:h("a",{className:"text-green-500 hover:text-green-700",href:"#",children:I.data.tokenBalance})})]},D)}):t.map((I,D)=>{var M,$,C;return x("tr",{children:[x("td",{className:"px-6 py-4 text-sm text-gray-800 whitespace-nowrap flex flex-col",children:[x("div",{className:"flex",children:["ID:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:h(wn,{to:`/admin/user/${I.id}`,className:"text-blue-600 font-medium",children:I.id})})]}),x("div",{className:"flex",children:["Short ID:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.shortID})]}),x("div",{className:"flex",children:["Registered at:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:g(I.data.registeredAt)==="Invalid Date"?"":g(I.data.registeredAt)})]}),x("div",{className:"flex",children:["Email:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.email})]}),x("div",{className:"flex",children:["Name:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.name})]}),x("div",{className:"flex",children:["Phone:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.phone})]}),x("div",{className:"flex",children:["Country:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.country})]}),x("div",{className:"flex",children:["Wallet Address:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.walletAddress})]})]}),h("td",{className:"px-6 py-4 text-sm text-gray-800 whitespace-nowrap",children:I.data.referrerID}),x("td",{className:"px-6 py-4 text-sm text-gray-800 whitespace-nowrap",children:[x("div",{className:"flex",children:["Current Balance:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:I.data.tokenBalance})]}),x("div",{className:"flex",children:["Current Bonus:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:isNaN(I.data.bonusBalance)?0:I.data.bonusBalance})]}),x("div",{className:"flex",children:["Total Deposit:"," ",h("div",{className:"text-blue-600 font-medium ml-2"})]}),x("div",{className:"flex",children:["Total Withdraws:"," ",h("div",{className:"text-blue-600 font-medium ml-2"})]}),x("div",{className:"flex",children:["Total Bonus:"," ",h("div",{className:"text-blue-600 font-medium ml-2"})]})]}),x("td",{className:"px-6 text-sm text-right whitespace-nowrap ",children:[x("div",{className:"flex",children:["Total:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:((M=I.data.allGamesPlayed)==null?void 0:M.total)??0})]}),x("div",{className:"flex",children:["Wins:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:(($=I.data.allGamesPlayed)==null?void 0:$.wins)??0})]}),x("div",{className:"flex",children:["Loses:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:((C=I.data.allGamesPlayed)==null?void 0:C.loses)??0})]}),x("div",{className:"flex",children:["Most Played:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:u(I.data.tablesPlayedCount)})]}),x("div",{className:"flex",children:["Total Time Played:"," ",h("div",{className:"text-blue-600 font-medium ml-2",children:p(I.data.tablesPlayedCount)})]})]}),h("td",{className:"px-6 py-4 text-sm font-medium text-right whitespace-nowrap",children:h("a",{className:"text-green-500 hover:text-green-700",href:"#",children:I.data.tokenBalance})})]},D)})})]})})]})})})}):x("div",{className:"flex flex-col justify-center h-[70vh] text-center items-center",children:[h("div",{className:"font-bold text-[21px] mb-[20px]",children:"Not Authorised"}),h(wn,{to:"/login",className:"text-blue-500 font-bold",children:"Go back"})]})},wSe=()=>localStorage.getItem("adminAuthID")?h("div",{className:"p-4 sm:ml-64",children:"Transactions "}):x("div",{className:"flex flex-col justify-center h-[70vh] text-center items-center",children:[h("div",{className:"font-bold text-[21px] mb-[20px]",children:"Not Authorised"}),h(wn,{to:"/login",className:"text-blue-500 font-bold",children:"Go back"})]}),Zv=lr($t),_Se=()=>{const t=localStorage.getItem("adminAuthID"),[e,n]=y.useState([]),[r,i]=y.useState(!0),[s,o]=y.useState(!1),[a,l]=y.useState(!1),c=async()=>{const p=yt(Zv,"public","verifyDocuments"),v=await _n(p);if(n([]),v.data().unapproved){const g=new Set;await Promise.all(v.data().unapproved.map(async _=>{if(!g.has(_)){g.add(_);const R=yt(Zv,"users",_),E=await _n(R),b={userId:_,IDProofUrl:E.data().IDProofUrl,IDProofApprove:E.data().IDProofApprove,addressProofUrl:E.data().addressProofUrl,addressProofApprove:E.data().addressProofApprove,email:E.data().email};n(T=>[...T,b])}}))}i(!1)},u=(p,v)=>{o(!s);const g=yt(Zv,"users",p);ct(g,{IDProofApprove:v})},d=(p,v)=>{l(!a);const g=yt(Zv,"users",p);ct(g,{addressProofApprove:v})};return y.useEffect(()=>{c()},[s,a]),r?h(Ms,{}):t?x("div",{className:"p-4 sm:ml-64",children:[h("div",{className:"font-semibold mb-5 px-3",children:"VERIFY DOCUMENTS"}),e.map((p,v)=>x("div",{className:"border border-gray-300 rounded-lg px-4 py-2 mb-4",children:[x("div",{className:"flex w-[55%] justify-between mb-3",children:[h("div",{className:"font-semibold w-[150px]",children:"User ID"}),h("div",{children:h(wn,{to:`/admin/user/${p.userId}`,className:"text-blue-600 font-medium",children:p.userId})})]}),x("div",{className:"flex w-[55%] justify-between mb-3",children:[h("div",{className:"font-semibold w-[150px]",children:"Email"}),h("div",{children:p.email})]}),x("div",{className:"flex w-[100%] justify-between mb-2",children:[h("div",{className:"font-semibold w-[150px]",children:"ID Proof URL"}),h("a",{href:p.IDProofUrl,className:"text-blue-500 underline pt-1",target:"_blank",children:"Link"}),p.IDProofUrl?p.IDProofApprove?p.IDProofApprove==="approved"?h("div",{className:"font-semibold",children:"Approved"}):p.IDProofApprove==="declined"&&h("div",{className:"font-semibold",children:"Declined"}):x("div",{className:"flex",children:[h("div",{className:"bg-green-400 text-white px-2 py-1 rounded-lg font-medium cursor-pointer mr-3",onClick:()=>u(p.userId,"approved"),children:"Approve"}),h("div",{className:"bg-red-400 text-white px-2 py-1 rounded-lg font-medium cursor-pointer",onClick:()=>u(p.userId,"declined"),children:"Decline"})]}):h("div",{})]}),x("div",{className:"flex w-[100%] justify-between",children:[h("div",{className:"font-semibold w-[150px]",children:"Address Proof URL"}),p.addressProofUrl?h("a",{href:p.addressProofUrl,className:"text-blue-500 underline pt-1",target:"_blank",children:"Link"}):h("div",{className:"text-gray-500 font-semibold",children:"Not Uploaded"}),p.addressProofUrl?p.addressProofApprove?p.addressProofApprove==="approved"?h("div",{className:"font-semibold",children:"Approved"}):p.addressProofApprove==="declined"&&h("div",{className:"font-semibold",children:"Declined"}):x("div",{className:"flex",children:[h("div",{className:"bg-green-400 text-white px-2 py-1 rounded-lg font-medium cursor-pointer mr-3",onClick:()=>d(p.userId,"approved"),children:"Approve"}),h("div",{className:"bg-red-400 text-white px-2 py-1 rounded-lg font-medium cursor-pointer",onClick:()=>d(p.userId,"declined"),children:"Decline"})]}):h("div",{})]})]},v))]}):x("div",{className:"flex flex-col justify-center h-[70vh] text-center items-center",children:[h("div",{className:"font-bold text-[21px] mb-[20px]",children:"Not Authorised"}),h(wn,{to:"/login",className:"text-blue-500 font-bold",children:"Go back"})]})},bSe=()=>localStorage.getItem("adminAuthID")?h("div",{className:"p-4 sm:ml-64",children:"WithdrawRequestPage"}):x("div",{className:"flex flex-col justify-center h-[70vh] text-center items-center",children:[h("div",{className:"font-bold text-[21px] mb-[20px]",children:"Not Authorised"}),h(wn,{to:"/login",className:"text-blue-500 font-bold",children:"Go back"})]}),xSe=lr($t),ESe=()=>{const[t,e]=y.useState(""),n=async()=>{const r=yt(xSe,"public","termsAndConditions");try{const i=await _n(r);i.exists()&&e(i.data().html)}catch(i){console.log(i,"No doc found")}};return y.useEffect(()=>{n()},[]),x("div",{className:"p-3",children:[h("div",{className:"text-center font-bold text-xl pb-5",children:"Terms and Conditions"}),h("div",{dangerouslySetInnerHTML:{__html:t}})]})};var vI=globalThis&&globalThis.__assign||function(){return vI=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vI.apply(this,arguments)},FH={onActivate:Ce.func,onAddUndo:Ce.func,onBeforeAddUndo:Ce.func,onBeforeExecCommand:Ce.func,onBeforeGetContent:Ce.func,onBeforeRenderUI:Ce.func,onBeforeSetContent:Ce.func,onBeforePaste:Ce.func,onBlur:Ce.func,onChange:Ce.func,onClearUndos:Ce.func,onClick:Ce.func,onContextMenu:Ce.func,onCommentChange:Ce.func,onCopy:Ce.func,onCut:Ce.func,onDblclick:Ce.func,onDeactivate:Ce.func,onDirty:Ce.func,onDrag:Ce.func,onDragDrop:Ce.func,onDragEnd:Ce.func,onDragGesture:Ce.func,onDragOver:Ce.func,onDrop:Ce.func,onExecCommand:Ce.func,onFocus:Ce.func,onFocusIn:Ce.func,onFocusOut:Ce.func,onGetContent:Ce.func,onHide:Ce.func,onInit:Ce.func,onKeyDown:Ce.func,onKeyPress:Ce.func,onKeyUp:Ce.func,onLoadContent:Ce.func,onMouseDown:Ce.func,onMouseEnter:Ce.func,onMouseLeave:Ce.func,onMouseMove:Ce.func,onMouseOut:Ce.func,onMouseOver:Ce.func,onMouseUp:Ce.func,onNodeChange:Ce.func,onObjectResizeStart:Ce.func,onObjectResized:Ce.func,onObjectSelected:Ce.func,onPaste:Ce.func,onPostProcess:Ce.func,onPostRender:Ce.func,onPreProcess:Ce.func,onProgressState:Ce.func,onRedo:Ce.func,onRemove:Ce.func,onReset:Ce.func,onSaveContent:Ce.func,onSelectionChange:Ce.func,onSetAttrib:Ce.func,onSetContent:Ce.func,onShow:Ce.func,onSubmit:Ce.func,onUndo:Ce.func,onVisualAid:Ce.func,onSkinLoadError:Ce.func,onThemeLoadError:Ce.func,onModelLoadError:Ce.func,onPluginLoadError:Ce.func,onIconsLoadError:Ce.func,onLanguageLoadError:Ce.func,onScriptsLoad:Ce.func,onScriptsLoadError:Ce.func},SSe=vI({apiKey:Ce.string,id:Ce.string,inline:Ce.bool,init:Ce.object,initialValue:Ce.string,onEditorChange:Ce.func,value:Ce.string,tagName:Ce.string,cloudChannel:Ce.string,plugins:Ce.oneOfType([Ce.string,Ce.array]),toolbar:Ce.oneOfType([Ce.string,Ce.array]),disabled:Ce.bool,textareaName:Ce.string,tinymceScriptSrc:Ce.oneOfType([Ce.string,Ce.arrayOf(Ce.string),Ce.arrayOf(Ce.shape({src:Ce.string,async:Ce.bool,defer:Ce.bool}))]),rollback:Ce.oneOfType([Ce.number,Ce.oneOf([!1])]),scriptLoading:Ce.shape({async:Ce.bool,defer:Ce.bool,delay:Ce.number})},FH),wS=function(t){return typeof t=="function"},wM=function(t){return t in FH},_M=function(t){return t.substr(2)},TSe=function(t,e,n,r,i,s,o){var a=Object.keys(i).filter(wM),l=Object.keys(s).filter(wM),c=a.filter(function(d){return s[d]===void 0}),u=l.filter(function(d){return i[d]===void 0});c.forEach(function(d){var p=_M(d),v=o[p];n(p,v),delete o[p]}),u.forEach(function(d){var p=r(t,d),v=_M(d);o[v]=p,e(v,p)})},CSe=function(t,e,n,r,i){return TSe(i,t.on.bind(t),t.off.bind(t),function(s,o){return function(a){var l;return(l=s(o))===null||l===void 0?void 0:l(a,t)}},e,n,r)},bM=0,BH=function(t){var e=Date.now(),n=Math.floor(Math.random()*1e9);return bM++,t+"_"+n+bM+String(e)},xM=function(t){return t!==null&&(t.tagName.toLowerCase()==="textarea"||t.tagName.toLowerCase()==="input")},EM=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},ISe=function(t,e){return EM(t).concat(EM(e))},NSe=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},RSe=function(t){if(!("isConnected"in Node.prototype)){for(var e=t,n=t.parentNode;n!=null;)e=n,n=e.parentNode;return e===t.ownerDocument}return t.isConnected},SM=function(t,e){t!==void 0&&(t.mode!=null&&typeof t.mode=="object"&&typeof t.mode.set=="function"?t.mode.set(e):t.setMode(e))},yI=globalThis&&globalThis.__assign||function(){return yI=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yI.apply(this,arguments)},ASe=function(t,e,n){var r,i,s=t.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=e.id,s.src=e.src,s.async=(r=e.async)!==null&&r!==void 0?r:!1,s.defer=(i=e.defer)!==null&&i!==void 0?i:!1;var o=function(){s.removeEventListener("load",o),s.removeEventListener("error",a),n(e.src)},a=function(l){s.removeEventListener("load",o),s.removeEventListener("error",a),n(e.src,l)};s.addEventListener("load",o),s.addEventListener("error",a),t.head&&t.head.appendChild(s)},kSe=function(t){var e={},n=function(o,a){var l=e[o];l.done=!0,l.error=a;for(var c=0,u=l.handlers;c<u.length;c++){var d=u[c];d(o,a)}l.handlers=[]},r=function(o,a,l){var c=function(b){return l!==void 0?l(b):console.error(b)};if(o.length===0){c(new Error("At least one script must be provided"));return}for(var u=0,d=!1,p=function(b,T){d||(T?(d=!0,c(T)):++u===o.length&&a())},v=0,g=o;v<g.length;v++){var _=g[v],R=e[_.src];if(R)R.done?p(_.src,R.error):R.handlers.push(p);else{var E=BH("tiny-");e[_.src]={id:E,src:_.src,done:!1,error:null,handlers:[p]},ASe(t,yI({id:E},_),n)}}},i=function(){for(var o,a=0,l=Object.values(e);a<l.length;a++){var c=l[a],u=t.getElementById(c.id);u!=null&&u.tagName==="SCRIPT"&&((o=u.parentNode)===null||o===void 0||o.removeChild(u))}e={}},s=function(){return t};return{loadScripts:r,deleteScripts:i,getDocument:s}},PSe=function(){var t=[],e=function(i){var s=t.find(function(o){return o.getDocument()===i});return s===void 0&&(s=kSe(i),t.push(s)),s},n=function(i,s,o,a,l){var c=function(){return e(i).loadScripts(s,a,l)};o>0?setTimeout(c,o):c()},r=function(){for(var i=t.pop();i!=null;i=t.pop())i.deleteScripts()};return{loadList:n,reinitialize:r}},DSe=PSe(),_S=function(t){var e=t;return e&&e.tinymce?e.tinymce:null},LSe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),y_=globalThis&&globalThis.__assign||function(){return y_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},y_.apply(this,arguments)},OSe=function(t){LSe(e,t);function e(n){var r=this,i,s,o;return r=t.call(this,n)||this,r.rollbackTimer=void 0,r.valueCursor=void 0,r.rollbackChange=function(){var a=r.editor,l=r.props.value;a&&l&&l!==r.currentContent&&a.undoManager.ignore(function(){if(a.setContent(l),r.valueCursor&&(!r.inline||a.hasFocus()))try{a.selection.moveToBookmark(r.valueCursor)}catch{}}),r.rollbackTimer=void 0},r.handleBeforeInput=function(a){if(r.props.value!==void 0&&r.props.value===r.currentContent&&r.editor&&(!r.inline||r.editor.hasFocus()))try{r.valueCursor=r.editor.selection.getBookmark(3)}catch{}},r.handleBeforeInputSpecial=function(a){(a.key==="Enter"||a.key==="Backspace"||a.key==="Delete")&&r.handleBeforeInput(a)},r.handleEditorChange=function(a){var l=r.editor;if(l&&l.initialized){var c=l.getContent();r.props.value!==void 0&&r.props.value!==c&&r.props.rollback!==!1&&(r.rollbackTimer||(r.rollbackTimer=window.setTimeout(r.rollbackChange,typeof r.props.rollback=="number"?r.props.rollback:200))),c!==r.currentContent&&(r.currentContent=c,wS(r.props.onEditorChange)&&r.props.onEditorChange(c,l))}},r.handleEditorChangeSpecial=function(a){(a.key==="Backspace"||a.key==="Delete")&&r.handleEditorChange(a)},r.initialise=function(a){var l,c,u;a===void 0&&(a=0);var d=r.elementRef.current;if(d){if(!RSe(d)){if(a===0)setTimeout(function(){return r.initialise(1)},1);else if(a<100)setTimeout(function(){return r.initialise(a+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var p=_S(r.view);if(!p)throw new Error("tinymce should have been loaded into global scope");var v=y_(y_({},r.props.init),{selector:void 0,target:d,readonly:r.props.disabled,inline:r.inline,plugins:ISe((l=r.props.init)===null||l===void 0?void 0:l.plugins,r.props.plugins),toolbar:(c=r.props.toolbar)!==null&&c!==void 0?c:(u=r.props.init)===null||u===void 0?void 0:u.toolbar,setup:function(g){r.editor=g,r.bindHandlers({}),r.inline&&!xM(d)&&g.once("PostRender",function(_){g.setContent(r.getInitialValue(),{no_events:!0})}),r.props.init&&wS(r.props.init.setup)&&r.props.init.setup(g)},init_instance_callback:function(g){var _,R,E=r.getInitialValue();r.currentContent=(_=r.currentContent)!==null&&_!==void 0?_:g.getContent(),r.currentContent!==E&&(r.currentContent=E,g.setContent(E),g.undoManager.clear(),g.undoManager.add(),g.setDirty(!1));var b=(R=r.props.disabled)!==null&&R!==void 0?R:!1;SM(r.editor,b?"readonly":"design"),r.props.init&&wS(r.props.init.init_instance_callback)&&r.props.init.init_instance_callback(g)}});r.inline||(d.style.visibility=""),xM(d)&&(d.value=r.getInitialValue()),p.init(v)}},r.id=r.props.id||BH("tiny-react"),r.elementRef=y.createRef(),r.inline=(o=(i=r.props.inline)!==null&&i!==void 0?i:(s=r.props.init)===null||s===void 0?void 0:s.inline)!==null&&o!==void 0?o:!1,r.boundHandlers={},r}return Object.defineProperty(e.prototype,"view",{get:function(){var n,r;return(r=(n=this.elementRef.current)===null||n===void 0?void 0:n.ownerDocument.defaultView)!==null&&r!==void 0?r:window},enumerable:!1,configurable:!0}),e.prototype.componentDidUpdate=function(n){var r=this,i,s;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(n),this.editor.initialized)){if(this.currentContent=(i=this.currentContent)!==null&&i!==void 0?i:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==n.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var o=this.editor;o.undoManager.transact(function(){var l;if(!r.inline||o.hasFocus())try{l=o.selection.getBookmark(3)}catch{}var c=r.valueCursor;if(o.setContent(r.props.value),!r.inline||o.hasFocus())for(var u=0,d=[l,c];u<d.length;u++){var p=d[u];if(p)try{o.selection.moveToBookmark(p),r.valueCursor=p;break}catch{}}})}if(this.props.disabled!==n.disabled){var a=(s=this.props.disabled)!==null&&s!==void 0?s:!1;SM(this.editor,a?"readonly":"design")}}},e.prototype.componentDidMount=function(){var n=this,r,i,s,o,a;if(_S(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(i=(r=this.props).onScriptsLoadError)===null||i===void 0||i.call(r,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((s=this.elementRef.current)===null||s===void 0)&&s.ownerDocument){var l=function(){var u,d;(d=(u=n.props).onScriptsLoad)===null||d===void 0||d.call(u),n.initialise()},c=function(u){var d,p;(p=(d=n.props).onScriptsLoadError)===null||p===void 0||p.call(d,u)};DSe.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(a=(o=this.props.scriptLoading)===null||o===void 0?void 0:o.delay)!==null&&a!==void 0?a:0,l,c)}},e.prototype.componentWillUnmount=function(){var n=this,r=this.editor;r&&(r.off(this.changeEvents(),this.handleEditorChange),r.off(this.beforeInputEvent(),this.handleBeforeInput),r.off("keypress",this.handleEditorChangeSpecial),r.off("keydown",this.handleBeforeInputSpecial),r.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(i){r.off(i,n.boundHandlers[i])}),this.boundHandlers={},r.remove(),this.editor=void 0)},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.changeEvents=function(){var n,r,i,s=(i=(r=(n=_S(this.view))===null||n===void 0?void 0:n.Env)===null||r===void 0?void 0:r.browser)===null||i===void 0?void 0:i.isIE();return s?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},e.prototype.beforeInputEvent=function(){return NSe()?"beforeinput SelectionChange":"SelectionChange"},e.prototype.renderInline=function(){var n=this.props.tagName,r=n===void 0?"div":n;return y.createElement(r,{ref:this.elementRef,id:this.id})},e.prototype.renderIframe=function(){return y.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},e.prototype.getScriptSources=function(){var n,r,i=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.async,s=(r=this.props.scriptLoading)===null||r===void 0?void 0:r.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:i,defer:s}]:this.props.tinymceScriptSrc.map(function(c){return typeof c=="string"?{src:c,async:i,defer:s}:c});var o=this.props.cloudChannel,a=this.props.apiKey?this.props.apiKey:"no-api-key",l="https://cdn.tiny.cloud/1/".concat(a,"/tinymce/").concat(o,"/tinymce.min.js");return[{src:l,async:i,defer:s}]},e.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},e.prototype.bindHandlers=function(n){var r=this;if(this.editor!==void 0){CSe(this.editor,n,this.props,this.boundHandlers,function(a){return r.props[a]});var i=function(a){return a.onEditorChange!==void 0||a.value!==void 0},s=i(n),o=i(this.props);!s&&o?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):s&&!o&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},e.propTypes=SSe,e.defaultProps={cloudChannel:"6"},e}(y.Component);const TM=lr($t),MSe=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(!1),[o,a]=y.useState(""),l=async()=>{const p=yt(TM,"public","termsAndConditions");try{const v=await _n(p);v.exists()&&r(v.data().html)}catch(v){console.log(v,"No doc found")}},c=async()=>{s(!0);const p=yt(TM,"public","termsAndConditions"),v=await _n(p);try{v.exists()?await ct(p,{html:t}):await fa(p,{html:t}),a("Saved Successfully!")}catch{}s(!1)};y.useEffect(()=>{l()},[]),y.useEffect(()=>{const p=setTimeout(()=>{a("")},5e3);return()=>clearTimeout(p)},[o]);const u=p=>{e(p)};return localStorage.getItem("adminAuthID")?x("div",{className:"p-4 sm:ml-64",children:[h("div",{className:"text-center font-semibold text-xl pb-5",children:"Set Terms and Conditions"}),h("div",{className:"shadow-lg mb-8",children:h(OSe,{apiKey:"5fdt201c69bf7k7cpnbv6bs05w9qb0fw20qc1tzy95ynl9st",initialValue:n,init:{skin:"snow",height:600,menubar:!1,textcolor_rows:"10",toolbar:"undo redo | styleselect | fontsizeselect| code | bold italic | alignleft aligncenter alignright alignjustify | outdent indent "},onEditorChange:u})}),h("div",{className:"flex  flex-row-reverse mb-4",children:h("div",{className:"flex flex-col",children:h("button",{className:"w-fit bg-blue-500 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-xl",onClick:c,children:i?h("span",{children:"Saving..."}):h("span",{children:"Save"})})})}),h("div",{className:"text-right font-bold text-green-500",children:o})]}):x("div",{className:"flex flex-col justify-center h-[70vh] text-center items-center",children:[h("div",{className:"font-bold text-[21px] mb-[20px]",children:"Not Authorised"}),h(wn,{to:"/login",className:"text-blue-500 font-bold",children:"Go back"})]})},FSe="/assets/gallery-95a98818.svg",BSe="/assets/galleryWhiteTheme-248c61cc.svg",$Se="_Pick_Image_Section_qjad0_1",USe="_Pick_Image_White_Section_qjad0_30",CM={Pick_Image_Section:$Se,Pick_Image_White_Section:USe},VSe=EH($t),IM=lr($t);function jSe(){const t=y.useRef(null),[e,n]=y.useState(null),[r,i]=y.useState(""),[s,o]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(!1),[d,p]=En(Sn),v=localStorage.getItem("userAuthID"),g=()=>{t.current.click()},_=b=>{const T=b.target.files[0];T.size>5*1024*1024?alert("File size should be less than 5 MB"):n(T)},R=b=>{o(b.target.value)};y.useEffect(()=>{const b=setTimeout(()=>{l("")},5e3);return()=>clearTimeout(b)},[a]);const E=async()=>{if(s==="")l("Please add some comment before you submit.");else if(e){u(!0);const b=xH(VSe,`reportedIssues/${e.name}`),T=_H(b,e);T.on("state_changed",I=>{},I=>{},()=>{bH(T.snapshot.ref).then(I=>{i(I);const D=yt(IM,"public","reports");AC(Vi(D,"reportedIssues"),{url:I,comments:s,userId:v,status:"unresolved",time:fg()}).then(()=>{l("Issue Reported successfully, we will get back to you soon!"),u(!1)})})})}else{const b=yt(IM,"public","reports");AC(Vi(b,"reportedIssues"),{comments:s,url:null,userId:v,status:"unresolved",time:fg()}).then(()=>{l("Issue Reported successfully, we will get back to you soon!")})}};return x("div",{children:[h("textarea",{style:d?{border:"1px solid #F7931A",backgroundColor:"black",color:"#9E9E9E"}:{},rows:"3",cols:"50",className:"border border-gray-300 rounded-md w-full px-3 py-2 mb-6 shadow-sm",placeholder:"Add your comments here",onChange:R}),h("br",{}),x("div",{className:"mb-5",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2rem"},children:[h("div",{className:"mb-2 text-sm px-1",style:d?{color:"white",textAlign:"center",fontSize:"0.875rem"}:{},children:"Upload screenshot or related document (optional)"}),h("input",{onChange:_,className:"relative block w-full min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-clip-padding py-[0.32rem] px-3 text-base font-normal text-neutral-700 transition duration-300 ease-in-out file:-mx-3 file:-my-[0.32rem] file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100  file:px-3 file:py-[0.32rem] file:text-neutral-700 file:transition file:duration-150 file:ease-in-out file:[margin-inline-end:0.75rem] file:[border-inline-end-width:1px] hover:file:bg-neutral-200 focus:border-primary focus:text-neutral-700 focus:shadow-[0_0_0_1px] focus:shadow-primary focus:outline-none shadow-sm cursor-pointer",type:"file",id:"formFile",ref:t,style:{display:"none"}}),x("div",{className:d?CM.Pick_Image_Section:CM.Pick_Image_White_Section,onClick:g,children:[d?h("img",{src:FSe,alt:""}):h("img",{src:BSe}),h("p",{children:"Drag & drop or click to upload"})]})]}),h("br",{}),h("div",{className:"flex justify-center mb-3",children:h("button",{onClick:E,className:"w-fit bg-blue-500 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-xl shadow-sm",style:d?{borderRadius:"0.625rem",border:"1.5px solid #0FBE00",background:"linear-gradient(180deg, rgba(15, 190, 0, 0.50) 27.27%, rgba(15, 190, 0, 0.00) 145.45%)",boxShadow:"0px 1px 1px 0px rgba(15, 190, 0, 0.50)"}:{},children:c?h("span",{children:"Sending..."}):h("span",{children:"Submit"})})}),h("span",{className:"",children:a&&a==="Please add some comment before you submit."?h("p",{className:"text-center text-sm text-red-500 font-semibold",children:a}):h("p",{className:"text-center text-sm text-green-500 font-semibold",children:a})})]})}const zSe=()=>{const t=localStorage.getItem("userAuthID"),[e,n]=En(Sn);return t?h("div",{style:e?{width:"100vw",height:"100vh",backgroundColor:"black",color:"white"}:{},children:x("div",{className:"p-5 lg:w-[40%] lg:mx-auto",children:[h("div",{className:"flex",children:h(wn,{to:"/myaccount",children:h("div",{children:h(kz,{className:"w-7 h-7 bg text-gray-500 arrow-svg",style:e?{border:"2px solid goldenrod",borderRadius:"5rem",background:"goldenrod"}:{}})})})}),h("div",{className:"text-center font-bold text-lg mb-7",children:"REPORT ISSUE"}),h("div",{className:"mb-5",style:e?{color:"#FFF"}:{},children:"Please let us know if there is any issue you want to report, or any bug you observe. Thankyou."}),h("div",{children:h(jSe,{})})]})}):h(yd,{})},bS=lr($t),HSe=()=>{const t="blue",[e,n]=y.useState(1),[r,i]=y.useState([]),[s,o]=y.useState([]),[a,l]=y.useState([]),[c,u]=y.useState(!1),d=()=>{const _=Vi(bS,"public","reports","reportedIssues"),R=Si(_,q9("time","desc"));Ua(R).then(E=>{const b=E.docs.map(D=>({id:D.id,...D.data()})),T=b.filter(D=>D.status!=="resolved"),I=b.filter(D=>D.status!=="unresolved");o(T),l(I),i(b)}).catch(E=>{console.log("Error fetching documents: ",E)})},p=async _=>{const R=yt(bS,"public","reports","reportedIssues",_);try{await ct(R,{status:"unresolved"}),console.log("Issue status updated successfully!")}catch(E){console.error("Error updating issue status: ",E)}u(!c)},v=async _=>{const R=yt(bS,"public","reports","reportedIssues",_);try{await ct(R,{status:"resolved"}),console.log("Issue status updated successfully!")}catch(E){console.error("Error updating issue status: ",E)}u(!c)};return y.useEffect(()=>{d()},[c]),localStorage.getItem("adminAuthID")?h("div",{className:"p-4 lg:ml-64",children:h("div",{className:"flex flex-wrap",children:x("div",{className:"w-full",children:[x("ul",{className:"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row",role:"tablist",children:[h("li",{className:"-mb-px mr-2 last:mr-0 flex-auto text-center",children:h("a",{className:"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal "+(e===1?"text-white bg-"+t+"-600":"text-blue-600 bg-white"),onClick:_=>{_.preventDefault(),n(1)},"data-toggle":"tab",href:"#link1",role:"tablist",children:"All"})}),h("li",{className:"-mb-px mr-2 last:mr-0 flex-auto text-center",children:h("a",{className:"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal "+(e===2?"text-white bg-blue-600":"text-"+t+"-600 bg-white"),onClick:_=>{_.preventDefault(),n(2)},"data-toggle":"tab",href:"#link2",role:"tablist",children:"Unresolved"})}),h("li",{className:"-mb-px mr-2 last:mr-0 flex-auto text-center",children:h("a",{className:"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal "+(e===3?"text-white bg-"+t+"-600":"text-"+t+"-600 bg-white"),onClick:_=>{_.preventDefault(),n(3)},"data-toggle":"tab",href:"#link3",role:"tablist",children:"resolved"})})]}),h("div",{className:"relative flex flex-col ",children:h("div",{className:" flex-auto",children:x("div",{className:"tab-content tab-space",children:[h("div",{className:e===1?"block":"hidden",id:"link1",children:h("div",{className:"flex flex-col",children:r.map((_,R)=>x("div",{className:"border px-4 py-5 min-w-0 break-words bg-white w-full mb-6 shadow-sm rounded",children:[x("div",{children:[h("span",{className:"text-blue-500",children:"Comment: "}),h("span",{children:_.comments})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"File URL: "}),_.url?h("span",{children:h("a",{href:_.url,target:"_blank",className:"text-sky-500 underline",children:"Link"})}):h("span",{className:"text-gray-500",children:"No URL attached"})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"User ID: "}),h("span",{children:h(wn,{to:`/admin/user/${_.userId}`,className:"text-blue-600 font-medium",children:_.userId})})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"Time: "}),x("span",{children:[_.time.toDate().toLocaleDateString()," ",_.time.toDate().toLocaleTimeString()]})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"Status: "}),h("span",{children:_.status})]})]},R))})}),h("div",{className:e===2?"block":"hidden",id:"link2",children:h("div",{className:"flex flex-col",children:s.map((_,R)=>x("div",{className:"border px-4 py-5 min-w-0 break-words bg-white w-full mb-6 shadow-sm rounded flex justify-between",children:[x("div",{children:[x("div",{children:[h("span",{className:"text-blue-500",children:"Comment: "}),h("span",{children:_.comments})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"File URL: "}),_.url?h("span",{children:h("a",{href:_.url,target:"_blank",className:"text-sky-500 underline",children:"Link"})}):h("span",{className:"text-gray-500",children:"No URL attached"})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"User ID: "}),h("span",{children:_.userId})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"Time: "}),x("span",{children:[_.time.toDate().toLocaleDateString()," ",_.time.toDate().toLocaleTimeString()]})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"Status: "}),h("span",{children:_.status})]})]}),h("div",{className:"cursor-pointer bg-blue-500 h-fit text-white px-4 py-2 rounded-lg font-semibold",onClick:()=>v(_.id),children:"Resolve"})]},R))})}),h("div",{className:e===3?"block":"hidden",id:"link3",children:h("div",{className:"flex flex-col",children:a.map((_,R)=>x("div",{className:"border px-4 py-5 min-w-0 break-words bg-white w-full mb-6 shadow-sm rounded flex justify-between",children:[x("div",{children:[x("div",{children:[h("span",{className:"text-blue-500",children:"Comment: "}),h("span",{children:_.comments})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"File URL: "}),_.url?h("span",{children:h("a",{href:_.url,target:"_blank",className:"text-sky-500 underline",children:"Link"})}):h("span",{className:"text-gray-500",children:"No URL attached"})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"User ID: "}),h("span",{children:_.userId})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"Time: "}),x("span",{children:[_.time.toDate().toLocaleDateString()," ",_.time.toDate().toLocaleTimeString()]})]}),x("div",{children:[h("span",{className:"text-blue-500",children:"Status: "}),h("span",{children:_.status})]})]}),h("div",{className:"cursor-pointer bg-blue-500 h-fit text-white px-4 py-2 rounded-lg font-semibold",onClick:()=>p(_.id),children:"Unresolve"})]},R))})})]})})})]})})}):x("div",{className:"flex flex-col justify-center h-[70vh] text-center items-center",children:[h("div",{className:"font-bold text-[21px] mb-[20px]",children:"Not Authorised"}),h(wn,{to:"/login",className:"text-blue-500 font-bold",children:"Go back"})]})},NM=({progress:t,timer:e,tableTime:n,outside:r=!1})=>{const a=36*Math.PI,l=a-t/100*a;return x("div",{id:"countdown",children:[h("div",{id:"countdown-number",style:{color:`${n===10?e<=3&&e>-3?"#ef4444":"goldenrod":e<=5&&e>-3?"#ef4444":"goldenrod"}`},children:e}),h("svg",{className:"countdown-svg",children:h("circle",{cx:"20",cy:"20",className:`stroke-current ${t===0?"opacity-0":""}`,strokeWidth:2,fill:"transparent",r:18,style:{strokeDasharray:`${a} ${a}`,strokeDashoffset:l,stroke:`${n===10?e<=3&&e>-3?"#ef4444":"goldenrod":e<=5&&e>-3?"#ef4444":"goldenrod"}`}})})]})},$H={HORIZONTAL:"horizontal orientation",VERTICAL:"vertical orientation"},UH=Object.keys($H);UH[0];UH[1];const WSe=["TURQ_12","GRAY_12"],GSe=["TURQ_12","GRAY_12","PINK_LR","YELLOW_LR"],qSe={BUTTON_COLORED:"button colored",BACKGROUND_COLORED:"background colored"},KSe=["#058274","#033382","#9E1DAB","#7416D4","#08400F","#24432F","#3C3819","#854405","#240000","#002424","#0E192D","#011924","#200024","#292201","#000000","#DEDEDE","#037082","#796F40","#8D8D8D"];function VH(t,e){return Math.floor(Math.random()*(e-t+1))+t}const RM=(t,e,n)=>{const r=VH(e,n);return Object.keys(t)[r].toString()},xS=(t,e,n)=>{const r=VH(e,n);return t[r]},QSe=()=>{var t={};const e=RM($H,0,1);if(e!=="COINMOVE"){const n=xS(KSe,0,18),r=e==="HORIZONTAL"?xS(WSe,0,1):xS(GSe,0,3),i=RM(qSe,0,1);return t={tableType:e,bgColor:n,buttonsType:r,resultType:i},t}else return t={tableType:"COINMOVE"},t},YSe="_MainBlock_11hpr_1",XSe="_LockIcon_11hpr_8",JSe="_WinLose_11hpr_14",ZSe="_BonusWinner_11hpr_18",Op={MainBlock:YSe,LockIcon:XSe,WinLose:JSe,BonusWinner:ZSe},Bd=({message:t,scale:e,bonus:n,draw:r})=>{const[i,s]=y.useState(!1);return y.useEffect(()=>{const o=setTimeout(()=>{s(!0)},500);return()=>{clearTimeout(o)}},[]),y.useEffect(()=>{const o=setTimeout(()=>{s(!1)},2350);return()=>{clearTimeout(o)}},[]),h("div",{className:Op.MainBlock,children:e==1?i&&h("img",{style:{transform:`scale(${e})`},className:n?Op.BonusWinner:r?Op.DrawIcon:Op.WinLose,src:t}):h("img",{className:Op.LockIcon,style:{transform:`scale(${e})`},src:t})})},eTe="/assets/left-6eaf223f.png",tTe="/assets/top-be0fb83b.png",nTe="/assets/right-59231292.png",rTe="/assets/bottom-56392036.png",iTe="/assets/left-d50fc55a.png",sTe="/assets/top-a04d8b40.png",oTe="/assets/right-3c384e57.png",aTe="/assets/bottom-abcc4796.png",lTe="_BonusFree_1bywn_1",cTe="_NotVisible_1bywn_8",uTe="_BonusImage_1bywn_13",ES={BonusFree:lTe,NotVisible:cTe,BonusImage:uTe},AM=({message:t,messageStyle:e,type:n})=>{const[r,i]=y.useState(!1);return y.useEffect(()=>{const s=setTimeout(()=>{i(!0)},100),o=setTimeout(()=>{i(!1)},2300);return()=>{clearTimeout(s),clearTimeout(o)}},[]),h("div",{className:r?ES.BonusFree:ES.NotVisible,children:h("img",{className:ES.BonusImage,src:t})})},dTe="/assets/adam thumbnail-ebf4823c.png",hTe="/assets/adam-press-c4f4a2bd.gif",fTe="/assets/adam-waiting-25e1b027.gif",pTe="/assets/evolution-3e9feffe.png",mTe="/assets/evolution-press-b33db68c.gif",gTe="/assets/evolution-waiting-415503e3.gif",vTe="/assets/non light-9c1df24c.png",yTe="/assets/non-light-press-358da22b.gif",wTe="/assets/DragonThumbnail-5da7240c.jpg",_Te="/assets/blue-dragon-press-e8a928a7.gif",bTe="/assets/blue-dragon-waiting-232fb6cc.gif",xTe="/assets/Charizard-bd2a09e8.jpg",ETe="/assets/charizard-press-7dc53195.gif",STe="/assets/charizard-waiting-44e938d0.gif",TTe="/assets/non-light-waiting-a1964d8c.gif",CTe="/assets/vader-press1mb-6a2d55c0.png",ITe="/assets/vader-press-10027cff.gif",NTe="/assets/vader-waiting-af1cacd5.gif",RTe="/assets/yoda-press-thumbnail-36c5b5d3.jpg",ATe="/assets/yoda-press-4a05d3c6.gif",kTe="/assets/yoda-waiting-87b84cad.gif",PTe="/assets/light up-ce23dcfe.png",DTe="/assets/light-up-press-ce5cd090.gif",LTe="/assets/ligth-up-waiting-b92e81fe.gif",OTe="/assets/good thumbnail-25285210.png",MTe="/assets/good-press-b6f2d9f5.gif",FTe="/assets/good-waiting-0f7d641e.gif",BTe="/assets/bad thumbnail-74586967.png",$Te="/assets/bad-press-dd83c0ba.gif",UTe="/assets/bad-waiting-dba4f465.gif",VTe="/assets/fruit thumbnail-7b411730.png",jTe="/assets/fruit-press-1cb0e95e.gif",zTe="/assets/fruit-waiting-9baffbf4.gif",HTe="/assets/fast food Thumbnail-e5e4d7a5.png",WTe="/assets/fast-food-press-b4ed2e05.gif",GTe="/assets/fast-food-waiting-216d1cbc.gif",qTe="/assets/Cold thumbnail-c4cbd2da.png",KTe="/assets/Cold_Press-fd630e4b.gif",QTe="/assets/Cold_Waiting-057a9084.gif",YTe="/assets/Hot Thumbnail-b5825ae3.png",XTe="/assets/Hot_Press-6b1b39d6.gif",JTe="/assets/Hot_Waiting-46806404.gif",ZTe="/assets/Thor Thumbnail-d8972c0f.gif",eCe="/assets/Thor press-2304fadd.gif",tCe="/assets/Thor waiting-a38ba1f3.gif",nCe="/assets/loki thumbnail-8d3a55c2.gif",rCe="/assets/loki press-cc93a9da.gif",iCe="/assets/loki Waiting-9af7cb0f.gif",kM="/assets/up-press-a7652d0a.gif",ey="/assets/up-waiting-659be1b5.gif",PM="/assets/down-press-e04813d2.gif",ty="/assets/down-waiting-3edda2f4.gif",sCe="/assets/Coin_Left-14f05ea5.gif",oCe="/assets/Coin_Right-93bc37cc.gif",aCe="/assets/You Win-2e2bf9a2.gif",lCe="/assets/You lose-04d0e496.gif",cCe="/assets/draw2-268f4064.gif",uCe="/assets/you win BONUS GIF-513a3007.gif",dCe="/assets/BONUS ROUND-4eb6a55b.gif",hCe="/assets/flat-earth-thumbnail-2713b254.jpg",fCe="/assets/flat-earth-waiting-7083a4de.gif",pCe="/assets/flat_earth_pressed-0812cf86.gif",mCe="/assets/earth-thumbnail-570a1585.jpg",gCe="/assets/Earth Waiting-10e79d79.gif",vCe="/assets/Earth pressed-8616da8b.gif",yCe="/assets/L_Press_01-f916540a.jpg",wCe="/assets/L_Press_01-43c05a1a.gif",_Ce="/assets/L_Waiting-99d3b4be.gif",bCe="/assets/R_Press-2cc3c078.jpg",xCe="/assets/R_Press-1718584f.gif",ECe="/assets/R_Waiting-5ac3253c.gif",SCe="/assets/L_Press-3b528791.jpg",TCe="/assets/L_Press-f6b24489.gif",CCe="/assets/L_Waiting-9cee18a3.gif",ICe="/assets/R_Press-0e4c23d9.jpg",NCe="/assets/R_Press-0ecfb9d6.gif",RCe="/assets/R_Waiting-f36c07dc.gif",ACe="/assets/FREE ROUND-ac15bf5e.gif",DM="/assets/SheepLion-17737361.jpg",kCe="/assets/SheepPress-70b7949f.gif",PCe="/assets/SheepWaiting-9f75e34d.gif",DCe="/assets/LionPress-f86399cb.gif",LCe="/assets/LionWaiting-438bc57c.gif",OCe="/assets/CityPress-12552624.jpg",MCe="/assets/CityPress-cc452937.gif",FCe="/assets/CityWaiting-6d3ffdaf.gif",BCe="/assets/NaturePress-c7c102fd.jpg",$Ce="/assets/NaturePress-9eb3e00a.gif",UCe="/assets/NatureWaiting-44374630.gif",VCe="/assets/boat-thumbnail-f8238b98.png",jCe="/assets/boat_pressed-0fc8199d.gif",zCe="/assets/boat-886a3011.gif",HCe="/assets/plane_pressed-95de1aec.gif",WCe="/assets/plane-thumbnail-45a693aa.png",GCe="/assets/plane-waiting-abadae90.gif",qCe="/assets/Science-Thumbnail-7354c0ad.jpg",KCe="/assets/Science-Pressed-570c1894.gif",QCe="/assets/Science-Waiting-ef32deb2.gif",YCe="/assets/Religion-Thumbnail-9acdc669.jpg",XCe="/assets/Religion-Pressed-0dec5fde.gif",JCe="/assets/Religion-Waiting-cafa923d.gif",ZCe="/assets/Lock-44392bb9.gif",eIe="/assets/Spectator-01d9a7c3.gif",LM=2e3,OM=3e3,en=[{thummbnailOne:vTe,pressedOne:yTe,waitingOne:TTe,thumbnailTwo:PTe,pressedTwo:DTe,waitingTwo:LTe,timerOne:1400,timerTwo:1400,rotateTwo:!0,styles:{className:"candleGif"}},{thummbnailOne:dTe,pressedOne:hTe,waitingOne:fTe,thumbnailTwo:pTe,pressedTwo:mTe,waitingTwo:gTe,timerOne:1650,timerTwo:2500,designChangeTwo:!0,styles:{className:"adamEvilStyles"}},{thummbnailOne:qTe,pressedOne:KTe,waitingOne:QTe,thumbnailTwo:YTe,pressedTwo:XTe,waitingTwo:JTe,timerOne:600,timerTwo:750,sideOneTwo:!0,styles:{className:"coldHotGif"}},{thummbnailOne:OTe,pressedOne:MTe,waitingOne:FTe,thumbnailTwo:BTe,pressedTwo:$Te,waitingTwo:UTe,timerOne:1300,timerTwo:1550,styles:{className:"goodEvilStyles"}},{thummbnailOne:VTe,pressedOne:jTe,waitingOne:zTe,thumbnailTwo:HTe,pressedTwo:WTe,waitingTwo:GTe,timerOne:2e3,timerTwo:2320,styles:{className:"fastHealthyStyles"}},{thummbnailOne:ZTe,pressedOne:eCe,waitingOne:tCe,thumbnailTwo:nCe,pressedTwo:rCe,waitingTwo:iCe,timerOne:1e3,timerTwo:1200},{thummbnailOne:kM,pressedOne:ey,waitingOne:ey,thumbnailTwo:PM,pressedTwo:ty,waitingTwo:ty,timerOne:LM,timerTwo:OM},{thummbnailOne:kM,pressedOne:ey,waitingOne:ey,thumbnailTwo:PM,pressedTwo:ty,waitingTwo:ty,timerOne:LM,timerTwo:OM},{thumbnailTwo:wTe,pressedTwo:_Te,waitingTwo:bTe,thummbnailOne:xTe,pressedOne:ETe,waitingOne:STe,timerOne:1100,timerTwo:1100},{thummbnailOne:CTe,pressedOne:ITe,waitingOne:NTe,thumbnailTwo:RTe,pressedTwo:ATe,waitingTwo:kTe,timerOne:1600,timerTwo:900},{thummbnailOne:mCe,pressedOne:vCe,waitingOne:gCe,thumbnailTwo:hCe,pressedTwo:pCe,waitingTwo:fCe,timerOne:1200,timerTwo:1e3,sideOneTwo:!0},{thummbnailOne:yCe,pressedOne:wCe,waitingOne:_Ce,thumbnailTwo:bCe,pressedTwo:xCe,waitingTwo:ECe,timerOne:800,timerTwo:800},{thummbnailOne:SCe,pressedOne:TCe,waitingOne:CCe,thumbnailTwo:ICe,pressedTwo:NCe,waitingTwo:RCe,timerOne:800,timerTwo:800},{thummbnailOne:DM,pressedOne:DCe,waitingOne:LCe,thumbnailTwo:DM,pressedTwo:kCe,waitingTwo:PCe,timerOne:1100,timerTwo:1100},{thummbnailOne:OCe,pressedOne:MCe,waitingOne:FCe,thumbnailTwo:BCe,pressedTwo:$Ce,waitingTwo:UCe,timerOne:2300,timerTwo:1400},{thummbnailOne:WCe,pressedOne:HCe,waitingOne:GCe,thumbnailTwo:VCe,pressedTwo:jCe,waitingTwo:zCe,timerOne:600,timerTwo:730},{thummbnailOne:qCe,pressedOne:KCe,waitingOne:QCe,thumbnailTwo:YCe,pressedTwo:XCe,waitingTwo:JCe,timerOne:2600,timerTwo:2900}],js={BitCoinOne:sCe,BitCoinTwo:oCe,YouWin:aCe,YouLose:lCe,draw:cCe,lock:ZCe,spectator:eIe,bonusRound:dCe,freeRound:ACe,bonusWinner:uCe},tIe="_MainSection_bf8sx_1",nIe="_MainSectionWithoutFree_bf8sx_7",rIe="_LeftPotionGif_bf8sx_11",iIe="_rightPortionGif_bf8sx_16",sIe="_box1main_bf8sx_22",oIe="_BoxMain2_bf8sx_35",aIe="_Box_bf8sx_35",lIe="_BoxFlip_bf8sx_73",cIe="_HiddenResult_bf8sx_82",uIe="_Result_bf8sx_86",dIe="_WinEffect_bf8sx_125",hIe="_my_tool_bf8sx_1",fIe="_NotVisible_bf8sx_139",pIe="_SpecialHotCold_bf8sx_143",mIe="_SpecialHotColdTwo_bf8sx_149",gIe="_BitCoin_bf8sx_157",vIe="_rightPortionWinBitCoin_bf8sx_164",yIe="_BitCoinOne_bf8sx_168",wIe="_LeftPotionGifWinner_bf8sx_176",_Ie="_candleGif_bf8sx_239",bIe="_adamEvilStyles_bf8sx_266",xIe="_coldHotGif_bf8sx_294",EIe="_goodEvilStyles_bf8sx_327",SIe="_fastHealthyStyles_bf8sx_377",Ct={MainSection:tIe,MainSectionWithoutFree:nIe,LeftPotionGif:rIe,rightPortionGif:iIe,box1main:sIe,BoxMain2:oIe,Box:aIe,BoxFlip:lIe,"my-animation":"_my-animation_bf8sx_1",HiddenResult:cIe,Result:uIe,WinEffect:dIe,my_tool:hIe,NotVisible:fIe,SpecialHotCold:pIe,SpecialHotColdTwo:mIe,BitCoin:gIe,rightPortionWinBitCoin:vIe,BitCoinOne:yIe,LeftPotionGifWinner:wIe,candleGif:_Ie,adamEvilStyles:bIe,coldHotGif:xIe,goodEvilStyles:EIe,fastHealthyStyles:SIe};function MM({side:t,value:e}){return console.log(t),x("div",{className:Ct.WinEffect,children:["$",e.toFixed(2)]})}var jH={exports:{}};function TIe(t){var e={};return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var CIe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,IIe=TIe(function(t){return CIe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});const NIe=Object.freeze(Object.defineProperty({__proto__:null,default:IIe},Symbol.toStringTag,{value:"Module"})),RIe=TG(NIe);(function(t,e){(function(n,r){t.exports=r(y)})(self,function(n){return(()=>{var r={297:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a](c,c.exports,s),c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{s.r(o),s.d(o,{default:()=>bG});var a=s(297),l=s.n(a);const c=f=>f;let u=c;const d={some:0,all:1},p=f=>/^\-?\d*\.?\d+$/.test(f),v=f=>/^0[^.\s]+$/.test(f),g=f=>Array.isArray(f);function _(f,m){f.indexOf(m)===-1&&f.push(m)}function R(f,m){const w=f.indexOf(m);w>-1&&f.splice(w,1)}class E{constructor(){this.subscriptions=[]}add(m){return _(this.subscriptions,m),()=>R(this.subscriptions,m)}notify(m,w,S){const A=this.subscriptions.length;if(A)if(A===1)this.subscriptions[0](m,w,S);else for(let N=0;N<A;N++){const P=this.subscriptions[N];P&&P(m,w,S)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function b(f,m){return m?f*(1e3/m):0}class T{constructor(){this.order=[],this.scheduled=new Set}add(m){if(!this.scheduled.has(m))return this.scheduled.add(m),this.order.push(m),!0}remove(m){const w=this.order.indexOf(m);w!==-1&&(this.order.splice(w,1),this.scheduled.delete(m))}clear(){this.order.length=0,this.scheduled.clear()}}const I=["prepare","read","update","preRender","render","postRender"],{schedule:D,cancel:M,state:$,steps:C}=function(f,m){let w=!1,S=!0;const A={delta:0,timestamp:0,isProcessing:!1},N=I.reduce((F,j)=>(F[j]=function(G){let H=new T,Q=new T,oe=0,ie=!1,de=!1;const se=new WeakSet,Ie={schedule:(ve,he=!1,Ae=!1)=>{const ze=Ae&&ie,lt=ze?H:Q;return he&&se.add(ve),lt.add(ve)&&ze&&ie&&(oe=H.order.length),ve},cancel:ve=>{Q.remove(ve),se.delete(ve)},process:ve=>{if(ie)de=!0;else{if(ie=!0,[H,Q]=[Q,H],Q.clear(),oe=H.order.length,oe)for(let he=0;he<oe;he++){const Ae=H.order[he];Ae(ve),se.has(Ae)&&(Ie.schedule(Ae),G())}ie=!1,de&&(de=!1,Ie.process(ve))}}};return Ie}(()=>w=!0),F),{}),P=F=>N[F].process(A),L=()=>{const F=performance.now();w=!1,A.delta=S?1e3/60:Math.max(Math.min(F-A.timestamp,40),1),A.timestamp=F,A.isProcessing=!0,I.forEach(P),A.isProcessing=!1,w&&(S=!1,f(L))};return{schedule:I.reduce((F,j)=>{const G=N[j];return F[j]=(H,Q=!1,oe=!1)=>(w||(w=!0,S=!0,A.isProcessing||f(L)),G.schedule(H,Q,oe)),F},{}),cancel:F=>I.forEach(j=>N[j].cancel(F)),state:A,steps:N}}(typeof requestAnimationFrame<"u"?requestAnimationFrame:c);class k{constructor(m,w={}){var S;this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(A,N=!0)=>{this.prev=this.current,this.current=A;const{delta:P,timestamp:L}=$;this.lastUpdated!==L&&(this.timeDelta=P,this.lastUpdated=L,D.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),N&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>D.postRender(this.velocityCheck),this.velocityCheck=({timestamp:A})=>{A!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=m,this.canTrackVelocity=(S=this.current,!isNaN(parseFloat(S))),this.owner=w.owner}onChange(m){return this.on("change",m)}on(m,w){this.events[m]||(this.events[m]=new E);const S=this.events[m].add(w);return m==="change"?()=>{S(),D.read(()=>{this.events.change.getSize()||this.stop()})}:S}clearListeners(){for(const m in this.events)this.events[m].clear()}attach(m,w){this.passiveEffect=m,this.stopPassiveEffect=w}set(m,w=!0){w&&this.passiveEffect?this.passiveEffect(m,this.updateAndNotify):this.updateAndNotify(m,w)}setWithVelocity(m,w,S){this.set(w),this.prev=m,this.timeDelta=S}jump(m){this.updateAndNotify(m),this.prev=m,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?b(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(m){return this.stop(),new Promise(w=>{this.hasAnimated=!0,this.animation=m(w),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function O(f,m){return new k(f,m)}const W=f=>m=>typeof m=="string"&&m.startsWith(f),V=W("--"),z=W("var(--"),Y=f=>Math.round(1e5*f)/1e5,fe=/(-)?([\d]*\.?[\d])+/g,ge=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,K=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function J(f){return typeof f=="string"}const Z=(f,m,w)=>Math.min(Math.max(w,f),m),Te={test:f=>typeof f=="number",parse:parseFloat,transform:f=>f},ke={...Te,transform:f=>Z(0,1,f)},U={...Te,default:1},ne=(f,m)=>w=>!!(J(w)&&K.test(w)&&w.startsWith(f)||m&&Object.prototype.hasOwnProperty.call(w,m)),te=(f,m,w)=>S=>{if(!J(S))return S;const[A,N,P,L]=S.match(fe);return{[f]:parseFloat(A),[m]:parseFloat(N),[w]:parseFloat(P),alpha:L!==void 0?parseFloat(L):1}},ue={...Te,transform:f=>Math.round((m=>Z(0,255,m))(f))},le={test:ne("rgb","red"),parse:te("red","green","blue"),transform:({red:f,green:m,blue:w,alpha:S=1})=>"rgba("+ue.transform(f)+", "+ue.transform(m)+", "+ue.transform(w)+", "+Y(ke.transform(S))+")"},Oe={test:ne("#"),parse:function(f){let m="",w="",S="",A="";return f.length>5?(m=f.substring(1,3),w=f.substring(3,5),S=f.substring(5,7),A=f.substring(7,9)):(m=f.substring(1,2),w=f.substring(2,3),S=f.substring(3,4),A=f.substring(4,5),m+=m,w+=w,S+=S,A+=A),{red:parseInt(m,16),green:parseInt(w,16),blue:parseInt(S,16),alpha:A?parseInt(A,16)/255:1}},transform:le.transform},We=f=>({test:m=>J(m)&&m.endsWith(f)&&m.split(" ").length===1,parse:parseFloat,transform:m=>`${m}${f}`}),me=We("deg"),Be=We("%"),we=We("px"),nt=We("vh"),rt=We("vw"),wt={...Be,parse:f=>Be.parse(f)/100,transform:f=>Be.transform(100*f)},_e={test:ne("hsl","hue"),parse:te("hue","saturation","lightness"),transform:({hue:f,saturation:m,lightness:w,alpha:S=1})=>"hsla("+Math.round(f)+", "+Be.transform(Y(m))+", "+Be.transform(Y(w))+", "+Y(ke.transform(S))+")"},Ye={test:f=>le.test(f)||Oe.test(f)||_e.test(f),parse:f=>le.test(f)?le.parse(f):_e.test(f)?_e.parse(f):Oe.parse(f),transform:f=>J(f)?f:f.hasOwnProperty("red")?le.transform(f):_e.transform(f)},B={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:c},X={regex:ge,countKey:"Colors",token:"${c}",parse:Ye.parse},re={regex:fe,countKey:"Numbers",token:"${n}",parse:Te.parse};function xe(f,{regex:m,countKey:w,token:S,parse:A}){const N=f.tokenised.match(m);N&&(f["num"+w]=N.length,f.tokenised=f.tokenised.replace(m,S),f.values.push(...N.map(A)))}function be(f){const m=f.toString(),w={value:m,tokenised:m,values:[],numVars:0,numColors:0,numNumbers:0};return w.value.includes("var(--")&&xe(w,B),xe(w,X),xe(w,re),w}function pe(f){return be(f).values}function De(f){const{values:m,numColors:w,numVars:S,tokenised:A}=be(f),N=m.length;return P=>{let L=A;for(let F=0;F<N;F++)L=F<S?L.replace(B.token,P[F]):F<S+w?L.replace(X.token,Ye.transform(P[F])):L.replace(re.token,Y(P[F]));return L}}const St=f=>typeof f=="number"?0:f,Xe={test:function(f){var m,w;return isNaN(f)&&J(f)&&(((m=f.match(fe))===null||m===void 0?void 0:m.length)||0)+(((w=f.match(ge))===null||w===void 0?void 0:w.length)||0)>0},parse:pe,createTransformer:De,getAnimatableNone:function(f){const m=pe(f);return De(f)(m.map(St))}},Ht=new Set(["brightness","contrast","saturate","opacity"]);function qn(f){const[m,w]=f.slice(0,-1).split("(");if(m==="drop-shadow")return f;const[S]=w.match(fe)||[];if(!S)return f;const A=w.replace(S,"");let N=Ht.has(m)?1:0;return S!==w&&(N*=100),m+"("+N+A+")"}const cn=/([a-z-]*)\(.*?\)/g,Cn={...Xe,getAnimatableNone:f=>{const m=f.match(cn);return m?m.map(qn).join(" "):f}},mt={...Te,transform:Math.round},Dn={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,size:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,rotate:me,rotateX:me,rotateY:me,rotateZ:me,scale:U,scaleX:U,scaleY:U,scaleZ:U,skew:me,skewX:me,skewY:me,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:ke,originX:wt,originY:wt,originZ:we,zIndex:mt,fillOpacity:ke,strokeOpacity:ke,numOctaves:mt},Ne={...Dn,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:Cn,WebkitFilter:Cn},mr=f=>Ne[f];function st(f,m){let w=mr(f);return w!==Cn&&(w=Xe),w.getAnimatableNone?w.getAnimatableNone(m):void 0}const ee=f=>m=>m.test(f),q=[Te,we,Be,me,rt,nt,{test:f=>f==="auto",parse:f=>f}],Ee=f=>q.find(ee(f)),je=[...q,Ye,Xe];function Ve(f,m,w,S={},A={}){return typeof m=="function"&&(m=m(w!==void 0?w:f.custom,S,A)),typeof m=="string"&&(m=f.variants&&f.variants[m]),typeof m=="function"&&(m=m(w!==void 0?w:f.custom,S,A)),m}function Ge(f,m,w){const S=f.getProps();return Ve(S,m,w!==void 0?w:S.custom,function(A){const N={};return A.values.forEach((P,L)=>N[L]=P.get()),N}(f),function(A){const N={};return A.values.forEach((P,L)=>N[L]=P.getVelocity()),N}(f))}function dt(f,m,w){f.hasValue(m)?f.getValue(m).set(w):f.addValue(m,O(w))}function at(f,m){const w=Ge(f,m);let{transitionEnd:S={},transition:A={},...N}=w?f.makeTargetAnimatable(w,!1):{};N={...N,...S};for(const L in N)dt(f,L,(P=N[L],g(P)?P[P.length-1]||0:P));var P}function it(f,m){[...m].reverse().forEach(w=>{const S=f.getVariant(w);S&&at(f,S),f.variantChildren&&f.variantChildren.forEach(A=>{it(A,m)})})}function Tt(f,m){if(m)return(m[f]||m.default||m).from}const Ut=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vn=new Set(Ut),yn=f=>f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Le="data-"+yn("framerAppearId"),$e=f=>1e3*f,vt=f=>f/1e3,Ln=f=>Array.isArray(f)&&typeof f[0]=="number";function an(f){return!!(!f||typeof f=="string"&&$s[f]||Ln(f)||Array.isArray(f)&&f.every(an))}const Wt=([f,m,w,S])=>`cubic-bezier(${f}, ${m}, ${w}, ${S})`,$s={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wt([0,.65,.55,1]),circOut:Wt([.55,0,1,.45]),backIn:Wt([.31,.01,.66,-.59]),backOut:Wt([.33,1.53,.69,.99])};function gs(f){if(f)return Ln(f)?Wt(f):Array.isArray(f)?f.map(gs):$s[f]}const Gi=(f,m,w)=>(((1-3*w+3*m)*f+(3*w-6*m))*f+3*m)*f;function si(f,m,w,S){return f===m&&w===S?c:A=>A===0||A===1?A:Gi(function(N,P,L,F,j){let G,H,Q=0;do H=P+(L-P)/2,G=Gi(H,F,j)-N,G>0?L=H:P=H;while(Math.abs(G)>1e-7&&++Q<12);return H}(A,0,1,f,w),m,S)}const vs=si(.42,0,1,1),ys=si(0,0,.58,1),lo=si(.42,0,.58,1),gr=f=>m=>m<=.5?f(2*m)/2:(2-f(2*(1-m)))/2,Gt=f=>m=>1-f(1-m),Us=f=>1-Math.sin(Math.acos(f)),co=Gt(Us),ba=gr(co),xa=si(.33,1.53,.69,.99),uo=Gt(xa),_d=gr(uo),Mc={linear:c,easeIn:vs,easeInOut:lo,easeOut:ys,circIn:Us,circInOut:ba,circOut:co,backIn:uo,backInOut:_d,backOut:xa,anticipate:f=>(f*=2)<1?.5*uo(f):.5*(2-Math.pow(2,-10*(f-1)))},ll=f=>{if(Array.isArray(f)){u(f.length===4);const[m,w,S,A]=f;return si(m,w,S,A)}return typeof f=="string"?Mc[f]:f},dn=(f,m,w)=>-w*f+w*m+f;function cl(f,m,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?f+6*(m-f)*w:w<.5?m:w<2/3?f+(m-f)*(2/3-w)*6:f}const ul=(f,m,w)=>{const S=f*f;return Math.sqrt(Math.max(0,w*(m*m-S)+S))},bt=[Oe,le,_e];function Nt(f){const m=(w=f,bt.find(A=>A.test(w)));var w;let S=m.parse(f);return m===_e&&(S=function({hue:A,saturation:N,lightness:P,alpha:L}){A/=360,P/=100;let F=0,j=0,G=0;if(N/=100){const H=P<.5?P*(1+N):P+N-P*N,Q=2*P-H;F=cl(Q,H,A+1/3),j=cl(Q,H,A),G=cl(Q,H,A-1/3)}else F=j=G=P;return{red:Math.round(255*F),green:Math.round(255*j),blue:Math.round(255*G),alpha:L}}(S)),S}const jt=(f,m)=>{const w=Nt(f),S=Nt(m),A={...w};return N=>(A.red=ul(w.red,S.red,N),A.green=ul(w.green,S.green,N),A.blue=ul(w.blue,S.blue,N),A.alpha=dn(w.alpha,S.alpha,N),le.transform(A))},yi=(f,m)=>w=>m(f(w)),ur=(...f)=>f.reduce(yi),vr=(f,m)=>w=>`${w>0?m:f}`;function qf(f,m){return typeof f=="number"?w=>dn(f,m,w):Ye.test(f)?jt(f,m):f.startsWith("var(")?vr(f,m):Fc(f,m)}const U0=(f,m)=>{const w=[...f],S=w.length,A=f.map((N,P)=>qf(N,m[P]));return N=>{for(let P=0;P<S;P++)w[P]=A[P](N);return w}},wi=(f,m)=>{const w={...f,...m},S={};for(const A in w)f[A]!==void 0&&m[A]!==void 0&&(S[A]=qf(f[A],m[A]));return A=>{for(const N in S)w[N]=S[N](A);return w}},Fc=(f,m)=>{const w=Xe.createTransformer(m),S=be(f),A=be(m);return S.numVars===A.numVars&&S.numColors===A.numColors&&S.numNumbers>=A.numNumbers?ur(U0(S.values,A.values),w):vr(f,m)},Bc=(f,m,w)=>{const S=m-f;return S===0?1:(w-f)/S},V0=(f,m)=>w=>dn(f,m,w);function ek(f,m,{clamp:w=!0,ease:S,mixer:A}={}){const N=f.length;if(u(N===m.length),N===1)return()=>m[0];f[0]>f[N-1]&&(f=[...f].reverse(),m=[...m].reverse());const P=function(j,G,H){const Q=[],oe=H||(typeof(ie=j[0])=="number"?V0:typeof ie=="string"?Ye.test(ie)?jt:Fc:Array.isArray(ie)?U0:typeof ie=="object"?wi:V0);var ie;const de=j.length-1;for(let se=0;se<de;se++){let Ie=oe(j[se],j[se+1]);if(G){const ve=Array.isArray(G)?G[se]||c:G;Ie=ur(ve,Ie)}Q.push(Ie)}return Q}(m,S,A),L=P.length,F=j=>{let G=0;if(L>1)for(;G<f.length-2&&!(j<f[G+1]);G++);const H=Bc(f[G],f[G+1],j);return P[G](H)};return w?j=>F(Z(f[0],f[N-1],j)):F}function j0({duration:f=300,keyframes:m,times:w,ease:S="easeInOut"}){const A=(j=>Array.isArray(j)&&typeof j[0]!="number")(S)?S.map(ll):ll(S),N={done:!1,value:m[0]},P=ek(function(j,G){return j.map(H=>H*G)}(w&&w.length===m.length?w:function(j){const G=[0];return function(H,Q){const oe=H[H.length-1];for(let ie=1;ie<=Q;ie++){const de=Bc(0,Q,ie);H.push(dn(oe,1,de))}}(G,j.length-1),G}(m),f),m,{ease:Array.isArray(A)?A:(L=m,F=A,L.map(()=>F||lo).splice(0,L.length-1))});var L,F;return{calculatedDuration:f,next:j=>(N.value=P(j),N.done=j>=f,N)}}function tk(f,m,w){const S=Math.max(m-5,0);return b(w-f(S),m-S)}function ex(f,m){return f*Math.sqrt(1-m*m)}const zH=["duration","bounce"],HH=["stiffness","damping","mass"];function nk(f,m){return m.some(w=>f[w]!==void 0)}function rk({keyframes:f,restDelta:m,restSpeed:w,...S}){const A=f[0],N=f[f.length-1],P={done:!1,value:A},{stiffness:L,damping:F,mass:j,velocity:G,duration:H,isResolvedFromDuration:Q}=function(he){let Ae={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...he};if(!nk(he,HH)&&nk(he,zH)){const ze=function({duration:lt=800,bounce:Ue=.25,velocity:ht=0,mass:Ot=1}){let In,On,Rt=1-Ue;Rt=Z(.05,1,Rt),lt=Z(.01,10,vt(lt)),Rt<1?(In=At=>{const _t=At*Rt,gt=_t*lt;return .001-(_t-ht)/ex(At,Rt)*Math.exp(-gt)},On=At=>{const _t=At*Rt*lt,gt=_t*ht+ht,Qt=Math.pow(Rt,2)*Math.pow(At,2)*lt,hn=Math.exp(-_t),Sd=ex(Math.pow(At,2),Rt);return(.001-In(At)>0?-1:1)*((gt-Qt)*hn)/Sd}):(In=At=>Math.exp(-At*lt)*((At-ht)*lt+1)-.001,On=At=>Math.exp(-At*lt)*(lt*lt*(ht-At)));const yr=function(At,_t,gt){let Qt=gt;for(let hn=1;hn<12;hn++)Qt-=At(Qt)/_t(Qt);return Qt}(In,On,5/lt);if(lt=$e(lt),isNaN(yr))return{stiffness:100,damping:10,duration:lt};{const At=Math.pow(yr,2)*Ot;return{stiffness:At,damping:2*Rt*Math.sqrt(Ot*At),duration:lt}}}(he);Ae={...Ae,...ze,velocity:0,mass:1},Ae.isResolvedFromDuration=!0}return Ae}(S),oe=G?-vt(G):0,ie=F/(2*Math.sqrt(L*j)),de=N-A,se=vt(Math.sqrt(L/j)),Ie=Math.abs(de)<5;let ve;if(w||(w=Ie?.01:2),m||(m=Ie?.005:.5),ie<1){const he=ex(se,ie);ve=Ae=>{const ze=Math.exp(-ie*se*Ae);return N-ze*((oe+ie*se*de)/he*Math.sin(he*Ae)+de*Math.cos(he*Ae))}}else if(ie===1)ve=he=>N-Math.exp(-se*he)*(de+(oe+se*de)*he);else{const he=se*Math.sqrt(ie*ie-1);ve=Ae=>{const ze=Math.exp(-ie*se*Ae),lt=Math.min(he*Ae,300);return N-ze*((oe+ie*se*de)*Math.sinh(lt)+he*de*Math.cosh(lt))/he}}return{calculatedDuration:Q&&H||null,next:he=>{const Ae=ve(he);if(Q)P.done=he>=H;else{let ze=oe;he!==0&&(ze=ie<1?tk(ve,he,Ae):0);const lt=Math.abs(ze)<=w,Ue=Math.abs(N-Ae)<=m;P.done=lt&&Ue}return P.value=P.done?N:Ae,P}}}function ik({keyframes:f,velocity:m=0,power:w=.8,timeConstant:S=325,bounceDamping:A=10,bounceStiffness:N=500,modifyTarget:P,min:L,max:F,restDelta:j=.5,restSpeed:G}){const H=f[0],Q={done:!1,value:H},oe=Ue=>L===void 0?F:F===void 0||Math.abs(L-Ue)<Math.abs(F-Ue)?L:F;let ie=w*m;const de=H+ie,se=P===void 0?de:P(de);se!==de&&(ie=se-H);const Ie=Ue=>-ie*Math.exp(-Ue/S),ve=Ue=>se+Ie(Ue),he=Ue=>{const ht=Ie(Ue),Ot=ve(Ue);Q.done=Math.abs(ht)<=j,Q.value=Q.done?se:Ot};let Ae,ze;const lt=Ue=>{var ht;ht=Q.value,(L!==void 0&&ht<L||F!==void 0&&ht>F)&&(Ae=Ue,ze=rk({keyframes:[Q.value,oe(Q.value)],velocity:tk(ve,Ue,Q.value),damping:A,stiffness:N,restDelta:j,restSpeed:G}))};return lt(0),{calculatedDuration:null,next:Ue=>{let ht=!1;return ze||Ae!==void 0||(ht=!0,he(Ue),lt(Ue)),Ae!==void 0&&Ue>Ae?ze.next(Ue-Ae):(!ht&&he(Ue),Q)}}}const WH=f=>{const m=({timestamp:w})=>f(w);return{start:()=>D.update(m,!0),stop:()=>M(m),now:()=>$.isProcessing?$.timestamp:performance.now()}};function sk(f){let m=0,w=f.next(m);for(;!w.done&&m<2e4;)m+=50,w=f.next(m);return m>=2e4?1/0:m}const GH={decay:ik,inertia:ik,tween:j0,keyframes:j0,spring:rk};function z0({autoplay:f=!0,delay:m=0,driver:w=WH,keyframes:S,type:A="keyframes",repeat:N=0,repeatDelay:P=0,repeatType:L="loop",onPlay:F,onStop:j,onComplete:G,onUpdate:H,...Q}){let oe,ie,de=1,se=!1;const Ie=()=>{ie=new Promise(Mn=>{oe=Mn})};let ve;Ie();const he=GH[A]||j0;let Ae;he!==j0&&typeof S[0]!="number"&&(Ae=ek([0,100],S,{clamp:!1}),S=[0,100]);const ze=he({...Q,keyframes:S});let lt;L==="mirror"&&(lt=he({...Q,keyframes:[...S].reverse(),velocity:-(Q.velocity||0)}));let Ue="idle",ht=null,Ot=null,In=null;ze.calculatedDuration===null&&N&&(ze.calculatedDuration=sk(ze));const{calculatedDuration:On}=ze;let Rt=1/0,yr=1/0;On!==null&&(Rt=On+P,yr=Rt*(N+1)-P);let At=0;const _t=Mn=>{if(Ot===null)return;de>0&&(Ot=Math.min(Ot,Mn)),de<0&&(Ot=Math.min(Mn-yr/de,Ot)),At=ht!==null?ht:Math.round(Mn-Ot)*de;const jc=At-m*(de>=0?1:-1),Zf=de>=0?jc<0:jc>yr;At=Math.max(jc,0),Ue==="finished"&&ht===null&&(At=yr);let Td=At,zc=ze;if(N){const Tx=At/Rt;let iv=Math.floor(Tx),Hc=Tx%1;!Hc&&Tx>=1&&(Hc=1),Hc===1&&iv--,iv=Math.min(iv,N+1);const $P=!!(iv%2);$P&&(L==="reverse"?(Hc=1-Hc,P&&(Hc-=P/Rt)):L==="mirror"&&(zc=lt));let UP=Z(0,1,Hc);At>yr&&(UP=L==="reverse"&&$P?1:0),Td=UP*Rt}const ep=Zf?{done:!1,value:S[0]}:zc.next(Td);Ae&&(ep.value=Ae(ep.value));let{done:BP}=ep;Zf||On===null||(BP=de>=0?At>=yr:At<=0);const xG=ht===null&&(Ue==="finished"||Ue==="running"&&BP);return H&&H(ep.value),xG&&hn(),ep},gt=()=>{ve&&ve.stop(),ve=void 0},Qt=()=>{Ue="idle",gt(),oe(),Ie(),Ot=In=null},hn=()=>{Ue="finished",G&&G(),gt(),oe()},Sd=()=>{if(se)return;ve||(ve=w(_t));const Mn=ve.now();F&&F(),ht!==null?Ot=Mn-ht:Ot&&Ue!=="finished"||(Ot=Mn),Ue==="finished"&&Ie(),In=Ot,ht=null,Ue="running",ve.start()};f&&Sd();const rv={then:(Mn,jc)=>ie.then(Mn,jc),get time(){return vt(At)},set time(Mn){Mn=$e(Mn),At=Mn,ht===null&&ve&&de!==0?Ot=ve.now()-Mn/de:ht=Mn},get duration(){const Mn=ze.calculatedDuration===null?sk(ze):ze.calculatedDuration;return vt(Mn)},get speed(){return de},set speed(Mn){Mn!==de&&ve&&(de=Mn,rv.time=vt(At))},get state(){return Ue},play:Sd,pause:()=>{Ue="paused",ht=At},stop:()=>{se=!0,Ue!=="idle"&&(Ue="idle",j&&j(),Qt())},cancel:()=>{In!==null&&_t(In),Qt()},complete:()=>{Ue="finished"},sample:Mn=>(Ot=0,_t(Mn))};return rv}const qH=function(f){let m;return()=>(m===void 0&&(m=Object.hasOwnProperty.call(Element.prototype,"animate")),m)}(),KH=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),QH={type:"spring",stiffness:500,damping:25,restSpeed:10},YH={type:"keyframes",duration:.8},XH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JH=(f,{keyframes:m})=>m.length>2?YH:vn.has(f)?f.startsWith("scale")?{type:"spring",stiffness:550,damping:m[1]===0?2*Math.sqrt(550):30,restSpeed:10}:QH:XH,tx=(f,m)=>!(f==="zIndex"||typeof m!="number"&&!Array.isArray(m)&&(typeof m!="string"||!Xe.test(m)&&m!=="0"||m.startsWith("url(")));function ZH(f){return typeof f=="number"?f===0:f!==null?f==="none"||f==="0"||v(f):void 0}function ok(f,m){return f[m]||f.default||f}const nx=(f,m,w,S={})=>A=>{const N=ok(S,f)||{},P=N.delay||S.delay||0;let{elapsed:L=0}=S;L-=$e(P);const F=function(ie,de,se,Ie){const ve=tx(de,se);let he;he=Array.isArray(se)?[...se]:[null,se];const Ae=Ie.from!==void 0?Ie.from:ie.get();let ze;const lt=[];for(let Ue=0;Ue<he.length;Ue++)he[Ue]===null&&(he[Ue]=Ue===0?Ae:he[Ue-1]),ZH(he[Ue])&&lt.push(Ue),typeof he[Ue]=="string"&&he[Ue]!=="none"&&he[Ue]!=="0"&&(ze=he[Ue]);if(ve&&lt.length&&ze)for(let Ue=0;Ue<lt.length;Ue++)he[lt[Ue]]=st(de,ze);return he}(m,f,w,N),j=F[0],G=F[F.length-1],H=tx(f,j),Q=tx(f,G);let oe={keyframes:F,velocity:m.getVelocity(),ease:"easeOut",...N,delay:-L,onUpdate:ie=>{m.set(ie),N.onUpdate&&N.onUpdate(ie)},onComplete:()=>{A(),N.onComplete&&N.onComplete()}};if(function({when:ie,delay:de,delayChildren:se,staggerChildren:Ie,staggerDirection:ve,repeat:he,repeatType:Ae,repeatDelay:ze,from:lt,elapsed:Ue,...ht}){return!!Object.keys(ht).length}(N)||(oe={...oe,...JH(f,oe)}),oe.duration&&(oe.duration=$e(oe.duration)),oe.repeatDelay&&(oe.repeatDelay=$e(oe.repeatDelay)),!H||!Q||N.type===!1)return function({keyframes:ie,delay:de,onUpdate:se,onComplete:Ie}){const ve=()=>(se&&se(ie[ie.length-1]),Ie&&Ie(),{time:0,speed:1,duration:0,play:c,pause:c,stop:c,then:he=>(he(),Promise.resolve()),cancel:c,complete:c});return de?z0({keyframes:[0,1],duration:0,delay:de,onComplete:ve}):ve()}(oe);if(m.owner&&m.owner.current instanceof HTMLElement&&!m.owner.getProps().onUpdate){const ie=function(de,se,{onUpdate:Ie,onComplete:ve,...he}){if(!qH()||!KH.has(se)||he.repeatDelay||he.repeatType==="mirror"||he.damping===0||he.type==="inertia")return!1;let Ae,ze,lt=!1;const Ue=()=>{ze=new Promise(_t=>{Ae=_t})};Ue();let{keyframes:ht,duration:Ot=300,ease:In,times:On}=he;if(((_t,gt)=>gt.type==="spring"||_t==="backgroundColor"||!an(gt.ease))(se,he)){const _t=z0({...he,repeat:0,delay:0});let gt={done:!1,value:ht[0]};const Qt=[];let hn=0;for(;!gt.done&&hn<2e4;)gt=_t.sample(hn),Qt.push(gt.value),hn+=10;On=void 0,ht=Qt,Ot=hn-10,In="linear"}const Rt=function(_t,gt,Qt,{delay:hn=0,duration:Sd,repeat:rv=0,repeatType:Mn="loop",ease:jc,times:Zf}={}){const Td={[gt]:Qt};Zf&&(Td.offset=Zf);const zc=gs(jc);return Array.isArray(zc)&&(Td.easing=zc),_t.animate(Td,{delay:hn,duration:Sd,easing:Array.isArray(zc)?"linear":zc,fill:"both",iterations:rv+1,direction:Mn==="reverse"?"alternate":"normal"})}(de.owner.current,se,ht,{...he,duration:Ot,ease:In,times:On});he.syncStart&&(Rt.startTime=$.isProcessing?$.timestamp:document.timeline?document.timeline.currentTime:performance.now());const yr=()=>Rt.cancel(),At=()=>{D.update(yr),Ae(),Ue()};return Rt.onfinish=()=>{de.set(function(_t,{repeat:gt,repeatType:Qt="loop"}){return _t[gt&&Qt!=="loop"&&gt%2==1?0:_t.length-1]}(ht,he)),ve&&ve(),At()},{then:(_t,gt)=>ze.then(_t,gt),attachTimeline:_t=>(Rt.timeline=_t,Rt.onfinish=null,c),get time(){return vt(Rt.currentTime||0)},set time(_t){Rt.currentTime=$e(_t)},get speed(){return Rt.playbackRate},set speed(_t){Rt.playbackRate=_t},get duration(){return vt(Ot)},play:()=>{lt||(Rt.play(),M(yr))},pause:()=>Rt.pause(),stop:()=>{if(lt=!0,Rt.playState==="idle")return;const{currentTime:_t}=Rt;if(_t){const gt=z0({...he,autoplay:!1});de.setWithVelocity(gt.sample(_t-10).value,gt.sample(_t).value,10)}At()},complete:()=>Rt.finish(),cancel:At}}(m,f,oe);if(ie)return ie}return z0(oe)},qi=f=>!!(f&&f.getVelocity);function H0(f){return!!(qi(f)&&f.add)}function eW({protectedKeys:f,needsAnimating:m},w){const S=f.hasOwnProperty(w)&&m[w]!==!0;return m[w]=!1,S}function ak(f,m,{delay:w=0,transitionOverride:S,type:A}={}){let{transition:N=f.getDefaultTransition(),transitionEnd:P,...L}=f.makeTargetAnimatable(m);const F=f.getValue("willChange");S&&(N=S);const j=[],G=A&&f.animationState&&f.animationState.getState()[A];for(const H in L){const Q=f.getValue(H),oe=L[H];if(!Q||oe===void 0||G&&eW(G,H))continue;const ie={delay:w,elapsed:0,...N};if(window.HandoffAppearAnimations&&!Q.hasAnimated){const se=f.getProps()[Le];se&&(ie.elapsed=window.HandoffAppearAnimations(se,H,Q,D),ie.syncStart=!0)}Q.start(nx(H,Q,oe,f.shouldReduceMotion&&vn.has(H)?{type:!1}:ie));const de=Q.animation;H0(F)&&(F.add(H),de.then(()=>F.remove(H))),j.push(de)}return P&&Promise.all(j).then(()=>{P&&at(f,P)}),j}function rx(f,m,w={}){const S=Ge(f,m,w.custom);let{transition:A=f.getDefaultTransition()||{}}=S||{};w.transitionOverride&&(A=w.transitionOverride);const N=S?()=>Promise.all(ak(f,S,w)):()=>Promise.resolve(),P=f.variantChildren&&f.variantChildren.size?(F=0)=>{const{delayChildren:j=0,staggerChildren:G,staggerDirection:H}=A;return function(Q,oe,ie=0,de=0,se=1,Ie){const ve=[],he=(Q.variantChildren.size-1)*de,Ae=se===1?(ze=0)=>ze*de:(ze=0)=>he-ze*de;return Array.from(Q.variantChildren).sort(tW).forEach((ze,lt)=>{ze.notify("AnimationStart",oe),ve.push(rx(ze,oe,{...Ie,delay:ie+Ae(lt)}).then(()=>ze.notify("AnimationComplete",oe)))}),Promise.all(ve)}(f,m,j+F,G,H,w)}:()=>Promise.resolve(),{when:L}=A;if(L){const[F,j]=L==="beforeChildren"?[N,P]:[P,N];return F().then(()=>j())}return Promise.all([N(),P(w.delay)])}function tW(f,m){return f.sortNodePosition(m)}function lk(f,m,w={}){let S;if(f.notify("AnimationStart",m),Array.isArray(m)){const A=m.map(N=>rx(f,N,w));S=Promise.all(A)}else if(typeof m=="string")S=rx(f,m,w);else{const A=typeof m=="function"?Ge(f,m,w.custom):m;S=Promise.all(ak(f,A,w))}return S.then(()=>f.notify("AnimationComplete",m))}function nW(){const f=new Set,m={subscribe:w=>(f.add(w),()=>{f.delete(w)}),start(w,S){const A=[];return f.forEach(N=>{A.push(lk(N,w,{transitionOverride:S}))}),Promise.all(A)},set:w=>f.forEach(S=>{(function(A,N){Array.isArray(N)?it(A,N):typeof N=="string"?it(A,[N]):at(A,N)})(S,w)}),stop(){f.forEach(w=>{(function(S){S.values.forEach(A=>A.stop())})(w)})},mount:()=>()=>{m.stop()}};return m}function ck(f){const m=(0,a.useRef)(null);return m.current===null&&(m.current=f()),m.current}const W0=typeof document<"u",uk=W0?a.useLayoutEffect:a.useEffect,dk=(0,a.createContext)({transformPagePoint:f=>f,isStatic:!1,reducedMotion:"never"}),G0=(0,a.createContext)({}),ix=(0,a.createContext)(null),hk=(0,a.createContext)({strict:!1});function bd(f){return typeof f=="object"&&Object.prototype.hasOwnProperty.call(f,"current")}function Kf(f){return typeof f=="string"||Array.isArray(f)}function q0(f){return typeof f=="object"&&typeof f.start=="function"}const sx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ox=["initial",...sx];function K0(f){return q0(f.animate)||ox.some(m=>Kf(f[m]))}function fk(f){return!!(K0(f)||f.variants)}function pk(f){return Array.isArray(f)?f.join(" "):f}const mk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qf={};for(const f in mk)Qf[f]={isEnabled:m=>mk[f].some(w=>!!m[w])};const gk=(0,a.createContext)({}),vk=(0,a.createContext)({}),rW=Symbol.for("motionComponentSymbol");function iW({preloadedFeatures:f,createVisualElement:m,useRender:w,useVisualState:S,Component:A}){f&&function(P){for(const L in P)Qf[L]={...Qf[L],...P[L]}}(f);const N=(0,a.forwardRef)(function(P,L){let F;const j={...(0,a.useContext)(dk),...P,layoutId:sW(P)},{isStatic:G}=j,H=function(oe){const{initial:ie,animate:de}=function(se,Ie){if(K0(se)){const{initial:ve,animate:he}=se;return{initial:ve===!1||Kf(ve)?ve:void 0,animate:Kf(he)?he:void 0}}return se.inherit!==!1?Ie:{}}(oe,(0,a.useContext)(G0));return(0,a.useMemo)(()=>({initial:ie,animate:de}),[pk(ie),pk(de)])}(P),Q=S(P,G);if(!G&&W0){H.visualElement=function(de,se,Ie,ve){const{visualElement:he}=(0,a.useContext)(G0),Ae=(0,a.useContext)(hk),ze=(0,a.useContext)(ix),lt=(0,a.useContext)(dk).reducedMotion,Ue=(0,a.useRef)();ve=ve||Ae.renderer,!Ue.current&&ve&&(Ue.current=ve(de,{visualState:se,parent:he,props:Ie,presenceContext:ze,blockInitialAnimation:!!ze&&ze.initial===!1,reducedMotionConfig:lt}));const ht=Ue.current;(0,a.useInsertionEffect)(()=>{ht&&ht.update(Ie,ze)});const Ot=(0,a.useRef)(!!window.HandoffAppearAnimations);return uk(()=>{ht&&(ht.render(),Ot.current&&ht.animationState&&ht.animationState.animateChanges())}),(0,a.useEffect)(()=>{ht&&(ht.updateFeatures(),!Ot.current&&ht.animationState&&ht.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,Ot.current=!1)}),ht}(A,Q,j,m);const oe=(0,a.useContext)(vk),ie=(0,a.useContext)(hk).strict;H.visualElement&&(F=H.visualElement.loadFeatures(j,ie,f,oe))}return a.createElement(G0.Provider,{value:H},F&&H.visualElement?a.createElement(F,{visualElement:H.visualElement,...j}):null,w(A,P,function(oe,ie,de){return(0,a.useCallback)(se=>{se&&oe.mount&&oe.mount(se),ie&&(se?ie.mount(se):ie.unmount()),de&&(typeof de=="function"?de(se):bd(de)&&(de.current=se))},[ie])}(Q,H.visualElement,L),Q,G,H.visualElement))});return N[rW]=A,N}function sW({layoutId:f}){const m=(0,a.useContext)(gk).id;return m&&f!==void 0?m+"-"+f:f}function oW(f){function m(S,A={}){return iW(f(S,A))}if(typeof Proxy>"u")return m;const w=new Map;return new Proxy(m,{get:(S,A)=>(w.has(A)||w.set(A,m(A)),w.get(A))})}const aW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ax(f){return typeof f=="string"&&!f.includes("-")&&!!(aW.indexOf(f)>-1||/[A-Z]/.test(f))}const Q0={};function yk(f,{layout:m,layoutId:w}){return vn.has(f)||f.startsWith("origin")||(m||w!==void 0)&&(!!Q0[f]||f==="opacity")}const lW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cW=Ut.length,uW=(f,m)=>m&&typeof f=="number"?m.transform(f):f;function lx(f,m,w,S){const{style:A,vars:N,transform:P,transformOrigin:L}=f;let F=!1,j=!1,G=!0;for(const H in m){const Q=m[H];if(V(H)){N[H]=Q;continue}const oe=Dn[H],ie=uW(Q,oe);if(vn.has(H)){if(F=!0,P[H]=ie,!G)continue;Q!==(oe.default||0)&&(G=!1)}else H.startsWith("origin")?(j=!0,L[H]=ie):A[H]=ie}if(m.transform||(F||S?A.transform=function(H,{enableHardwareAcceleration:Q=!0,allowTransformNone:oe=!0},ie,de){let se="";for(let Ie=0;Ie<cW;Ie++){const ve=Ut[Ie];H[ve]!==void 0&&(se+=`${lW[ve]||ve}(${H[ve]}) `)}return Q&&!H.z&&(se+="translateZ(0)"),se=se.trim(),de?se=de(H,ie?"":se):oe&&ie&&(se="none"),se}(f.transform,w,G,S):A.transform&&(A.transform="none")),j){const{originX:H="50%",originY:Q="50%",originZ:oe=0}=L;A.transformOrigin=`${H} ${Q} ${oe}`}}function wk(f,m,w){for(const S in m)qi(m[S])||yk(S,w)||(f[S]=m[S])}function dW(f,m,w){const S={},A=function(N,P,L){const F={};return wk(F,N.style||{},N),Object.assign(F,function({transformTemplate:j},G,H){return(0,a.useMemo)(()=>{const Q={style:{},transform:{},transformOrigin:{},vars:{}};return lx(Q,G,{enableHardwareAcceleration:!H},j),Object.assign({},Q.vars,Q.style)},[G])}(N,P,L)),N.transformValues?N.transformValues(F):F}(f,m,w);return f.drag&&f.dragListener!==!1&&(S.draggable=!1,A.userSelect=A.WebkitUserSelect=A.WebkitTouchCallout="none",A.touchAction=f.drag===!0?"none":"pan-"+(f.drag==="x"?"y":"x")),f.tabIndex===void 0&&(f.onTap||f.onTapStart||f.whileTap)&&(S.tabIndex=0),S.style=A,S}const hW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Y0(f){return f.startsWith("while")||f.startsWith("drag")&&f!=="draggable"||f.startsWith("layout")||f.startsWith("onTap")||f.startsWith("onPan")||hW.has(f)}let _k=f=>!Y0(f);try{(bk=RIe.default)&&(_k=f=>f.startsWith("on")?!Y0(f):bk(f))}catch{}var bk;function xk(f,m,w){return typeof f=="string"?f:we.transform(m+w*f)}const fW={offset:"stroke-dashoffset",array:"stroke-dasharray"},pW={offset:"strokeDashoffset",array:"strokeDasharray"};function cx(f,{attrX:m,attrY:w,attrScale:S,originX:A,originY:N,pathLength:P,pathSpacing:L=1,pathOffset:F=0,...j},G,H,Q){if(lx(f,j,G,Q),H)return void(f.style.viewBox&&(f.attrs.viewBox=f.style.viewBox));f.attrs=f.style,f.style={};const{attrs:oe,style:ie,dimensions:de}=f;oe.transform&&(de&&(ie.transform=oe.transform),delete oe.transform),de&&(A!==void 0||N!==void 0||ie.transform)&&(ie.transformOrigin=function(se,Ie,ve){return`${xk(Ie,se.x,se.width)} ${xk(ve,se.y,se.height)}`}(de,A!==void 0?A:.5,N!==void 0?N:.5)),m!==void 0&&(oe.x=m),w!==void 0&&(oe.y=w),S!==void 0&&(oe.scale=S),P!==void 0&&function(se,Ie,ve=1,he=0,Ae=!0){se.pathLength=1;const ze=Ae?fW:pW;se[ze.offset]=we.transform(-he);const lt=we.transform(Ie),Ue=we.transform(ve);se[ze.array]=`${lt} ${Ue}`}(oe,P,L,F,!1)}const ux=f=>typeof f=="string"&&f.toLowerCase()==="svg";function mW(f,m,w,S){const A=(0,a.useMemo)(()=>{const N={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return cx(N,m,{enableHardwareAcceleration:!1},ux(S),f.transformTemplate),{...N.attrs,style:{...N.style}}},[m]);if(f.style){const N={};wk(N,f.style,f),A.style={...N,...A.style}}return A}function gW(f=!1){return(m,w,S,{latestValues:A},N)=>{const P=(ax(m)?mW:dW)(w,A,N,m),L={...function(G,H,Q){const oe={};for(const ie in G)ie==="values"&&typeof G.values=="object"||(_k(ie)||Q===!0&&Y0(ie)||!H&&!Y0(ie)||G.draggable&&ie.startsWith("onDrag"))&&(oe[ie]=G[ie]);return oe}(w,typeof m=="string",f),...P,ref:S},{children:F}=w,j=(0,a.useMemo)(()=>qi(F)?F.get():F,[F]);return(0,a.createElement)(m,{...L,children:j})}}function Ek(f,{style:m,vars:w},S,A){Object.assign(f.style,m,A&&A.getProjectionStyles(S));for(const N in w)f.style.setProperty(N,w[N])}const Sk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tk(f,m,w,S){Ek(f,m,void 0,S);for(const A in m.attrs)f.setAttribute(Sk.has(A)?A:yn(A),m.attrs[A])}function dx(f,m){const{style:w}=f,S={};for(const A in w)(qi(w[A])||m.style&&qi(m.style[A])||yk(A,f))&&(S[A]=w[A]);return S}function Ck(f,m){const w=dx(f,m);for(const S in f)(qi(f[S])||qi(m[S]))&&(w[Ut.indexOf(S)!==-1?"attr"+S.charAt(0).toUpperCase()+S.substring(1):S]=f[S]);return w}function X0(f){const m=qi(f)?f.get():f;return w=m,w&&typeof w=="object"&&w.mix&&w.toValue?m.toValue():m;var w}const Ik=f=>(m,w)=>{const S=(0,a.useContext)(G0),A=(0,a.useContext)(ix),N=()=>function({scrapeMotionValuesFromProps:P,createRenderState:L,onMount:F},j,G,H){const Q={latestValues:vW(j,G,H,P),renderState:L()};return F&&(Q.mount=oe=>F(j,oe,Q)),Q}(f,m,S,A);return w?N():ck(N)};function vW(f,m,w,S){const A={},N=S(f,{});for(const Q in N)A[Q]=X0(N[Q]);let{initial:P,animate:L}=f;const F=K0(f),j=fk(f);m&&j&&!F&&f.inherit!==!1&&(P===void 0&&(P=m.initial),L===void 0&&(L=m.animate));let G=!!w&&w.initial===!1;G=G||P===!1;const H=G?L:P;return H&&typeof H!="boolean"&&!q0(H)&&(Array.isArray(H)?H:[H]).forEach(Q=>{const oe=Ve(f,Q);if(!oe)return;const{transitionEnd:ie,transition:de,...se}=oe;for(const Ie in se){let ve=se[Ie];Array.isArray(ve)&&(ve=ve[G?ve.length-1:0]),ve!==null&&(A[Ie]=ve)}for(const Ie in ie)A[Ie]=ie[Ie]}),A}const yW={useVisualState:Ik({scrapeMotionValuesFromProps:Ck,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),onMount:(f,m,{renderState:w,latestValues:S})=>{D.read(()=>{try{w.dimensions=typeof m.getBBox=="function"?m.getBBox():m.getBoundingClientRect()}catch{w.dimensions={x:0,y:0,width:0,height:0}}}),D.render(()=>{cx(w,S,{enableHardwareAcceleration:!1},ux(m.tagName),f.transformTemplate),Tk(m,w)})}})},wW={useVisualState:Ik({scrapeMotionValuesFromProps:dx,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{}})})};function Ea(f,m,w,S={passive:!0}){return f.addEventListener(m,w,S),()=>f.removeEventListener(m,w)}const Nk=f=>f.pointerType==="mouse"?typeof f.button!="number"||f.button<=0:f.isPrimary!==!1;function J0(f,m="page"){return{point:{x:f[m+"X"],y:f[m+"Y"]}}}function Sa(f,m,w,S){return Ea(f,m,(A=>N=>Nk(N)&&A(N,J0(N)))(w),S)}function Rk(f){let m=null;return()=>m===null&&(m=f,()=>{m=null})}const Ak=Rk("dragHorizontal"),kk=Rk("dragVertical");function Pk(f){let m=!1;if(f==="y")m=kk();else if(f==="x")m=Ak();else{const w=Ak(),S=kk();w&&S?m=()=>{w(),S()}:(w&&w(),S&&S())}return m}function Dk(){const f=Pk(!0);return!f||(f(),!1)}class dl{constructor(m){this.isMounted=!1,this.node=m}update(){}}function Lk(f,m){const w="pointer"+(m?"enter":"leave"),S="onHover"+(m?"Start":"End");return Sa(f.current,w,(A,N)=>{if(A.type==="touch"||Dk())return;const P=f.getProps();f.animationState&&P.whileHover&&f.animationState.setActive("whileHover",m),P[S]&&D.update(()=>P[S](A,N))},{passive:!f.getProps()[S]})}const Ok=(f,m)=>!!m&&(f===m||Ok(f,m.parentElement));function hx(f,m){if(!m)return;const w=new PointerEvent("pointer"+f);m(w,J0(w))}const fx=new WeakMap,px=new WeakMap,_W=f=>{const m=fx.get(f.target);m&&m(f)},bW=f=>{f.forEach(_W)},xW={some:0,all:1},EW={inView:{Feature:class extends dl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:f={}}=this.node.getProps(),{root:m,margin:w,amount:S="some",once:A}=f,N={root:m?m.current:void 0,rootMargin:w,threshold:typeof S=="number"?S:xW[S]};return function(P,L,F){const j=function({root:G,...H}){const Q=G||document;px.has(Q)||px.set(Q,{});const oe=px.get(Q),ie=JSON.stringify(H);return oe[ie]||(oe[ie]=new IntersectionObserver(bW,{root:G,...H})),oe[ie]}(L);return fx.set(P,F),j.observe(P),()=>{fx.delete(P),j.unobserve(P)}}(this.node.current,N,P=>{const{isIntersecting:L}=P;if(this.isInView===L||(this.isInView=L,A&&!L&&this.hasEnteredView))return;L&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",L);const{onViewportEnter:F,onViewportLeave:j}=this.node.getProps(),G=L?F:j;G&&G(P)})}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:f,prevProps:m}=this.node;["amount","margin","root"].some(function({viewport:w={}},{viewport:S={}}={}){return A=>w[A]!==S[A]}(f,m))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends dl{constructor(){super(...arguments),this.removeStartListeners=c,this.removeEndListeners=c,this.removeAccessibleListeners=c,this.startPointerPress=(f,m)=>{if(this.removeEndListeners(),this.isPressing)return;const w=this.node.getProps(),S=Sa(window,"pointerup",(N,P)=>{if(!this.checkPressEnd())return;const{onTap:L,onTapCancel:F}=this.node.getProps();D.update(()=>{Ok(this.node.current,N.target)?L&&L(N,P):F&&F(N,P)})},{passive:!(w.onTap||w.onPointerUp)}),A=Sa(window,"pointercancel",(N,P)=>this.cancelPress(N,P),{passive:!(w.onTapCancel||w.onPointerCancel)});this.removeEndListeners=ur(S,A),this.startPress(f,m)},this.startAccessiblePress=()=>{const f=Ea(this.node.current,"keydown",w=>{w.key!=="Enter"||this.isPressing||(this.removeEndListeners(),this.removeEndListeners=Ea(this.node.current,"keyup",S=>{S.key==="Enter"&&this.checkPressEnd()&&hx("up",(A,N)=>{const{onTap:P}=this.node.getProps();P&&D.update(()=>P(A,N))})}),hx("down",(S,A)=>{this.startPress(S,A)}))}),m=Ea(this.node.current,"blur",()=>{this.isPressing&&hx("cancel",(w,S)=>this.cancelPress(w,S))});this.removeAccessibleListeners=ur(f,m)}}startPress(f,m){this.isPressing=!0;const{onTapStart:w,whileTap:S}=this.node.getProps();S&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),w&&D.update(()=>w(f,m))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Dk()}cancelPress(f,m){if(!this.checkPressEnd())return;const{onTapCancel:w}=this.node.getProps();w&&D.update(()=>w(f,m))}mount(){const f=this.node.getProps(),m=Sa(this.node.current,"pointerdown",this.startPointerPress,{passive:!(f.onTapStart||f.onPointerStart)}),w=Ea(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ur(m,w)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends dl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let f=!1;try{f=this.node.current.matches(":focus-visible")}catch{f=!0}f&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ur(Ea(this.node.current,"focus",()=>this.onFocus()),Ea(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends dl{mount(){this.unmount=ur(Lk(this.node,!0),Lk(this.node,!1))}unmount(){}}}};function Mk(f,m){if(!Array.isArray(m))return!1;const w=m.length;if(w!==f.length)return!1;for(let S=0;S<w;S++)if(m[S]!==f[S])return!1;return!0}const SW=[...sx].reverse(),TW=sx.length;function $c(f=!1){return{isActive:f,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let CW=0;const IW={animation:{Feature:class extends dl{constructor(f){super(f),f.animationState||(f.animationState=function(m){let w=function(L){return F=>Promise.all(F.map(({animation:j,options:G})=>lk(L,j,G)))}(m);const S={animate:$c(!0),whileInView:$c(),whileHover:$c(),whileTap:$c(),whileDrag:$c(),whileFocus:$c(),exit:$c()};let A=!0;const N=(L,F)=>{const j=Ge(m,F);if(j){const{transition:G,transitionEnd:H,...Q}=j;L={...L,...Q,...H}}return L};function P(L,F){const j=m.getProps(),G=m.getVariantContext(!0)||{},H=[],Q=new Set;let oe={},ie=1/0;for(let ve=0;ve<TW;ve++){const he=SW[ve],Ae=S[he],ze=j[he]!==void 0?j[he]:G[he],lt=Kf(ze),Ue=he===F?Ae.isActive:null;Ue===!1&&(ie=ve);let ht=ze===G[he]&&ze!==j[he]&&lt;if(ht&&A&&m.manuallyAnimateOnMount&&(ht=!1),Ae.protectedKeys={...oe},!Ae.isActive&&Ue===null||!ze&&!Ae.prevProp||q0(ze)||typeof ze=="boolean")continue;const Ot=(de=Ae.prevProp,typeof(se=ze)=="string"?se!==de:!!Array.isArray(se)&&!Mk(se,de));let In=Ot||he===F&&Ae.isActive&&!ht&&lt||ve>ie&&lt;const On=Array.isArray(ze)?ze:[ze];let Rt=On.reduce(N,{});Ue===!1&&(Rt={});const{prevResolvedValues:yr={}}=Ae,At={...yr,...Rt},_t=gt=>{In=!0,Q.delete(gt),Ae.needsAnimating[gt]=!0};for(const gt in At){const Qt=Rt[gt],hn=yr[gt];oe.hasOwnProperty(gt)||(Qt!==hn?g(Qt)&&g(hn)?!Mk(Qt,hn)||Ot?_t(gt):Ae.protectedKeys[gt]=!0:Qt!==void 0?_t(gt):Q.add(gt):Qt!==void 0&&Q.has(gt)?_t(gt):Ae.protectedKeys[gt]=!0)}Ae.prevProp=ze,Ae.prevResolvedValues=Rt,Ae.isActive&&(oe={...oe,...Rt}),A&&m.blockInitialAnimation&&(In=!1),In&&!ht&&H.push(...On.map(gt=>({animation:gt,options:{type:he,...L}})))}var de,se;if(Q.size){const ve={};Q.forEach(he=>{const Ae=m.getBaseTarget(he);Ae!==void 0&&(ve[he]=Ae)}),H.push({animation:ve})}let Ie=!!H.length;return A&&j.initial===!1&&!m.manuallyAnimateOnMount&&(Ie=!1),A=!1,Ie?w(H):Promise.resolve()}return{animateChanges:P,setActive:function(L,F,j){var G;if(S[L].isActive===F)return Promise.resolve();(G=m.variantChildren)===null||G===void 0||G.forEach(Q=>{var oe;return(oe=Q.animationState)===null||oe===void 0?void 0:oe.setActive(L,F)}),S[L].isActive=F;const H=P(j,L);for(const Q in S)S[Q].protectedKeys={};return H},setAnimateFunction:function(L){w=L(m)},getState:()=>S}}(f))}updateAnimationControlsSubscription(){const{animate:f}=this.node.getProps();this.unmount(),q0(f)&&(this.unmount=f.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:f}=this.node.getProps(),{animate:m}=this.node.prevProps||{};f!==m&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends dl{constructor(){super(...arguments),this.id=CW++}update(){if(!this.node.presenceContext)return;const{isPresent:f,onExitComplete:m,custom:w}=this.node.presenceContext,{isPresent:S}=this.node.prevPresenceContext||{};if(!this.node.animationState||f===S)return;const A=this.node.animationState.setActive("exit",!f,{custom:w??this.node.getProps().custom});m&&!f&&A.then(()=>m(this.id))}mount(){const{register:f}=this.node.presenceContext||{};f&&(this.unmount=f(this.id))}unmount(){}}}},Fk=(f,m)=>Math.abs(f-m);class Bk{constructor(m,w,{transformPagePoint:S}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const F=gx(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,G=function(de,se){const Ie=Fk(de.x,se.x),ve=Fk(de.y,se.y);return Math.sqrt(Ie**2+ve**2)}(F.offset,{x:0,y:0})>=3;if(!j&&!G)return;const{point:H}=F,{timestamp:Q}=$;this.history.push({...H,timestamp:Q});const{onStart:oe,onMove:ie}=this.handlers;j||(oe&&oe(this.lastMoveEvent,F),this.startEvent=this.lastMoveEvent),ie&&ie(this.lastMoveEvent,F)},this.handlePointerMove=(F,j)=>{this.lastMoveEvent=F,this.lastMoveEventInfo=mx(j,this.transformPagePoint),D.update(this.updatePoint,!0)},this.handlePointerUp=(F,j)=>{if(this.end(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const{onEnd:G,onSessionEnd:H}=this.handlers,Q=gx(F.type==="pointercancel"?this.lastMoveEventInfo:mx(j,this.transformPagePoint),this.history);this.startEvent&&G&&G(F,Q),H&&H(F,Q)},!Nk(m))return;this.handlers=w,this.transformPagePoint=S;const A=mx(J0(m),this.transformPagePoint),{point:N}=A,{timestamp:P}=$;this.history=[{...N,timestamp:P}];const{onSessionStart:L}=w;L&&L(m,gx(A,this.history)),this.removeListeners=ur(Sa(window,"pointermove",this.handlePointerMove),Sa(window,"pointerup",this.handlePointerUp),Sa(window,"pointercancel",this.handlePointerUp))}updateHandlers(m){this.handlers=m}end(){this.removeListeners&&this.removeListeners(),M(this.updatePoint)}}function mx(f,m){return m?{point:m(f.point)}:f}function $k(f,m){return{x:f.x-m.x,y:f.y-m.y}}function gx({point:f},m){return{point:f,delta:$k(f,Uk(m)),offset:$k(f,NW(m)),velocity:RW(m,.1)}}function NW(f){return f[0]}function Uk(f){return f[f.length-1]}function RW(f,m){if(f.length<2)return{x:0,y:0};let w=f.length-1,S=null;const A=Uk(f);for(;w>=0&&(S=f[w],!(A.timestamp-S.timestamp>$e(m)));)w--;if(!S)return{x:0,y:0};const N=vt(A.timestamp-S.timestamp);if(N===0)return{x:0,y:0};const P={x:(A.x-S.x)/N,y:(A.y-S.y)/N};return P.x===1/0&&(P.x=0),P.y===1/0&&(P.y=0),P}function ws(f){return f.max-f.min}function vx(f,m=0,w=.01){return Math.abs(f-m)<=w}function Vk(f,m,w,S=.5){f.origin=S,f.originPoint=dn(m.min,m.max,f.origin),f.scale=ws(w)/ws(m),(vx(f.scale,1,1e-4)||isNaN(f.scale))&&(f.scale=1),f.translate=dn(w.min,w.max,f.origin)-f.originPoint,(vx(f.translate)||isNaN(f.translate))&&(f.translate=0)}function Yf(f,m,w,S){Vk(f.x,m.x,w.x,S?S.originX:void 0),Vk(f.y,m.y,w.y,S?S.originY:void 0)}function jk(f,m,w){f.min=w.min+m.min,f.max=f.min+ws(m)}function zk(f,m,w){f.min=m.min-w.min,f.max=f.min+ws(m)}function Xf(f,m,w){zk(f.x,m.x,w.x),zk(f.y,m.y,w.y)}function Hk(f,m,w){return{min:m!==void 0?f.min+m:void 0,max:w!==void 0?f.max+w-(f.max-f.min):void 0}}function Wk(f,m){let w=m.min-f.min,S=m.max-f.max;return m.max-m.min<f.max-f.min&&([w,S]=[S,w]),{min:w,max:S}}const yx=.35;function Gk(f,m,w){return{min:qk(f,m),max:qk(f,w)}}function qk(f,m){return typeof f=="number"?f:f[m]||0}function Lo(f){return[f("x"),f("y")]}function Kk({top:f,left:m,right:w,bottom:S}){return{x:{min:m,max:w},y:{min:f,max:S}}}function wx(f){return f===void 0||f===1}function _x({scale:f,scaleX:m,scaleY:w}){return!wx(f)||!wx(m)||!wx(w)}function Uc(f){return _x(f)||Qk(f)||f.z||f.rotate||f.rotateX||f.rotateY}function Qk(f){return Yk(f.x)||Yk(f.y)}function Yk(f){return f&&f!=="0%"}function Z0(f,m,w){return w+m*(f-w)}function Xk(f,m,w,S,A){return A!==void 0&&(f=Z0(f,A,S)),Z0(f,w,S)+m}function bx(f,m=0,w=1,S,A){f.min=Xk(f.min,m,w,S,A),f.max=Xk(f.max,m,w,S,A)}function Jk(f,{x:m,y:w}){bx(f.x,m.translate,m.scale,m.originPoint),bx(f.y,w.translate,w.scale,w.originPoint)}function Zk(f){return Number.isInteger(f)||f>1.0000000000001||f<.999999999999?f:1}function hl(f,m){f.min=f.min+m,f.max=f.max+m}function eP(f,m,[w,S,A]){const N=m[A]!==void 0?m[A]:.5,P=dn(f.min,f.max,N);bx(f,m[w],m[S],P,m.scale)}const AW=["x","scaleX","originX"],kW=["y","scaleY","originY"];function xd(f,m){eP(f.x,m,AW),eP(f.y,m,kW)}function tP(f,m){return Kk(function(w,S){if(!S)return w;const A=S({x:w.left,y:w.top}),N=S({x:w.right,y:w.bottom});return{top:A.y,left:A.x,bottom:N.y,right:N.x}}(f.getBoundingClientRect(),m))}const PW=new WeakMap;class DW{constructor(m){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=m}start(m,{snapToCursor:w=!1}={}){const{presenceContext:S}=this.visualElement;S&&S.isPresent===!1||(this.panSession=new Bk(m,{onSessionStart:A=>{this.stopAnimation(),w&&this.snapToCursor(J0(A,"page").point)},onStart:(A,N)=>{const{drag:P,dragPropagation:L,onDragStart:F}=this.getProps();if(P&&!L&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Pk(P),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lo(G=>{let H=this.getAxisMotionValue(G).get()||0;if(Be.test(H)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const oe=Q.layout.layoutBox[G];oe&&(H=ws(oe)*(parseFloat(H)/100))}}this.originPoint[G]=H}),F&&D.update(()=>F(A,N),!1,!0);const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},onMove:(A,N)=>{const{dragPropagation:P,dragDirectionLock:L,onDirectionLock:F,onDrag:j}=this.getProps();if(!P&&!this.openGlobalLock)return;const{offset:G}=N;if(L&&this.currentDirection===null)return this.currentDirection=function(H,Q=10){let oe=null;return Math.abs(H.y)>Q?oe="y":Math.abs(H.x)>Q&&(oe="x"),oe}(G),void(this.currentDirection!==null&&F&&F(this.currentDirection));this.updateAxis("x",N.point,G),this.updateAxis("y",N.point,G),this.visualElement.render(),j&&j(A,N)},onSessionEnd:(A,N)=>this.stop(A,N)},{transformPagePoint:this.visualElement.getTransformPagePoint()}))}stop(m,w){const S=this.isDragging;if(this.cancel(),!S)return;const{velocity:A}=w;this.startAnimation(A);const{onDragEnd:N}=this.getProps();N&&D.update(()=>N(m,w))}cancel(){this.isDragging=!1;const{projection:m,animationState:w}=this.visualElement;m&&(m.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:S}=this.getProps();!S&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),w&&w.setActive("whileDrag",!1)}updateAxis(m,w,S){const{drag:A}=this.getProps();if(!S||!ev(m,A,this.currentDirection))return;const N=this.getAxisMotionValue(m);let P=this.originPoint[m]+S[m];this.constraints&&this.constraints[m]&&(P=function(L,{min:F,max:j},G){return F!==void 0&&L<F?L=G?dn(F,L,G.min):Math.max(L,F):j!==void 0&&L>j&&(L=G?dn(j,L,G.max):Math.min(L,j)),L}(P,this.constraints[m],this.elastic[m])),N.set(P)}resolveConstraints(){const{dragConstraints:m,dragElastic:w}=this.getProps(),{layout:S}=this.visualElement.projection||{},A=this.constraints;m&&bd(m)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!m||!S)&&function(N,{top:P,left:L,bottom:F,right:j}){return{x:Hk(N.x,L,j),y:Hk(N.y,P,F)}}(S.layoutBox,m),this.elastic=function(N=yx){return N===!1?N=0:N===!0&&(N=yx),{x:Gk(N,"left","right"),y:Gk(N,"top","bottom")}}(w),A!==this.constraints&&S&&this.constraints&&!this.hasMutatedConstraints&&Lo(N=>{this.getAxisMotionValue(N)&&(this.constraints[N]=function(P,L){const F={};return L.min!==void 0&&(F.min=L.min-P.min),L.max!==void 0&&(F.max=L.max-P.min),F}(S.layoutBox[N],this.constraints[N]))})}resolveRefConstraints(){const{dragConstraints:m,onMeasureDragConstraints:w}=this.getProps();if(!m||!bd(m))return!1;const S=m.current,{projection:A}=this.visualElement;if(!A||!A.layout)return!1;const N=function(L,F,j){const G=tP(L,j),{scroll:H}=F;return H&&(hl(G.x,H.offset.x),hl(G.y,H.offset.y)),G}(S,A.root,this.visualElement.getTransformPagePoint());let P=function(L,F){return{x:Wk(L.x,F.x),y:Wk(L.y,F.y)}}(A.layout.layoutBox,N);if(w){const L=w(function({x:F,y:j}){return{top:j.min,right:F.max,bottom:j.max,left:F.min}}(P));this.hasMutatedConstraints=!!L,L&&(P=Kk(L))}return P}startAnimation(m){const{drag:w,dragMomentum:S,dragElastic:A,dragTransition:N,dragSnapToOrigin:P,onDragTransitionEnd:L}=this.getProps(),F=this.constraints||{},j=Lo(G=>{if(!ev(G,w,this.currentDirection))return;let H=F&&F[G]||{};P&&(H={min:0,max:0});const Q=A?200:1e6,oe=A?40:1e7,ie={type:"inertia",velocity:S?m[G]:0,bounceStiffness:Q,bounceDamping:oe,timeConstant:750,restDelta:1,restSpeed:10,...N,...H};return this.startAxisValueAnimation(G,ie)});return Promise.all(j).then(L)}startAxisValueAnimation(m,w){const S=this.getAxisMotionValue(m);return S.start(nx(m,S,0,w))}stopAnimation(){Lo(m=>this.getAxisMotionValue(m).stop())}getAxisMotionValue(m){const w="_drag"+m.toUpperCase(),S=this.visualElement.getProps();return S[w]||this.visualElement.getValue(m,(S.initial?S.initial[m]:void 0)||0)}snapToCursor(m){Lo(w=>{const{drag:S}=this.getProps();if(!ev(w,S,this.currentDirection))return;const{projection:A}=this.visualElement,N=this.getAxisMotionValue(w);if(A&&A.layout){const{min:P,max:L}=A.layout.layoutBox[w];N.set(m[w]-dn(P,L,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:m,dragConstraints:w}=this.getProps(),{projection:S}=this.visualElement;if(!bd(w)||!S||!this.constraints)return;this.stopAnimation();const A={x:0,y:0};Lo(P=>{const L=this.getAxisMotionValue(P);if(L){const F=L.get();A[P]=function(j,G){let H=.5;const Q=ws(j),oe=ws(G);return oe>Q?H=Bc(G.min,G.max-Q,j.min):Q>oe&&(H=Bc(j.min,j.max-oe,G.min)),Z(0,1,H)}({min:F,max:F},this.constraints[P])}});const{transformTemplate:N}=this.visualElement.getProps();this.visualElement.current.style.transform=N?N({},""):"none",S.root&&S.root.updateScroll(),S.updateLayout(),this.resolveConstraints(),Lo(P=>{if(!ev(P,m,null))return;const L=this.getAxisMotionValue(P),{min:F,max:j}=this.constraints[P];L.set(dn(F,j,A[P]))})}addListeners(){if(!this.visualElement.current)return;PW.set(this.visualElement,this);const m=Sa(this.visualElement.current,"pointerdown",L=>{const{drag:F,dragListener:j=!0}=this.getProps();F&&j&&this.start(L)}),w=()=>{const{dragConstraints:L}=this.getProps();bd(L)&&(this.constraints=this.resolveRefConstraints())},{projection:S}=this.visualElement,A=S.addEventListener("measure",w);S&&!S.layout&&(S.root&&S.root.updateScroll(),S.updateLayout()),w();const N=Ea(window,"resize",()=>this.scalePositionWithinConstraints()),P=S.addEventListener("didUpdate",({delta:L,hasLayoutChanged:F})=>{this.isDragging&&F&&(Lo(j=>{const G=this.getAxisMotionValue(j);G&&(this.originPoint[j]+=L[j].translate,G.set(G.get()+L[j].translate))}),this.visualElement.render())});return()=>{N(),m(),A(),P&&P()}}getProps(){const m=this.visualElement.getProps(),{drag:w=!1,dragDirectionLock:S=!1,dragPropagation:A=!1,dragConstraints:N=!1,dragElastic:P=yx,dragMomentum:L=!0}=m;return{...m,drag:w,dragDirectionLock:S,dragPropagation:A,dragConstraints:N,dragElastic:P,dragMomentum:L}}}function ev(f,m,w){return!(m!==!0&&m!==f||w!==null&&w!==f)}const nP=f=>(m,w)=>{f&&D.update(()=>f(m,w))},tv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rP(f,m){return m.max===m.min?0:f/(m.max-m.min)*100}const Jf={correct:(f,m)=>{if(!m.target)return f;if(typeof f=="string"){if(!we.test(f))return f;f=parseFloat(f)}return`${rP(f,m.target.x)}% ${rP(f,m.target.y)}%`}},LW={correct:(f,{treeScale:m,projectionDelta:w})=>{const S=f,A=Xe.parse(f);if(A.length>5)return S;const N=Xe.createTransformer(f),P=typeof A[0]!="number"?1:0,L=w.x.scale*m.x,F=w.y.scale*m.y;A[0+P]/=L,A[1+P]/=F;const j=dn(L,F,.5);return typeof A[2+P]=="number"&&(A[2+P]/=j),typeof A[3+P]=="number"&&(A[3+P]/=j),N(A)}};class OW extends a.Component{componentDidMount(){const{visualElement:m,layoutGroup:w,switchLayoutGroup:S,layoutId:A}=this.props,{projection:N}=m;var P;P=MW,Object.assign(Q0,P),N&&(w.group&&w.group.add(N),S&&S.register&&A&&S.register(N),N.root.didUpdate(),N.addEventListener("animationComplete",()=>{this.safeToRemove()}),N.setOptions({...N.options,onExitComplete:()=>this.safeToRemove()})),tv.hasEverUpdated=!0}getSnapshotBeforeUpdate(m){const{layoutDependency:w,visualElement:S,drag:A,isPresent:N}=this.props,P=S.projection;return P&&(P.isPresent=N,A||m.layoutDependency!==w||w===void 0?P.willUpdate():this.safeToRemove(),m.isPresent!==N&&(N?P.promote():P.relegate()||D.postRender(()=>{const L=P.getStack();L&&L.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:m}=this.props.visualElement;m&&(m.root.didUpdate(),queueMicrotask(()=>{!m.currentAnimation&&m.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:m,layoutGroup:w,switchLayoutGroup:S}=this.props,{projection:A}=m;A&&(A.scheduleCheckAfterUnmount(),w&&w.group&&w.group.remove(A),S&&S.deregister&&S.deregister(A))}safeToRemove(){const{safeToRemove:m}=this.props;m&&m()}render(){return null}}function iP(f){const[m,w]=function(){const A=(0,a.useContext)(ix);if(A===null)return[!0,null];const{isPresent:N,onExitComplete:P,register:L}=A,F=(0,a.useId)();return(0,a.useEffect)(()=>L(F),[]),!N&&P?[!1,()=>P&&P(F)]:[!0]}(),S=(0,a.useContext)(gk);return a.createElement(OW,{...f,layoutGroup:S,switchLayoutGroup:(0,a.useContext)(vk),isPresent:m,safeToRemove:w})}const MW={borderRadius:{...Jf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jf,borderTopRightRadius:Jf,borderBottomLeftRadius:Jf,borderBottomRightRadius:Jf,boxShadow:LW},sP=["TopLeft","TopRight","BottomLeft","BottomRight"],FW=sP.length,oP=f=>typeof f=="string"?parseFloat(f):f,aP=f=>typeof f=="number"||we.test(f);function lP(f,m){return f[m]!==void 0?f[m]:f.borderRadius}const BW=cP(0,.5,co),$W=cP(.5,.95,c);function cP(f,m,w){return S=>S<f?0:S>m?1:w(Bc(f,m,S))}function uP(f,m){f.min=m.min,f.max=m.max}function Vs(f,m){uP(f.x,m.x),uP(f.y,m.y)}function dP(f,m,w,S,A){return f=Z0(f-=m,1/w,S),A!==void 0&&(f=Z0(f,1/A,S)),f}function hP(f,m,[w,S,A],N,P){(function(L,F=0,j=1,G=.5,H,Q=L,oe=L){if(Be.test(F)&&(F=parseFloat(F),F=dn(oe.min,oe.max,F/100)-oe.min),typeof F!="number")return;let ie=dn(Q.min,Q.max,G);L===Q&&(ie-=F),L.min=dP(L.min,F,j,ie,H),L.max=dP(L.max,F,j,ie,H)})(f,m[w],m[S],m[A],m.scale,N,P)}const UW=["x","scaleX","originX"],VW=["y","scaleY","originY"];function fP(f,m,w,S){hP(f.x,m,UW,w?w.x:void 0,S?S.x:void 0),hP(f.y,m,VW,w?w.y:void 0,S?S.y:void 0)}function pP(f){return f.translate===0&&f.scale===1}function mP(f){return pP(f.x)&&pP(f.y)}function gP(f,m){return Math.round(f.x.min)===Math.round(m.x.min)&&Math.round(f.x.max)===Math.round(m.x.max)&&Math.round(f.y.min)===Math.round(m.y.min)&&Math.round(f.y.max)===Math.round(m.y.max)}function vP(f){return ws(f.x)/ws(f.y)}class jW{constructor(){this.members=[]}add(m){_(this.members,m),m.scheduleRender()}remove(m){if(R(this.members,m),m===this.prevLead&&(this.prevLead=void 0),m===this.lead){const w=this.members[this.members.length-1];w&&this.promote(w)}}relegate(m){const w=this.members.findIndex(A=>m===A);if(w===0)return!1;let S;for(let A=w;A>=0;A--){const N=this.members[A];if(N.isPresent!==!1){S=N;break}}return!!S&&(this.promote(S),!0)}promote(m,w){const S=this.lead;if(m!==S&&(this.prevLead=S,this.lead=m,m.show(),S)){S.instance&&S.scheduleRender(),m.scheduleRender(),m.resumeFrom=S,w&&(m.resumeFrom.preserveOpacity=!0),S.snapshot&&(m.snapshot=S.snapshot,m.snapshot.latestValues=S.animationValues||S.latestValues),m.root&&m.root.isUpdating&&(m.isLayoutDirty=!0);const{crossfade:A}=m.options;A===!1&&S.hide()}}exitAnimationComplete(){this.members.forEach(m=>{const{options:w,resumingFrom:S}=m;w.onExitComplete&&w.onExitComplete(),S&&S.options.onExitComplete&&S.options.onExitComplete()})}scheduleRender(){this.members.forEach(m=>{m.instance&&m.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yP(f,m,w){let S="";const A=f.x.translate/m.x,N=f.y.translate/m.y;if((A||N)&&(S=`translate3d(${A}px, ${N}px, 0) `),m.x===1&&m.y===1||(S+=`scale(${1/m.x}, ${1/m.y}) `),w){const{rotate:F,rotateX:j,rotateY:G}=w;F&&(S+=`rotate(${F}deg) `),j&&(S+=`rotateX(${j}deg) `),G&&(S+=`rotateY(${G}deg) `)}const P=f.x.scale*m.x,L=f.y.scale*m.y;return P===1&&L===1||(S+=`scale(${P}, ${L})`),S||"none"}const zW=(f,m)=>f.depth-m.depth;class HW{constructor(){this.children=[],this.isDirty=!1}add(m){_(this.children,m),this.isDirty=!0}remove(m){R(this.children,m),this.isDirty=!0}forEach(m){this.isDirty&&this.children.sort(zW),this.isDirty=!1,this.children.forEach(m)}}const wP=["","X","Y","Z"];let WW=0;const Vc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _P({attachResizeListener:f,defaultParent:m,measureScroll:w,checkIsScrollRoot:S,resetTransform:A}){return class{constructor(N={},P=m==null?void 0:m()){this.id=WW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var L;Vc.totalNodes=Vc.resolvedTargetDeltas=Vc.recalculatedProjection=0,this.nodes.forEach(KW),this.nodes.forEach(ZW),this.nodes.forEach(eG),this.nodes.forEach(QW),L=Vc,window.MotionDebug&&window.MotionDebug.record(L)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=N,this.root=P?P.root||P:this,this.path=P?[...P.path,P]:[],this.parent=P,this.depth=P?P.depth+1:0;for(let L=0;L<this.path.length;L++)this.path[L].shouldResetTransform=!0;this.root===this&&(this.nodes=new HW)}addEventListener(N,P){return this.eventHandlers.has(N)||this.eventHandlers.set(N,new E),this.eventHandlers.get(N).add(P)}notifyListeners(N,...P){const L=this.eventHandlers.get(N);L&&L.notify(...P)}hasListeners(N){return this.eventHandlers.has(N)}mount(N,P=this.root.hasTreeAnimated){if(this.instance)return;var L;this.isSVG=(L=N)instanceof SVGElement&&L.tagName!=="svg",this.instance=N;const{layoutId:F,layout:j,visualElement:G}=this.options;if(G&&!G.current&&G.mount(N),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),P&&(j||F)&&(this.isLayoutDirty=!0),f){let H;const Q=()=>this.root.updateBlockedByResize=!1;f(N,()=>{this.root.updateBlockedByResize=!0,H&&H(),H=function(oe,ie){const de=performance.now(),se=({timestamp:Ie})=>{const ve=Ie-de;ve>=250&&(M(se),oe(ve-250))};return D.read(se,!0),()=>M(se)}(Q),tv.hasAnimatedSinceResize&&(tv.hasAnimatedSinceResize=!1,this.nodes.forEach(xP))})}F&&this.root.registerSharedNode(F,this),this.options.animate!==!1&&G&&(F||j)&&this.addEventListener("didUpdate",({delta:H,hasLayoutChanged:Q,hasRelativeTargetChanged:oe,layout:ie})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const de=this.options.transition||G.getDefaultTransition()||iG,{onLayoutAnimationStart:se,onLayoutAnimationComplete:Ie}=G.getProps(),ve=!this.targetLayout||!gP(this.targetLayout,ie)||oe,he=!Q&&oe;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||he||Q&&(ve||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(H,he);const Ae={...ok(de,"layout"),onPlay:se,onComplete:Ie};(G.shouldReduceMotion||this.options.layoutRoot)&&(Ae.delay=0,Ae.type=!1),this.startAnimation(Ae)}else Q||xP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=ie})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const N=this.getStack();N&&N.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,M(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tG),this.animationId++)}getTransformTemplate(){const{visualElement:N}=this.options;return N&&N.getProps().transformTemplate}willUpdate(N=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let j=0;j<this.path.length;j++){const G=this.path[j];G.shouldResetTransform=!0,G.updateScroll("snapshot"),G.options.layoutRoot&&G.willUpdate(!1)}const{layoutId:P,layout:L}=this.options;if(P===void 0&&!L)return;const F=this.getTransformTemplate();this.prevTransformTemplateValue=F?F(this.latestValues,""):void 0,this.updateSnapshot(),N&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(bP);this.isUpdating||this.nodes.forEach(XW),this.isUpdating=!1,this.nodes.forEach(JW),this.nodes.forEach(GW),this.nodes.forEach(qW),this.clearAllSnapshots();const N=performance.now();$.delta=Z(0,1e3/60,N-$.timestamp),$.timestamp=N,$.isProcessing=!0,C.update.process($),C.preRender.process($),C.render.process($),$.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(YW),this.sharedNodes.forEach(nG)}scheduleUpdateProjection(){D.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){D.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let L=0;L<this.path.length;L++)this.path[L].updateScroll();const N=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:P}=this.options;P&&P.notify("LayoutMeasure",this.layout.layoutBox,N?N.layoutBox:void 0)}updateScroll(N="measure"){let P=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===N&&(P=!1),P&&(this.scroll={animationId:this.root.animationId,phase:N,isRoot:S(this.instance),offset:w(this.instance)})}resetTransform(){if(!A)return;const N=this.isLayoutDirty||this.shouldResetTransform,P=this.projectionDelta&&!mP(this.projectionDelta),L=this.getTransformTemplate(),F=L?L(this.latestValues,""):void 0,j=F!==this.prevTransformTemplateValue;N&&(P||Uc(this.latestValues)||j)&&(A(this.instance,F),this.shouldResetTransform=!1,this.scheduleRender())}measure(N=!0){const P=this.measurePageBox();let L=this.removeElementScroll(P);var F;return N&&(L=this.removeTransform(L)),IP((F=L).x),IP(F.y),{animationId:this.root.animationId,measuredBox:P,layoutBox:L,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:N}=this.options;if(!N)return{x:{min:0,max:0},y:{min:0,max:0}};const P=N.measureViewportBox(),{scroll:L}=this.root;return L&&(hl(P.x,L.offset.x),hl(P.y,L.offset.y)),P}removeElementScroll(N){const P={x:{min:0,max:0},y:{min:0,max:0}};Vs(P,N);for(let L=0;L<this.path.length;L++){const F=this.path[L],{scroll:j,options:G}=F;if(F!==this.root&&j&&G.layoutScroll){if(j.isRoot){Vs(P,N);const{scroll:H}=this.root;H&&(hl(P.x,-H.offset.x),hl(P.y,-H.offset.y))}hl(P.x,j.offset.x),hl(P.y,j.offset.y)}}return P}applyTransform(N,P=!1){const L={x:{min:0,max:0},y:{min:0,max:0}};Vs(L,N);for(let F=0;F<this.path.length;F++){const j=this.path[F];!P&&j.options.layoutScroll&&j.scroll&&j!==j.root&&xd(L,{x:-j.scroll.offset.x,y:-j.scroll.offset.y}),Uc(j.latestValues)&&xd(L,j.latestValues)}return Uc(this.latestValues)&&xd(L,this.latestValues),L}removeTransform(N){const P={x:{min:0,max:0},y:{min:0,max:0}};Vs(P,N);for(let L=0;L<this.path.length;L++){const F=this.path[L];if(!F.instance||!Uc(F.latestValues))continue;_x(F.latestValues)&&F.updateSnapshot();const j={x:{min:0,max:0},y:{min:0,max:0}};Vs(j,F.measurePageBox()),fP(P,F.latestValues,F.snapshot?F.snapshot.layoutBox:void 0,j)}return Uc(this.latestValues)&&fP(P,this.latestValues),P}setTargetDelta(N){this.targetDelta=N,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(N){this.options={...this.options,...N,crossfade:N.crossfade===void 0||N.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(N=!1){var P;const L=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=L.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=L.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=L.isSharedProjectionDirty);const F=!!this.resumingFrom||this!==L;if(!(N||F&&this.isSharedProjectionDirty||this.isProjectionDirty||!((P=this.parent)===null||P===void 0)&&P.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:j,layoutId:G}=this.options;if(this.layout&&(j||G)){if(this.resolvedRelativeTargetAt=$.timestamp,!this.targetDelta&&!this.relativeTarget){const ie=this.getClosestProjectingParent();ie&&ie.layout&&this.animationProgress!==1?(this.relativeParent=ie,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Xf(this.relativeTargetOrigin,this.layout.layoutBox,ie.layout.layoutBox),Vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var H,Q,oe;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),H=this.target,Q=this.relativeTarget,oe=this.relativeParent.target,jk(H.x,Q.x,oe.x),jk(H.y,Q.y,oe.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vs(this.target,this.layout.layoutBox),Jk(this.target,this.targetDelta)):Vs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const ie=this.getClosestProjectingParent();ie&&!!ie.resumingFrom==!!this.resumingFrom&&!ie.options.layoutScroll&&ie.target&&this.animationProgress!==1?(this.relativeParent=ie,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Xf(this.relativeTargetOrigin,this.target,ie.target),Vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!_x(this.parent.latestValues)&&!Qk(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const P=this.getLead(),L=!!this.resumingFrom||this!==P;let F=!0;if((this.isProjectionDirty||!((N=this.parent)===null||N===void 0)&&N.isProjectionDirty)&&(F=!1),L&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(F=!1),this.resolvedRelativeTargetAt===$.timestamp&&(F=!1),F)return;const{layout:j,layoutId:G}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!j&&!G)return;Vs(this.layoutCorrected,this.layout.layoutBox);const H=this.treeScale.x,Q=this.treeScale.y;(function(de,se,Ie,ve=!1){const he=Ie.length;if(!he)return;let Ae,ze;se.x=se.y=1;for(let lt=0;lt<he;lt++){Ae=Ie[lt],ze=Ae.projectionDelta;const Ue=Ae.instance;Ue&&Ue.style&&Ue.style.display==="contents"||(ve&&Ae.options.layoutScroll&&Ae.scroll&&Ae!==Ae.root&&xd(de,{x:-Ae.scroll.offset.x,y:-Ae.scroll.offset.y}),ze&&(se.x*=ze.x.scale,se.y*=ze.y.scale,Jk(de,ze)),ve&&Uc(Ae.latestValues)&&xd(de,Ae.latestValues))}se.x=Zk(se.x),se.y=Zk(se.y)})(this.layoutCorrected,this.treeScale,this.path,L),!P.layout||P.target||this.treeScale.x===1&&this.treeScale.y===1||(P.target=P.layout.layoutBox);const{target:oe}=P;if(!oe)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const ie=this.projectionTransform;Yf(this.projectionDelta,this.layoutCorrected,oe,this.latestValues),this.projectionTransform=yP(this.projectionDelta,this.treeScale),this.projectionTransform===ie&&this.treeScale.x===H&&this.treeScale.y===Q||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",oe)),Vc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(N=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),N){const P=this.getStack();P&&P.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(N,P=!1){const L=this.snapshot,F=L?L.latestValues:{},j={...this.latestValues},G={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!P;const H={x:{min:0,max:0},y:{min:0,max:0}},Q=(L?L.source:void 0)!==(this.layout?this.layout.source:void 0),oe=this.getStack(),ie=!oe||oe.members.length<=1,de=!!(Q&&!ie&&this.options.crossfade===!0&&!this.path.some(rG));let se;this.animationProgress=0,this.mixTargetDelta=Ie=>{const ve=Ie/1e3;var he,Ae,ze,lt,Ue,ht;EP(G.x,N.x,ve),EP(G.y,N.y,ve),this.setTargetDelta(G),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xf(H,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ze=this.relativeTarget,lt=this.relativeTargetOrigin,Ue=H,ht=ve,SP(ze.x,lt.x,Ue.x,ht),SP(ze.y,lt.y,Ue.y,ht),se&&(he=this.relativeTarget,Ae=se,he.x.min===Ae.x.min&&he.x.max===Ae.x.max&&he.y.min===Ae.y.min&&he.y.max===Ae.y.max)&&(this.isProjectionDirty=!1),se||(se={x:{min:0,max:0},y:{min:0,max:0}}),Vs(se,this.relativeTarget)),Q&&(this.animationValues=j,function(Ot,In,On,Rt,yr,At){yr?(Ot.opacity=dn(0,On.opacity!==void 0?On.opacity:1,BW(Rt)),Ot.opacityExit=dn(In.opacity!==void 0?In.opacity:1,0,$W(Rt))):At&&(Ot.opacity=dn(In.opacity!==void 0?In.opacity:1,On.opacity!==void 0?On.opacity:1,Rt));for(let _t=0;_t<FW;_t++){const gt=`border${sP[_t]}Radius`;let Qt=lP(In,gt),hn=lP(On,gt);Qt===void 0&&hn===void 0||(Qt||(Qt=0),hn||(hn=0),Qt===0||hn===0||aP(Qt)===aP(hn)?(Ot[gt]=Math.max(dn(oP(Qt),oP(hn),Rt),0),(Be.test(hn)||Be.test(Qt))&&(Ot[gt]+="%")):Ot[gt]=hn)}(In.rotate||On.rotate)&&(Ot.rotate=dn(In.rotate||0,On.rotate||0,Rt))}(j,F,this.latestValues,ve,de,ie)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ve},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(N){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(M(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=D.update(()=>{tv.hasAnimatedSinceResize=!0,this.currentAnimation=function(P,L,F){const j=qi(0)?0:O(0);return j.start(nx("",j,1e3,F)),j.animation}(0,0,{...N,onUpdate:P=>{this.mixTargetDelta(P),N.onUpdate&&N.onUpdate(P)},onComplete:()=>{N.onComplete&&N.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const N=this.getStack();N&&N.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const N=this.getLead();let{targetWithTransforms:P,target:L,layout:F,latestValues:j}=N;if(P&&L&&F){if(this!==N&&this.layout&&F&&NP(this.options.animationType,this.layout.layoutBox,F.layoutBox)){L=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const G=ws(this.layout.layoutBox.x);L.x.min=N.target.x.min,L.x.max=L.x.min+G;const H=ws(this.layout.layoutBox.y);L.y.min=N.target.y.min,L.y.max=L.y.min+H}Vs(P,L),xd(P,j),Yf(this.projectionDeltaWithTransform,this.layoutCorrected,P,j)}}registerSharedNode(N,P){this.sharedNodes.has(N)||this.sharedNodes.set(N,new jW),this.sharedNodes.get(N).add(P);const L=P.options.initialPromotionConfig;P.promote({transition:L?L.transition:void 0,preserveFollowOpacity:L&&L.shouldPreserveFollowOpacity?L.shouldPreserveFollowOpacity(P):void 0})}isLead(){const N=this.getStack();return!N||N.lead===this}getLead(){var N;const{layoutId:P}=this.options;return P&&((N=this.getStack())===null||N===void 0?void 0:N.lead)||this}getPrevLead(){var N;const{layoutId:P}=this.options;return P?(N=this.getStack())===null||N===void 0?void 0:N.prevLead:void 0}getStack(){const{layoutId:N}=this.options;if(N)return this.root.sharedNodes.get(N)}promote({needsReset:N,transition:P,preserveFollowOpacity:L}={}){const F=this.getStack();F&&F.promote(this,L),N&&(this.projectionDelta=void 0,this.needsReset=!0),P&&this.setOptions({transition:P})}relegate(){const N=this.getStack();return!!N&&N.relegate(this)}resetRotation(){const{visualElement:N}=this.options;if(!N)return;let P=!1;const{latestValues:L}=N;if((L.rotate||L.rotateX||L.rotateY||L.rotateZ)&&(P=!0),!P)return;const F={};for(let j=0;j<wP.length;j++){const G="rotate"+wP[j];L[G]&&(F[G]=L[G],N.setStaticValue(G,0))}N.render();for(const j in F)N.setStaticValue(j,F[j]);N.scheduleRender()}getProjectionStyles(N={}){var P,L;const F={};if(!this.instance||this.isSVG)return F;if(!this.isVisible)return{visibility:"hidden"};F.visibility="";const j=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,F.opacity="",F.pointerEvents=X0(N.pointerEvents)||"",F.transform=j?j(this.latestValues,""):"none",F;const G=this.getLead();if(!this.projectionDelta||!this.layout||!G.target){const ie={};return this.options.layoutId&&(ie.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,ie.pointerEvents=X0(N.pointerEvents)||""),this.hasProjected&&!Uc(this.latestValues)&&(ie.transform=j?j({},""):"none",this.hasProjected=!1),ie}const H=G.animationValues||G.latestValues;this.applyTransformsToTarget(),F.transform=yP(this.projectionDeltaWithTransform,this.treeScale,H),j&&(F.transform=j(H,F.transform));const{x:Q,y:oe}=this.projectionDelta;F.transformOrigin=`${100*Q.origin}% ${100*oe.origin}% 0`,G.animationValues?F.opacity=G===this?(L=(P=H.opacity)!==null&&P!==void 0?P:this.latestValues.opacity)!==null&&L!==void 0?L:1:this.preserveOpacity?this.latestValues.opacity:H.opacityExit:F.opacity=G===this?H.opacity!==void 0?H.opacity:"":H.opacityExit!==void 0?H.opacityExit:0;for(const ie in Q0){if(H[ie]===void 0)continue;const{correct:de,applyTo:se}=Q0[ie],Ie=F.transform==="none"?H[ie]:de(H[ie],G);if(se){const ve=se.length;for(let he=0;he<ve;he++)F[se[he]]=Ie}else F[ie]=Ie}return this.options.layoutId&&(F.pointerEvents=G===this?X0(N.pointerEvents)||"":"none"),F}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(N=>{var P;return(P=N.currentAnimation)===null||P===void 0?void 0:P.stop()}),this.root.nodes.forEach(bP),this.root.sharedNodes.clear()}}}function GW(f){f.updateLayout()}function qW(f){var m;const w=((m=f.resumeFrom)===null||m===void 0?void 0:m.snapshot)||f.snapshot;if(f.isLead()&&f.layout&&w&&f.hasListeners("didUpdate")){const{layoutBox:S,measuredBox:A}=f.layout,{animationType:N}=f.options,P=w.source!==f.layout.source;N==="size"?Lo(H=>{const Q=P?w.measuredBox[H]:w.layoutBox[H],oe=ws(Q);Q.min=S[H].min,Q.max=Q.min+oe}):NP(N,w.layoutBox,S)&&Lo(H=>{const Q=P?w.measuredBox[H]:w.layoutBox[H],oe=ws(S[H]);Q.max=Q.min+oe,f.relativeTarget&&!f.currentAnimation&&(f.isProjectionDirty=!0,f.relativeTarget[H].max=f.relativeTarget[H].min+oe)});const L={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Yf(L,S,w.layoutBox);const F={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};P?Yf(F,f.applyTransform(A,!0),w.measuredBox):Yf(F,S,w.layoutBox);const j=!mP(L);let G=!1;if(!f.resumeFrom){const H=f.getClosestProjectingParent();if(H&&!H.resumeFrom){const{snapshot:Q,layout:oe}=H;if(Q&&oe){const ie={x:{min:0,max:0},y:{min:0,max:0}};Xf(ie,w.layoutBox,Q.layoutBox);const de={x:{min:0,max:0},y:{min:0,max:0}};Xf(de,S,oe.layoutBox),gP(ie,de)||(G=!0),H.options.layoutRoot&&(f.relativeTarget=de,f.relativeTargetOrigin=ie,f.relativeParent=H)}}}f.notifyListeners("didUpdate",{layout:S,snapshot:w,delta:F,layoutDelta:L,hasLayoutChanged:j,hasRelativeTargetChanged:G})}else if(f.isLead()){const{onExitComplete:S}=f.options;S&&S()}f.options.transition=void 0}function KW(f){Vc.totalNodes++,f.parent&&(f.isProjecting()||(f.isProjectionDirty=f.parent.isProjectionDirty),f.isSharedProjectionDirty||(f.isSharedProjectionDirty=!!(f.isProjectionDirty||f.parent.isProjectionDirty||f.parent.isSharedProjectionDirty)),f.isTransformDirty||(f.isTransformDirty=f.parent.isTransformDirty))}function QW(f){f.isProjectionDirty=f.isSharedProjectionDirty=f.isTransformDirty=!1}function YW(f){f.clearSnapshot()}function bP(f){f.clearMeasurements()}function XW(f){f.isLayoutDirty=!1}function JW(f){const{visualElement:m}=f.options;m&&m.getProps().onBeforeLayoutMeasure&&m.notify("BeforeLayoutMeasure"),f.resetTransform()}function xP(f){f.finishAnimation(),f.targetDelta=f.relativeTarget=f.target=void 0,f.isProjectionDirty=!0}function ZW(f){f.resolveTargetDelta()}function eG(f){f.calcProjection()}function tG(f){f.resetRotation()}function nG(f){f.removeLeadSnapshot()}function EP(f,m,w){f.translate=dn(m.translate,0,w),f.scale=dn(m.scale,1,w),f.origin=m.origin,f.originPoint=m.originPoint}function SP(f,m,w,S){f.min=dn(m.min,w.min,S),f.max=dn(m.max,w.max,S)}function rG(f){return f.animationValues&&f.animationValues.opacityExit!==void 0}const iG={duration:.45,ease:[.4,0,.1,1]},TP=f=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(f),CP=TP("applewebkit/")&&!TP("chrome/")?Math.round:c;function IP(f){f.min=CP(f.min),f.max=CP(f.max)}function NP(f,m,w){return f==="position"||f==="preserve-aspect"&&!vx(vP(m),vP(w),.2)}const sG=_P({attachResizeListener:(f,m)=>Ea(f,"resize",m),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xx={current:void 0},RP=_P({measureScroll:f=>({x:f.scrollLeft,y:f.scrollTop}),defaultParent:()=>{if(!xx.current){const f=new sG({});f.mount(window),f.setOptions({layoutScroll:!0}),xx.current=f}return xx.current},resetTransform:(f,m)=>{f.style.transform=m!==void 0?m:"none"},checkIsScrollRoot:f=>window.getComputedStyle(f).position==="fixed"}),oG={pan:{Feature:class extends dl{constructor(){super(...arguments),this.removePointerDownListener=c}onPointerDown(f){this.session=new Bk(f,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:f,onPanStart:m,onPan:w,onPanEnd:S}=this.node.getProps();return{onSessionStart:nP(f),onStart:nP(m),onMove:w,onEnd:(A,N)=>{delete this.session,S&&D.update(()=>S(A,N))}}}mount(){this.removePointerDownListener=Sa(this.node.current,"pointerdown",f=>this.onPointerDown(f))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends dl{constructor(f){super(f),this.removeGroupControls=c,this.removeListeners=c,this.controls=new DW(f)}mount(){const{dragControls:f}=this.node.getProps();f&&(this.removeGroupControls=f.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||c}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:RP,MeasureLayout:iP}},aG=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ex(f,m,w=1){const[S,A]=function(P){const L=aG.exec(P);if(!L)return[,];const[,F,j]=L;return[F,j]}(f);if(!S)return;const N=window.getComputedStyle(m).getPropertyValue(S);if(N){const P=N.trim();return p(P)?parseFloat(P):P}return z(A)?Ex(A,m,w+1):A}const lG=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),AP=f=>lG.has(f),nv=f=>f===Te||f===we,kP=(f,m)=>parseFloat(f.split(", ")[m]),PP=(f,m)=>(w,{transform:S})=>{if(S==="none"||!S)return 0;const A=S.match(/^matrix3d\((.+)\)$/);if(A)return kP(A[1],m);{const N=S.match(/^matrix\((.+)\)$/);return N?kP(N[1],f):0}},cG=new Set(["x","y","z"]),uG=Ut.filter(f=>!cG.has(f)),Ed={width:({x:f},{paddingLeft:m="0",paddingRight:w="0"})=>f.max-f.min-parseFloat(m)-parseFloat(w),height:({y:f},{paddingTop:m="0",paddingBottom:w="0"})=>f.max-f.min-parseFloat(m)-parseFloat(w),top:(f,{top:m})=>parseFloat(m),left:(f,{left:m})=>parseFloat(m),bottom:({y:f},{top:m})=>parseFloat(m)+(f.max-f.min),right:({x:f},{left:m})=>parseFloat(m)+(f.max-f.min),x:PP(4,13),y:PP(5,14)};Ed.translateX=Ed.x,Ed.translateY=Ed.y;function dG(f,m,w,S){return(A=>Object.keys(A).some(AP))(m)?((A,N,P={},L={})=>{N={...N},L={...L};const F=Object.keys(N).filter(AP);let j=[],G=!1;const H=[];if(F.forEach(Q=>{const oe=A.getValue(Q);if(!A.hasValue(Q))return;let ie=P[Q],de=Ee(ie);const se=N[Q];let Ie;if(g(se)){const ve=se.length,he=se[0]===null?1:0;ie=se[he],de=Ee(ie);for(let Ae=he;Ae<ve&&se[Ae]!==null;Ae++)Ie?u(Ee(se[Ae])===Ie):(Ie=Ee(se[Ae]),u(Ie===de||nv(de)&&nv(Ie)))}else Ie=Ee(se);if(de!==Ie)if(nv(de)&&nv(Ie)){const ve=oe.get();typeof ve=="string"&&oe.set(parseFloat(ve)),typeof se=="string"?N[Q]=parseFloat(se):Array.isArray(se)&&Ie===we&&(N[Q]=se.map(parseFloat))}else de!=null&&de.transform&&(Ie!=null&&Ie.transform)&&(ie===0||se===0)?ie===0?oe.set(Ie.transform(ie)):N[Q]=de.transform(se):(G||(j=function(ve){const he=[];return uG.forEach(Ae=>{const ze=ve.getValue(Ae);ze!==void 0&&(he.push([Ae,ze.get()]),ze.set(Ae.startsWith("scale")?1:0))}),he.length&&ve.render(),he}(A),G=!0),H.push(Q),L[Q]=L[Q]!==void 0?L[Q]:N[Q],oe.jump(se))}),H.length){const Q=H.indexOf("height")>=0?window.pageYOffset:null,oe=((ie,de,se)=>{const Ie=de.measureViewportBox(),ve=de.current,he=getComputedStyle(ve),{display:Ae}=he,ze={};Ae==="none"&&de.setStaticValue("display",ie.display||"block"),se.forEach(Ue=>{ze[Ue]=Ed[Ue](Ie,he)}),de.render();const lt=de.measureViewportBox();return se.forEach(Ue=>{const ht=de.getValue(Ue);ht&&ht.jump(ze[Ue]),ie[Ue]=Ed[Ue](lt,he)}),ie})(N,A,H);return j.length&&j.forEach(([ie,de])=>{A.getValue(ie).set(de)}),A.render(),W0&&Q!==null&&window.scrollTo({top:Q}),{target:oe,transitionEnd:L}}return{target:N,transitionEnd:L}})(f,m,w,S):{target:m,transitionEnd:S}}const Sx={current:null},DP={current:!1},LP=new WeakMap,OP=Object.keys(Qf),hG=OP.length,MP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],fG=ox.length;class FP extends class{constructor({parent:m,props:w,presenceContext:S,reducedMotionConfig:A,visualState:N},P={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>D.render(this.render,!1,!0);const{latestValues:L,renderState:F}=N;this.latestValues=L,this.baseTarget={...L},this.initialValues=w.initial?{...L}:{},this.renderState=F,this.parent=m,this.props=w,this.presenceContext=S,this.depth=m?m.depth+1:0,this.reducedMotionConfig=A,this.options=P,this.isControllingVariants=K0(w),this.isVariantNode=fk(w),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(m&&m.current);const{willChange:j,...G}=this.scrapeMotionValuesFromProps(w,{});for(const H in G){const Q=G[H];L[H]!==void 0&&qi(Q)&&(Q.set(L[H],!1),H0(j)&&j.add(H))}}scrapeMotionValuesFromProps(m,w){return{}}mount(m){this.current=m,LP.set(m,this),this.projection&&!this.projection.instance&&this.projection.mount(m),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((w,S)=>this.bindToMotionValue(S,w)),DP.current||function(){if(DP.current=!0,W0)if(window.matchMedia){const w=window.matchMedia("(prefers-reduced-motion)"),S=()=>Sx.current=w.matches;w.addListener(S),S()}else Sx.current=!1}(),this.shouldReduceMotion=this.reducedMotionConfig!=="never"&&(this.reducedMotionConfig==="always"||Sx.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){LP.delete(this.current),this.projection&&this.projection.unmount(),M(this.notifyUpdate),M(this.render),this.valueSubscriptions.forEach(m=>m()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const m in this.events)this.events[m].clear();for(const m in this.features)this.features[m].unmount();this.current=null}bindToMotionValue(m,w){const S=vn.has(m),A=w.on("change",P=>{this.latestValues[m]=P,this.props.onUpdate&&D.update(this.notifyUpdate,!1,!0),S&&this.projection&&(this.projection.isTransformDirty=!0)}),N=w.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(m,()=>{A(),N()})}sortNodePosition(m){return this.current&&this.sortInstanceNodePosition&&this.type===m.type?this.sortInstanceNodePosition(this.current,m.current):0}loadFeatures({children:m,...w},S,A,N){let P,L;for(let F=0;F<hG;F++){const j=OP[F],{isEnabled:G,Feature:H,ProjectionNode:Q,MeasureLayout:oe}=Qf[j];Q&&(P=Q),G(w)&&(!this.features[j]&&H&&(this.features[j]=new H(this)),oe&&(L=oe))}if(!this.projection&&P){this.projection=new P(this.latestValues,this.parent&&this.parent.projection);const{layoutId:F,layout:j,drag:G,dragConstraints:H,layoutScroll:Q,layoutRoot:oe}=w;this.projection.setOptions({layoutId:F,layout:j,alwaysMeasureLayout:!!G||H&&bd(H),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof j=="string"?j:"both",initialPromotionConfig:N,layoutScroll:Q,layoutRoot:oe})}return L}updateFeatures(){for(const m in this.features){const w=this.features[m];w.isMounted?w.update():(w.mount(),w.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(m){return this.latestValues[m]}setStaticValue(m,w){this.latestValues[m]=w}makeTargetAnimatable(m,w=!0){return this.makeTargetAnimatableFromInstance(m,this.props,w)}update(m,w){(m.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=m,this.prevPresenceContext=this.presenceContext,this.presenceContext=w;for(let S=0;S<MP.length;S++){const A=MP[S];this.propEventSubscriptions[A]&&(this.propEventSubscriptions[A](),delete this.propEventSubscriptions[A]);const N=m["on"+A];N&&(this.propEventSubscriptions[A]=this.on(A,N))}this.prevMotionValues=function(S,A,N){const{willChange:P}=A;for(const L in A){const F=A[L],j=N[L];if(qi(F))S.addValue(L,F),H0(P)&&P.add(L);else if(qi(j))S.addValue(L,O(F,{owner:S})),H0(P)&&P.remove(L);else if(j!==F)if(S.hasValue(L)){const G=S.getValue(L);!G.hasAnimated&&G.set(F)}else{const G=S.getStaticValue(L);S.addValue(L,O(G!==void 0?G:F,{owner:S}))}}for(const L in N)A[L]===void 0&&S.removeValue(L);return A}(this,this.scrapeMotionValuesFromProps(m,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(m){return this.props.variants?this.props.variants[m]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(m=!1){if(m)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const S=this.parent&&this.parent.getVariantContext()||{};return this.props.initial!==void 0&&(S.initial=this.props.initial),S}const w={};for(let S=0;S<fG;S++){const A=ox[S],N=this.props[A];(Kf(N)||N===!1)&&(w[A]=N)}return w}addVariantChild(m){const w=this.getClosestVariantNode();if(w)return w.variantChildren&&w.variantChildren.add(m),()=>w.variantChildren.delete(m)}addValue(m,w){w!==this.values.get(m)&&(this.removeValue(m),this.bindToMotionValue(m,w)),this.values.set(m,w),this.latestValues[m]=w.get()}removeValue(m){this.values.delete(m);const w=this.valueSubscriptions.get(m);w&&(w(),this.valueSubscriptions.delete(m)),delete this.latestValues[m],this.removeValueFromRenderState(m,this.renderState)}hasValue(m){return this.values.has(m)}getValue(m,w){if(this.props.values&&this.props.values[m])return this.props.values[m];let S=this.values.get(m);return S===void 0&&w!==void 0&&(S=O(w,{owner:this}),this.addValue(m,S)),S}readValue(m){var w;return this.latestValues[m]===void 0&&this.current?(w=this.getBaseTargetFromProps(this.props,m))!==null&&w!==void 0?w:this.readValueFromInstance(this.current,m,this.options):this.latestValues[m]}setBaseTarget(m,w){this.baseTarget[m]=w}getBaseTarget(m){var w;const{initial:S}=this.props,A=typeof S=="string"||typeof S=="object"?(w=Ve(this.props,S))===null||w===void 0?void 0:w[m]:void 0;if(S&&A!==void 0)return A;const N=this.getBaseTargetFromProps(this.props,m);return N===void 0||qi(N)?this.initialValues[m]!==void 0&&A===void 0?void 0:this.baseTarget[m]:N}on(m,w){return this.events[m]||(this.events[m]=new E),this.events[m].add(w)}notify(m,...w){this.events[m]&&this.events[m].notify(...w)}}{sortInstanceNodePosition(m,w){return 2&m.compareDocumentPosition(w)?1:-1}getBaseTargetFromProps(m,w){return m.style?m.style[w]:void 0}removeValueFromRenderState(m,{vars:w,style:S}){delete w[m],delete S[m]}makeTargetAnimatableFromInstance({transition:m,transitionEnd:w,...S},{transformValues:A},N){let P=function(L,F,j){const G={};for(const H in L){const Q=Tt(H,F);if(Q!==void 0)G[H]=Q;else{const oe=j.getValue(H);oe&&(G[H]=oe.get())}}return G}(S,m||{},this);if(A&&(w&&(w=A(w)),S&&(S=A(S)),P&&(P=A(P))),N){(function(F,j,G){var H,Q;const oe=Object.keys(j).filter(se=>!F.hasValue(se)),ie=oe.length;var de;if(ie)for(let se=0;se<ie;se++){const Ie=oe[se],ve=j[Ie];let he=null;Array.isArray(ve)&&(he=ve[0]),he===null&&(he=(Q=(H=G[Ie])!==null&&H!==void 0?H:F.readValue(Ie))!==null&&Q!==void 0?Q:j[Ie]),he!=null&&(typeof he=="string"&&(p(he)||v(he))?he=parseFloat(he):(de=he,!je.find(ee(de))&&Xe.test(ve)&&(he=st(Ie,ve))),F.addValue(Ie,O(he,{owner:F})),G[Ie]===void 0&&(G[Ie]=he),he!==null&&F.setBaseTarget(Ie,he))}})(this,S,P);const L=((F,j,G,H)=>{const Q=function(oe,{...ie},de){const se=oe.current;if(!(se instanceof Element))return{target:ie,transitionEnd:de};de&&(de={...de}),oe.values.forEach(Ie=>{const ve=Ie.get();if(!z(ve))return;const he=Ex(ve,se);he&&Ie.set(he)});for(const Ie in ie){const ve=ie[Ie];if(!z(ve))continue;const he=Ex(ve,se);he&&(ie[Ie]=he,de||(de={}),de[Ie]===void 0&&(de[Ie]=ve))}return{target:ie,transitionEnd:de}}(F,j,H);return dG(F,j=Q.target,G,H=Q.transitionEnd)})(this,S,P,w);w=L.transitionEnd,S=L.target}return{transition:m,transitionEnd:w,...S}}}class pG extends FP{readValueFromInstance(m,w){if(vn.has(w)){const A=mr(w);return A&&A.default||0}{const A=(S=m,window.getComputedStyle(S)),N=(V(w)?A.getPropertyValue(w):A[w])||0;return typeof N=="string"?N.trim():N}var S}measureInstanceViewportBox(m,{transformPagePoint:w}){return tP(m,w)}build(m,w,S,A){lx(m,w,S,A.transformTemplate)}scrapeMotionValuesFromProps(m,w){return dx(m,w)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:m}=this.props;qi(m)&&(this.childSubscription=m.on("change",w=>{this.current&&(this.current.textContent=`${w}`)}))}renderInstance(m,w,S,A){Ek(m,w,S,A)}}class mG extends FP{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(m,w){return m[w]}readValueFromInstance(m,w){if(vn.has(w)){const S=mr(w);return S&&S.default||0}return w=Sk.has(w)?w:yn(w),m.getAttribute(w)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(m,w){return Ck(m,w)}build(m,w,S,A){cx(m,w,S,this.isSVGTag,A.transformTemplate)}renderInstance(m,w,S,A){Tk(m,w,0,A)}mount(m){this.isSVGTag=ux(m.tagName),super.mount(m)}}const gG=(f,m)=>ax(f)?new mG(m,{enableHardwareAcceleration:!1}):new pG(m,{enableHardwareAcceleration:!0}),vG={...IW,...EW,...oG,layout:{ProjectionNode:RP,MeasureLayout:iP}},yG=oW((f,m)=>function(w,{forwardMotionProps:S=!1},A,N){return{...ax(w)?yW:wW,preloadedFeatures:A,useRender:gW(S),createVisualElement:N,Component:w}}(f,m,vG,gG)),wG=[0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9],_G=({className:f,animateToNumber:m,fontStyle:w,transitions:S,includeComma:A,locale:N})=>{const P=l().useRef(null),L=function(de,{root:se,margin:Ie,amount:ve,once:he=!1}={}){const[Ae,ze]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!de.current||he&&Ae)return;const lt={root:se&&se.current||void 0,margin:Ie,amount:ve};return function(Ue,ht,{root:Ot,margin:In,amount:On="some"}={}){const Rt=function(_t,gt,Qt){return typeof _t=="string"?_t=document.querySelectorAll(_t):_t instanceof Element&&(_t=[_t]),Array.from(_t||[])}(Ue),yr=new WeakMap,At=new IntersectionObserver(_t=>{_t.forEach(gt=>{const Qt=yr.get(gt.target);if(gt.isIntersecting!==!!Qt)if(gt.isIntersecting){const hn=ht(gt);typeof hn=="function"?yr.set(gt.target,hn):At.unobserve(gt.target)}else Qt&&(Qt(gt),yr.delete(gt.target))})},{root:Ot,rootMargin:In,threshold:typeof On=="number"?On:d[On]});return Rt.forEach(_t=>At.observe(_t)),()=>At.disconnect()}(de.current,()=>(ze(!0),he?void 0:()=>ze(!1)),lt)},[se,de,Ie,he]),Ae}(P,{once:!0}),F=function(){const de=ck(nW);return uk(de.mount,[]),de}(),j=l().useRef(0),G=A?Math.abs(m).toLocaleString(N||"en-US"):String(Math.abs(m)),H=Array.from(G,Number).map((de,se)=>isNaN(de)?G[se]:de),[Q,oe]=l().useState(0),ie=l().useRef(null);return l().useEffect(()=>{var de,se;const Ie=(de=ie.current.getClientRects())===null||de===void 0||(se=de[0])===null||se===void 0?void 0:se.height;Ie&&oe(Ie)},[m,w]),l().useEffect(()=>{L&&F.start("visible")},[L,m]),l().createElement("span",{ref:P},Q!==0&&l().createElement("div",{style:{display:"flex",flexDirection:"row",overflow:"hidden"},className:f},H.map((de,se)=>typeof de=="string"?l().createElement("div",{key:se,style:{...w,fontVariantNumeric:"tabular-nums"}},de):l().createElement("div",{key:se,style:{height:Q}},wG.map(Ie=>l().createElement(yG.div,{style:{...w,fontVariantNumeric:"tabular-nums"},key:""+j.current++,initial:"hidden",variants:{hidden:{y:0},visible:{y:Q*H[se]*-1-20*Q}},animate:F,transition:S==null?void 0:S(se)},Ie))))),l().createElement("div",{ref:ie,style:{position:"absolute",top:-9999,...w}},0))},bG=l().memo(_G,(f,m)=>f.animateToNumber===m.animateToNumber&&f.fontStyle===m.fontStyle&&f.includeComma===m.includeComma)})(),o})()})})(jH);var AIe=jH.exports;const kIe=Ag(AIe),Lr=Oa($t),FM=lr($t),PIe=()=>{var Gi,si,vs,ys,lo,gr,Gt,Us,co,ba,xa,uo,_d,Mc,ll,dn,cl,ul;const t=Dh().number,e=parseInt(Dh().time),n=xc(),r=localStorage.getItem("userAuthID"),[i,s,o]=YA(tn(Lr,`users/table${t}/players`));var a=i?i==null?void 0:i.filter((bt,Nt,jt)=>Nt===jt.findIndex(yi=>yi.key===bt.key)):[];const[l,c]=y.useState(null),[u,d]=y.useState(!1),[p,v]=ut(OH),[g,_]=y.useState(!1),[R,E]=y.useState(0),[b,T]=y.useState(0),[I,D]=y.useState(!0),[M,$]=y.useState(0),[C,k]=y.useState(""),[O,W]=y.useState(0),[V,z]=y.useState(0),[Y,fe]=y.useState(!1),[ge,K]=ut(LH),[J,Z]=ut(MH),[Te,ke]=ut(DH),[U,ne]=y.useState(0),[te,ue]=y.useState(0),[le,Oe]=ut(Ub),[We,me]=ut(Vb),[Be,we]=ut(jb),[nt,rt]=ut(zb),[wt,_e]=y.useState("VERTICAL"),[Ye,B]=y.useState("#0E192D"),[X,re]=y.useState("GRAY_12"),[xe,be]=y.useState("BACKGROUND_COLORED"),[pe,De]=y.useState(!1),[St,Xe]=y.useState(!1),[Ht,qn]=y.useState(!1),[cn,Cn]=y.useState(!1),[mt,Dn]=y.useState(0),[Ne,mr]=y.useState(!1),[st,ee]=y.useState(!0),q=async()=>{var bt=i.filter((wi,Fc,Bc)=>Fc===Bc.findIndex(V0=>V0.key===wi.key));const Nt=yt(FM,"users",r);var jt=0,yi=0;bt.map(wi=>{wi.val().boxClicked===1&&++jt,wi.val().boxClicked===2&&++yi});var ur=jt+yi===0?1:jt+yi,vr=jt<yi?1:jt>yi?2:0;const qf=(jt/ur*100).toFixed(0),U0=(yi/ur*100).toFixed(0);if(W(qf),z(U0),await ct(Nt,{"allGamesPlayed.secondsPlayed":Rr(e)}),!ge){if(vr===0)k("draw"),await ct(Nt,{"allGamesPlayed.draws":Rr(1)}),console.log("match drawn"),ue(0),ne(0),setTimeout(()=>Ut(),3e3);else if(M===vr){k("win");const wi=R+p;E(wi),Ht?await ct(Nt,{bonusBalance:wi}):await ct(Nt,{tokenBalance:wi}),await ct(Nt,{"allGamesPlayed.wins":Rr(1)}),ue(0),ne(U+1),U+1===10&&ct(Nt,{"reward2status.table":t,"reward2status.result":"win","reward2status.current":"unclaimed"})}else if(M!==vr){k("lose");const wi=cn||Ht?R:R-p;wi>=0?(E(wi),ct(Nt,{tokenBalance:wi}),console.log("heree")):(T(p-R),E(0),ct(Nt,{bonusBalance:b-(p-R),tokenBalance:0}),console.log("heree2")),await ct(Nt,{"allGamesPlayed.loses":Rr(1)}),(!Ht||!cn)&&ue(te+1),ne(0),te+1===10?ct(Nt,{"reward2status.table":t,"reward2status.result":"lose","reward2status.current":"unclaimed"}):te+1===3?setTimeout(()=>qn(!0),3e3):te+1===8&&setTimeout(()=>Cn(!0),3e3)}}if(!ge){await ct(Nt,{[`tablesPlayedCount.table${t}Count`]:Rr(1)}),await ct(Nt,{"allGamesPlayed.total":Rr(1)});const wi=`users/table${t}/playCount`;Sj(tn(Lr,wi),Fc=>Fc===null?1:Fc+1)}},Ee=()=>{document.getElementById("player").setAttribute("style","top: -150px"),Ir(tn(Lr,`users/table${t}/players/`+r),{boxClicked:1}),$(1)},je=()=>{document.getElementById("player").setAttribute("style","top: 48px"),Ir(tn(Lr,`users/table${t}/players/`+r),{boxClicked:2}),$(2)},Ve=bt=>{De(!0),Xe(!1),Ir(tn(Lr,`users/table${t}/players/`+r),{boxClicked:1}),$(1)},Ge=()=>{!J&&Xe(!0),!J&&De(!1),Ir(tn(Lr,`users/table${t}/players/`+r),{boxClicked:2}),$(2)},dt=()=>{if(document.visibilityState==="hidden"){const bt=tn(Lr,`users/table${t}/players/${r}`);r_(bt),ke(!1)}},at=async()=>{const bt=tn(Lr,`users/table${t}/players/${r}`);await r_(bt),console.log("unmounted called")},it=()=>l/e*100,Tt=bt=>{bt.stopPropagation(),me("Share and earn bonus! "),we("Share your referral link and earn bonus"),rt("share"),Oe(!0)},Ut=()=>{const bt=tn(Lr,`users/table${t}/tableType`),Nt=tn(Lr,`users/table${t}/design/`),jt=QSe();Ir(bt,jt.tableType),jt.tableType!=="COINMOVE"&&Ir(Nt,{bgColor:jt.bgColor,buttonsType:jt.buttonsType,resultType:jt.resultType})};function vn(){const bt=[];for(let Nt=0;Nt<3;Nt++)bt.push(Math.floor(Math.random()*2)+1);return bt}const yn=()=>{vn().forEach((Nt,jt)=>{Ir(tn(Lr,`users/table${t}/players/bot${jt}`),{boxClicked:Nt})})};y.useEffect(()=>{const bt=tn(Lr,`timer${t}`);return Tg(bt).then(Nt=>{const jt=Nt.val();jt!==0&&c(jt)}),jo(bt,Nt=>{c(Nt.val())}),()=>{jo(bt,()=>{}),l!==null&&(Ir(tn(Oa(),`timer${t}`),l),Dve(tn(Oa(),`timer${t}`)).cancel())}},[]),y.useEffect(()=>{if(l===null)return;let bt;return l>0&&!u?(bt=setInterval(()=>{Ir(tn(Oa(),`timer${t}`),l-1)},1e3),l===e&&(yn(),$(0)),l===5&&e!==10&&(Z(!0),(M===-1||M===0)&&(K(!0),Ir(tn(Lr,`users/table${t}/players/`+r),{boxClicked:0}))),l===3&&e===10&&(Z(!0),(M===-1||M===0)&&(K(!0),Ir(tn(Lr,`users/table${t}/players/`+r),{boxClicked:0})))):l===0&&(_(!0),!g&&q(),d(!0),Oe(!1),fe(!0),ee(!0),setTimeout(()=>{Ir(tn(Oa(),`timer${t}`),e),d(!1),_(!1),fe(!1),K(!1),Z(!1),mt<en.length-1?Dn(mt+1):Dn(0),De(!1),Xe(!1),cn&&Cn(!1),Ht&&qn(!1),Tg(tn(Lr,`users/table${t}/playCount`)).then(jt=>{jt.exists()?jt.val()%25===0&&(console.log("25th game"),Ut()):console.log("No data available")}).catch(jt=>{console.error(jt)});const Nt=document.getElementById("player");Nt==null||Nt.setAttribute("style","top: -51px"),R+b<p&&(n(`/table/${t}/error`),Oe(!1))},3e3)),()=>clearInterval(bt)},[l,u,g]),y.useEffect(()=>{const bt=tn(Lr,`users/table${t}/tableType`),Nt=tn(Lr,`users/table${t}/design/bgColor`),jt=tn(Lr,`users/table${t}/design/buttonsType`),yi=tn(Lr,`users/table${t}/design/resultType`);jo(bt,ur=>{const vr=ur.val();vr&&_e(vr)}),jo(jt,ur=>{const vr=ur.val();vr&&re(vr)}),jo(yi,ur=>{const vr=ur.val();vr&&be(vr)}),jo(Nt,ur=>{const vr=ur.val();vr&&B(vr)})},[wt,Ye,X,xe,wt]),y.useEffect(()=>(document.addEventListener("visibilitychange",dt),()=>{document.removeEventListener("visibilitychange",dt),at()}),[]),y.useEffect(()=>{const bt=yt(FM,"users",r),Nt=pd(bt,jt=>{var yi;if(jt.exists()){const ur=parseFloat(jt.data().tokenBalance),vr=parseFloat(jt.data().bonusBalance);E(ur),T(vr),ur+vr<p&&l>0&&n(`/table/${t}/error`),((yi=jt.data().tablesPlayedCount)==null?void 0:yi[`table${t}Count`])%20===0&&Cn(!0)}else console.log("No such document!");D(!1)});return()=>Nt()},[O]),y.useEffect(()=>{!Te&&n("/live")},[Te]);const[Le,$e]=y.useState(null),[vt,Ln]=y.useState(null),[an,Wt]=y.useState("");y.useEffect(()=>{if(u){const bt=setTimeout(()=>{Dn(-1),mr(!0)},2e3);return()=>{clearTimeout(bt)}}else{const bt=setTimeout(()=>{mr(!1)},0);return()=>{clearTimeout(bt)}}},[u]);function $s(){J||(Wt("first"),$e(!1))}function gs(){J||(Wt("second"),Ln(!1))}return y.useEffect(()=>{var Nt;const bt=setTimeout(()=>{an==="first"&&$e(!0)},(Nt=en[mt])==null?void 0:Nt.timerOne);return()=>{clearTimeout(bt)}},[Le,an]),y.useEffect(()=>{var Nt;const bt=setTimeout(()=>{an==="second"&&Ln(!0)},(Nt=en[mt])==null?void 0:Nt.timerTwo);return()=>{clearTimeout(bt)}},[vt,an]),y.useEffect(()=>{const bt=setTimeout(()=>{ee(!1)},2e3);return()=>{clearTimeout(bt)}},[u]),r?s===!0||I===!0?h(Ms,{}):x("div",{className:"sm:w-[500px] h-[100vh] sm:mx-auto overflow-y-scroll overflow-x-hidden scrollbar-hide",children:[x("div",{className:"flex justify-between my-2 mx-1",children:[h(wn,{to:"/live",children:h("div",{className:"mt-[5px]",children:h(kz,{className:"w-7 h-7 bg text-gray-500 arrow-svg"})})}),x("div",{className:"flex w-fit border ml-12 border-gray-300 px-3 py-1 bg-white rounded-xl shadow-sm ml-2",children:[h("div",{className:`font-medium mr-2 text-lg ${u&&!ge?C==="win"?"text-green-600":C==="lose"&&"text-red-600":"text-gray-600"}`,children:h(kIe,{includeComma:!0,transitions:bt=>({type:"spring",duration:bt+.8}),animationType:"calm",config:{tension:89,friction:40},animateToNumber:R+b})}),h(ro,{className:"mt-[5px] w-[20px] h-[20px] text-yellow-500"})]}),x("div",{className:"flex w-fit border border-gray-300 px-3 py-1 bg-white rounded-xl shadow-sm",children:[h("span",{className:"font-medium mr-1 text-lg text-gray-600",children:p}),h("span",{children:h(aY,{className:"my-[5px] w-[20px] h-[18px] text-yellow-500"})})]})]}),h("div",{style:{position:"relative"},children:ge?h(Bd,{message:js.spectator,messageStyle:"font-semibold text-gray-600",type:wt,scale:2}):u?h("div",{className:"text-center",children:C==="win"?Ht?h(Bd,{message:js.bonusWinner,scale:1,bonus:!0}):h(Bd,{message:js.YouWin,scale:1}):C==="lose"?h(Bd,{message:js.YouLose,scale:1}):C==="draw"?h(Bd,{message:js.draw,scale:1,bonus:!0}):h("div",{className:Ct.NotVisible,children:" "})}):J&&h(Bd,{message:js.lock,scale:2})}),h("div",{style:{position:"relative"},children:cn?h(AM,{message:js.freeRound,messageStyle:"font-bold text-md text-yellow-500 "}):Ht&&h(AM,{message:js.bonusRound,messageStyle:"font-bold text-md text-blue-500 "})}),h("div",{className:"relative",style:{position:"relative"},children:Ht&&x("div",{children:[h("img",{loading:"eager",className:"absolute top-0 right-0 h-[80vh] w-[15px] xsm:w-[20px] mt-4 z-10",src:nTe,alt:"right border"}),h("img",{loading:"eager",className:"absolute bottom-[-83vh] xsm:bottom-[-84vh] left-0 w-full pl-[2px] z-10",src:rTe,alt:"bottom border"}),h("img",{loading:"eager",className:"absolute top-0 left-0 h-[80vh] w-[15px] xsm:w-[20px] mt-4",src:eTe,alt:"left border"}),h("img",{loading:"eager",className:"absolute top-0 right-0 w-full",src:tTe,alt:"top border"})]})}),h("div",{className:"relative",children:cn&&x("div",{children:[h("img",{loading:"eager",className:"absolute top-0 right-0  h-[81vh] xsm:h-[80vh] w-[12px] xsm:w-[13px] xsm:mr-[1px] mt-3 xsm:mt-4  z-10",src:oTe,alt:"right border"}),h("img",{loading:"eager",className:"absolute bottom-[-83vh] xsm:bottom-[-83vh] left-0 w-full ml-[1px] xsm:ml z-10",src:aTe,alt:"bottom border"}),h("img",{loading:"eager",className:"absolute top-0 left-0 h-[81vh] xsm:h-[80vh] w-[12px] xsm:w-[13px] mt-3 xsm:mt-4",src:iTe,alt:"left border"}),h("img",{loading:"eager",className:"absolute top-0 right-0 w-full",src:sTe,alt:"top border"})]})}),wt==="VERTICAL"||wt=="HORIZONTAL"?h("div",{style:{position:"relative",background:Ne&&"black"},className:`${Ht||cn?Ct.MainSection:Ct.MainSectionWithoutFree} ${Ct[(si=(Gi=en[mt])==null?void 0:Gi.styles)==null?void 0:si.className]}`,children:x("div",{className:Ne?Ct.BoxFlip:Ct.Box,children:[x("div",{className:Ct.box1main,onClick:bt=>!J&&Ve(),children:[h("div",{className:"self-start",style:{zIndex:"50",position:"absolute"},children:x("div",{className:"h-fit flex py-1 px-2 rounded-lg ml-4 mt-4 bg-red-500",children:[h(s5,{className:"w-4 h-5 text-white mr-2"}),x("span",{className:"font-semibold text-white text-[14px]",children:[a.length," ",h("span",{className:"text-[13px]",children:"LIVE"})]})]})}),console.log("isOne Waiting  ",Le),console.log("isTwo Waiting ",vt),x("span",{className:"text-[30px] text-gray-600 font-semibold",children:[console.log(X),X==="YELLOW_LR"||X=="TURQ_12"||X==="PINK_LR"||X==="GRAY_12"?pe?u?O>V?h("img",{loading:"eager",src:(vs=en[mt])==null?void 0:vs.waitingOne,className:(ys=en[mt])!=null&&ys.sideOneTwo?Ct==null?void 0:Ct.SpecialHotCold:Ct==null?void 0:Ct.LeftPotionGif}):O<V?x("div",{className:Ct==null?void 0:Ct.BitCoinOne,children:[h("img",{loading:"eager",style:{transform:"scale(1.7)"},src:js==null?void 0:js.BitCoinOne,className:Ct==null?void 0:Ct.LeftPotionGifWinner}),h(MM,{side:"left",value:p})]}):h("img",{loading:"eager",src:en[mt].waitingOne,className:en[mt].sideOneTwo?Ct.SpecialHotCold:Ct.LeftPotionGif}):Le?h("img",{loading:"eager",src:en[mt].waitingOne,className:en[mt].sideOneTwo?Ct.SpecialHotCold:Ct.LeftPotionGif}):h("img",{loading:"eager",src:en[mt].pressedOne,className:en[mt].sideOneTwo?Ct.SpecialHotCold:Ct.LeftPotionGif}):h("img",{loading:"eager",onClick:()=>$s(),src:(lo=en[mt])==null?void 0:lo.thummbnailOne,className:(gr=en[mt])!=null&&gr.sideOneTwo?Ct.SpecialHotCold:Ct.LeftPotionGif}):" ",h("div",{className:u?Ct.Result:Ct.HiddenResult,children:x("div",{children:[O," %"]})})]})]}),x("div",{className:Ct.BoxMain2,onClick:()=>!J&&Ge(),style:{display:"flex",alignItems:"center"},children:[h("div",{className:"self-end mr-2 mt-3 mb-[48px]",style:{zIndex:10},children:h(NM,{progress:it(),timer:l,tableTime:e})}),x("span",{className:"text-[30px] mb-[50px] text-gray-600 font-semibold ",children:[X==="YELLOW_LR"||X==="PINK_LR"||X==="TURQ_12"||X==="GRAY_12"?St?u?O<V?h("img",{loading:"eager",style:(Gt=en[mt])!=null&&Gt.designChangeTwo?{transform:"scale(0.8)",marginTop:"-25px"}:(Us=en[mt])!=null&&Us.rotateTwo?{transform:"rotateY(180deg)"}:{},src:(co=en[mt])==null?void 0:co.waitingTwo,className:(ba=en[mt])!=null&&ba.sideOneTwo?Ct.SpecialHotColdTwo:Ct.rightPortionGif}):O>V?st&&x("div",{className:Ct.BitCoin,children:[h("img",{loading:"eager",src:js.BitCoinTwo,className:Ct.rightPortionWinBitCoin,style:{transform:"scale(1.4)",marginTop:"6rem"}}),h(MM,{side:"right",value:p})]}):h("img",{loading:"eager",style:en[mt].designChangeTwo?{transform:"scale(0.8)",marginTop:"-25px"}:en[mt].rotateTwo?{transform:"rotateY(180deg)"}:{},src:en[mt].waitingTwo,className:en[mt].sideOneTwo?Ct.SpecialHotColdTwo:Ct.rightPortionGif}):vt?h("img",{loading:"eager",src:(xa=en[mt])==null?void 0:xa.waitingTwo,style:(uo=en[mt])!=null&&uo.designChangeTwo?{transform:"scale(0.8)",marginTop:"-25px"}:(_d=en[mt])!=null&&_d.rotateTwo?{transform:"rotateY(180deg)"}:{},className:(Mc=en[mt])!=null&&Mc.sideOneTwo?Ct.SpecialHotColdTwo:Ct.rightPortionGif}):h("img",{loading:"eager",src:en[mt].pressedTwo,style:en[mt].designChangeTwo?{transform:"scale(0.8)",marginTop:"-25px"}:en[mt].rotateTwo?{transform:"rotateY(180deg)"}:{},className:en[mt].sideOneTwo?Ct.SpecialHotColdTwo:Ct.rightPortionGif}):h("img",{loading:"eager",src:(ll=en[mt])==null?void 0:ll.thumbnailTwo,style:(dn=en[mt])!=null&&dn.designChangeTwo?{transform:"scale(0.8)",marginTop:"-25px"}:(cl=en[mt])!=null&&cl.rotateTwo?{transform:"rotateY(180deg)"}:{},onClick:gs,className:(ul=en[mt])!=null&&ul.sideOneTwo?Ct.SpecialHotColdTwo:Ct.rightPortionGif}):" ",console.log("box 2 vote is ",V),h("div",{className:u?Ct.Result:Ct.HiddenResult,children:x("div",{children:[V," %"]})})]})]}),h("span",{className:"fixed bottom-[85px] right-0 md:right-[28%] lg:right-[34%] sm:bottom-[15%] mb-4 mr-4",children:h("div",{className:"border-[1px] p-3 border-gray-700 rounded-full shadow-md bg-white",onClick:bt=>Tt(bt),children:h(i5,{className:"w-6 h-5 text-gray-700"})})})]})}):x("div",{className:"flex-col mt-6 h-[70vh] w-full",children:[h("div",{className:"w-full mb-5",children:x("div",{className:"flex justify-between",children:[x("div",{className:"h-fit flex py-1 px-2 rounded-lg ml-4 mt-4 bg-red-500",children:[h(s5,{className:"w-4 h-5 text-white mr-2"}),x("span",{className:"font-semibold text-white text-[14px]",children:[a.length," ",h("span",{className:"text-[13px]",children:"LIVE"})]})]}),h("div",{className:"mr-2 mt-2",children:h(NM,{progress:it(),timer:l,tableTime:e,outside:!0})})]})}),h("div",{className:`relative z-0 
            ${ge?"border-[3px] border-black":"border-[2px] border-gray-400"} 
            h-[44%] rounded-t-md flex flex-col justify-center items-center text-2xl cursor-pointer ${u?M===0?O<V?"bg-green-500":O>V?"bg-red-500":"bg-gray-400":O===V?"bg-gray-400":M===1&&O<V?"bg-green-500":M===1&&O>V?"bg-red-500":"bg-[#3A3B3C]":"bg-[#3A3B3C]"}`,onClick:()=>!J&&Ee(),children:h("span",{className:"text-[30px] text-white font-semibold",children:"1"})}),h("div",{className:`relative top-[-70px] left-[-35%] z-10 w-full flex flex-row justify-center  ${Y?"visible":"invisible"} `,children:x("div",{className:"rounded-md border border-gray-300 text-gray-600 shadow-md px-3 py-1 bg-white",children:[O," %"]})}),h("div",{id:"player",className:`relative top-[-51px] z-10 w-full flex flex-row justify-center ${ge?"invisible":"visible"} `,children:h(ro,{className:"w-[35px] h-[35px] rounded-full text-yellow-500 bg-white shadow-lg"})}),h("div",{className:`relative top-[-35px] left-[-35%] z-10 w-full flex flex-row justify-center ${Y?"visible":"invisible"}`,children:x("div",{className:"rounded-md border border-gray-300 text-gray-600 shadow-md px-3 py-1 bg-white",children:[V," %"]})}),x("div",{className:`relative top-[-103px] z-0 
            ${ge?"border-x-[3px] border-b-[3px] border-black":"border-x-[2px] border-b-[2px] border-gray-400"} 
            h-[44%] flex flex-col justify-center items-center text-2xl rounded-b-md cursor-pointer ${u?M===0?O<V?"bg-red-500":O>V?"bg-green-500":"bg-gray-400":O===V?"bg-gray-400":M===2&&O<V?"bg-red-500":M===2&&O>V?"bg-green-500":"bg-[#3A3B3C]":"bg-[#3A3B3C]"}`,onClick:()=>!J&&je(),children:[h("span",{className:"text-[30px] font-semibold mt-11 text-white",children:"2"}),h("span",{className:"z-10 relative top-[17%] left-[39%] cursor-pointer",children:h("div",{className:"border-[1px] p-3 border-gray-400 rounded-full shadow-md bg-gray-50",onClick:bt=>Tt(bt),children:h(i5,{className:"w-6 h-5 text-gray-500"})})})]})]}),h(kA,{})]}):h(yd,{})},DIe=()=>{const[t,e]=y.useState("");return x("div",{children:[h("h1",{children:"Google Authenticator"}),h("button",{onClick:async()=>{const s=rl().currentUser;console.log(s.multiFactor),mU(s)},children:"Enable Multifactor"}),h("div",{id:"recaptcha-container"}),h("label",{children:"Verification OTP:"}),h("input",{type:"text",value:t,onChange:i=>e(i.target.value)}),h("button",{onClick:async()=>{const i="123456",s=firebase.auth.PhoneMultiFactorGenerator.assertion(i,phoneInfo);try{await user.multiFactor.enroll([s],"My Second Factor"),console.log("2FA successfully enabled")}catch(o){console.error("Error enabling 2FA:",o)}},children:"Verify"})]})},BM=lr($t),ny=Oa($t),LIe=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(0),[i,s]=y.useState(0),[o,a]=y.useState(0),[l,c]=y.useState(0),[u,d]=y.useState(0),[p,v]=y.useState(0),[g,_]=y.useState(0),[R,E]=y.useState(0),[b,T]=y.useState(0),[I,D]=y.useState(0),[M,$]=y.useState(0),[C,k]=y.useState(0),[O,W]=y.useState(""),[V,z]=y.useState(0),[Y,fe]=y.useState(0),[ge,K]=y.useState(0),[J,Z]=y.useState(0),[Te,ke]=y.useState(0),[U,ne]=y.useState(0),[te,ue]=y.useState(0),le=yt(BM,"public","settings"),Oe=()=>{ct(le,{payoutProfits:+n})},We=_e=>{_e===0?ct(le,{bonusRoundTime:+i}):_e===1?ct(le,{freeRoundCount:+l}):_e===2&&(console.log(o),ct(le,{freeRoundTime:+o}))},me=_e=>{_e===1?ct(le,{level1time:+u}):_e===2?ct(le,{level2time:+p}):_e===3&&ct(le,{level3time:+g})},Be=async _e=>{const Ye=async B=>{const X=`table${B}`,re=tn(ny,`users/${X}/players`);try{const be=(await Tg(re)).val();if(!be)return;const pe={};for(const De in be)De.startsWith("bot")&&(pe[De]=null);await Ir(re,pe)}catch(xe){console.error("Error retrieving or removing players:",xe)}};if(_e===1){const B=[1,2,3];for(const re of B)await Ye(re);const X={};for(let re=0;re<R;re++){const xe=`bot${re}`;X[xe]={boxClicked:1}}for(const re of B){const xe=`table${re}`,be=tn(ny,`users/${xe}/players`);await Ir(be,X)}ct(le,{level1Bots:+R})}else if(_e===2){const B=[4,5,6];for(const re of B)await Ye(re);const X={};for(let re=0;re<b;re++){const xe=`bot${re}`;X[xe]={boxClicked:1}}for(const re of B){const xe=`table${re}`,be=tn(ny,`users/${xe}/players`);await Ir(be,X)}ct(le,{level2Bots:+b})}else if(_e===3){const B=[7,8,9];for(const re of B)await Ye(re);const X={};for(let re=0;re<I;re++){const xe=`bot${re}`;X[xe]={boxClicked:1}}for(const re of B){const xe=`table${re}`,be=tn(ny,`users/${xe}/players`);await Ir(be,X)}ct(le,{level3Bots:+I})}else _e===4&&ct(le,{botWinPercentage:+M})},we=_e=>{_e===1?ct(le,{withdrawFeePercentage:+C}):_e===2&&ct(le,{adminWallet:O})},nt=_e=>{_e===1?ct(le,{reward1:+V}):_e===2?ct(le,{reward2:+ge,reward2times:+Y}):_e===3?ct(le,{reward3:+J}):_e===4?ct(le,{reward4:+Te}):_e===5&&ct(le,{reward5:+te,reward5Hrs:+U})},rt=async()=>{e(!0);const _e=yt(BM,"public","settings"),Ye=await _n(_e);if(Ye.exists()){const B=Ye.data();B&&(r(B.payoutProfits??0),s(B.bonusRoundTime??0),c(B.freeRoundCount??0),a(B.freeRoundTime??0),d(B.level1time??0),v(B.level2time??0),_(B.level3time??0),E(B.level1Bots??0),T(B.level2Bots??0),D(B.level3Bots??0),$(B.botWinPercentage??0),k(B.withdrawFeePercentage??0),W(B.adminWallet??""),z(B.reward1??0),fe(B.reward2times??0),K(B.reward2??0),Z(B.reward3??0),ke(B.reward4??0),ne(B.reward5Hrs??0),ue(B.reward5??0))}else console.log("No such document!");e(!1)};return y.useEffect(()=>(rt(),()=>{}),[]),localStorage.getItem("adminAuthID")?t?h("div",{className:"p-4 lg:ml-64",children:h(Ms,{})}):x("div",{className:"p-4 lg:ml-64",children:[x("h1",{className:"font-bold mb-6 text-xl flex",children:["SETTINGS ",h(uY,{className:"w-6 h-6 mt-[3px] ml-2"})," "]}),x("div",{children:[x("div",{className:"font-semibold mb-5 text-blue-600 flex",children:["TABLE SETTINGS"," ",h(Zx,{className:"w-5 h-5 mt-[3px] ml-2"})," "]}),x("div",{className:"flex w-[70%] justify-between mb-6",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1",children:"Payouts from profits"}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px] h-[33px]",value:n,onChange:_e=>r(_e.target.value)}),h("div",{className:"py-1",children:"%"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>Oe(),children:"Save"})]}),h("div",{className:"font-medium mb-4 text-blue-600",children:"Rounds"}),x("div",{className:"flex w-[70%] justify-between mb-4",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1",children:"Bonus every"}),h("input",{value:i,onChange:_e=>s(_e.target.value),className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px]"}),h("div",{className:"py-1",children:"minutes"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>We(0),children:"Save"})]}),x("div",{className:"flex w-[70%] justify-between mb-4",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1",children:"Free round for users every"}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px]",value:o,onChange:_e=>a(_e.target.value)}),h("div",{className:"py-1",children:"games"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>We(1),children:"Save"})]}),x("div",{className:"flex w-[70%] justify-between mb-6",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1",children:"Free round every"}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px]",value:l,onChange:_e=>c(_e.target.value)}),h("div",{className:"py-1",children:"minutes"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>We(2),children:"Save"})]}),h("div",{className:"font-medium mb-4 text-blue-600",children:"Change Time"}),x("div",{className:"flex w-[70%] justify-between mb-4",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-4",children:"Level 1"}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px]",value:u,onChange:_e=>d(_e.target.value)})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>me(1),children:"Save"})]}),x("div",{className:"flex w-[70%] justify-between mb-4",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-4",children:"Level 2"}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px]",value:p,onChange:_e=>v(_e.target.value)})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>me(2),children:"Save"})]}),x("div",{className:"flex w-[70%] justify-between mb-6",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-4",children:"Level 3"}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px]",value:g,onChange:_e=>_(_e.target.value)})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>me(3),children:"Save"})]}),h("div",{className:"font-medium mb-4 text-blue-600",children:"Bot Settings"}),x("div",{className:"flex w-[70%] justify-between mb-4",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1",children:"Number of bots"}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px]",value:R,onChange:_e=>E(_e.target.value)}),h("div",{className:"py-1",children:"on Level 1"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>Be(1),children:"Save"})]}),x("div",{className:"flex w-[70%] justify-between mb-4",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1",children:"Number of bots"}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px]",value:b,onChange:_e=>T(_e.target.value)}),h("div",{className:"py-1",children:"on Level 2"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>Be(2),children:"Save"})]}),x("div",{className:"flex w-[70%] justify-between mb-4",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1",children:"Number of bots"}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px]",value:I,onChange:_e=>D(_e.target.value)}),h("div",{className:"py-1",children:"on Level 3"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>Be(3),children:"Save"})]}),x("div",{className:"flex w-[70%] justify-between mb-6",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1",children:"Bot Winning"}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px]",value:M,onChange:_e=>$(_e.target.value)}),h("div",{className:"py-1",children:"%"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>Be(4),children:"Save"})]})]}),h("hr",{className:"h-[2px] bg-gray-400"}),x("div",{children:[x("div",{className:"font-semibold my-4 text-blue-600 flex",children:["PAYMENT SETTINGS"," ",h(DIe,{}),h(Zx,{className:"w-5 h-5 mt-[3px] ml-2"})," "]}),x("div",{className:"flex w-[70%] justify-between mb-4",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-4",children:"Withdraw Platform fee "}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[70px]",value:C,onChange:_e=>k(_e.target.value)}),h("div",{className:"py-1 mr-4",children:"%"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>we(1),children:"Save"})]}),x("div",{className:"flex w-[70%] justify-between mb-6",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-4",children:"Admin Wallet "}),h("input",{className:"mx-2 border border-gray-300 rounded-md px-2 w-[300px]",value:O,onChange:_e=>W(_e.target.value)})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>we(2),children:"Save"})]})]}),h("hr",{className:"h-[2px] bg-gray-400"}),x("div",{children:[x("div",{className:"font-semibold my-4 text-blue-600 flex",children:["REWARDS SETTINGS"," ",h(Zx,{className:"w-5 h-5 mt-[3px] ml-2"})," "]}),h("div",{className:"font-medium text-blue-600 py-1 mr-3 ",children:"Reward 1 "}),x("div",{className:"flex  w-[70%] justify-between mb-4",children:[h("div",{className:"flex mr-8",children:h("div",{className:"py-1 mr-1",children:"Referral bonus "})}),x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-2",children:""}),h("input",{className:"mr-2 border border-gray-300 rounded-md px-2 w-[70px]",value:V,onChange:_e=>z(_e.target.value)})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>nt(1),children:"Save"})]}),h("div",{className:"font-medium text-blue-600 py-1 mr-3 ",children:"Reward 2 "}),x("div",{className:"flex  w-[70%] justify-between mb-4",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-1",children:"Win or loose "}),h("input",{className:"mr-2 border border-gray-300 rounded-md px-2 w-[70px]",value:Y,onChange:_e=>fe(_e.target.value)}),h("div",{className:"py-1 mr-4",children:"times"})]}),x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-1",children:"BONUS "}),h("input",{className:"mr-2 border border-gray-300 rounded-md px-2 w-[70px]",value:ge,onChange:_e=>K(_e.target.value)}),h("div",{className:"py-1 mr-4"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>nt(2),children:"Save"})]}),h("div",{className:"font-medium text-blue-600 py-1 mr-3 ",children:"Reward 3 "}),x("div",{className:"flex  w-[70%] justify-between mb-4",children:[h("div",{className:"flex mr-8",children:h("div",{className:"py-1 mr-1",children:"Unlock 2 star tables "})}),x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-2",children:"BONUS"}),h("input",{className:"mr-2 border border-gray-300 rounded-md px-2 w-[70px]",value:J,onChange:_e=>Z(_e.target.value)}),h("div",{className:"py-1 mr-4",children:"%"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>nt(3),children:"Save"})]}),h("div",{className:"font-medium text-blue-600 py-1 mr-3 ",children:"Reward 4 "}),x("div",{className:"flex  w-[70%] justify-between mb-4",children:[h("div",{className:"flex mr-8",children:h("div",{className:"py-1 mr-1",children:"Unlock 3 star tables "})}),x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-2",children:"BONUS"}),h("input",{className:"mr-2 border border-gray-300 rounded-md px-2 w-[70px]",value:Te,onChange:_e=>ke(_e.target.value)}),h("div",{className:"py-1 mr-4",children:"%"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>nt(4),children:"Save"})]}),h("div",{className:"font-medium text-blue-600 py-1 mr-3 ",children:"Reward 5 "}),x("div",{className:"flex  w-[70%] justify-between mb-4",children:[x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-1",children:"Play "}),h("input",{className:"mr-2 border border-gray-300 rounded-md px-2 w-[70px]",value:U,onChange:_e=>ne(_e.target.value)}),h("div",{className:"py-1 mr-4",children:"hour(s)"})]}),x("div",{className:"flex mr-8",children:[h("div",{className:"py-1 mr-1",children:"BONUS "}),h("input",{className:"mr-2 border border-gray-300 rounded-md px-2 w-[70px]",value:te,onChange:_e=>ue(_e.target.value)}),h("div",{className:"py-1 mr-4"})]}),h("div",{className:"border rounded-md bg-blue-500 text-white cursor-pointer px-4 py-1 hover:bg-blue-600 active:bg-blue-800",onClick:()=>nt(5),children:"Save"})]})]})]}):h("div",{children:x("div",{className:"flex flex-col justify-center h-[70vh] text-center items-center",children:[h("div",{className:"font-bold text-[21px] mb-[20px]",children:"Not Authorised"}),h(wn,{to:"/login",className:"text-blue-500 font-bold",children:"Go back"})]})})},OIe=lr($t),MIe=({match:t})=>{const[e,n]=y.useState([]),[r,i]=y.useState(!1),{userId:s}=Dh();return y.useEffect(()=>{(async()=>{i(!0);try{const l=yt(OIe,"users",s),c=await _n(l);if(c.exists()){const u=c.data(),d=`/getWallet/${s}`,v=(await Xu.get(d)).data.address;u.walletAddress=v,n(u),console.log("User",e),i(!1)}else console.log("User not found"),i(!1)}catch(l){i(!1),console.log("Error fetching user:",l)}})()},[]),localStorage.getItem("adminAuthID")?r?h(Ms,{}):h(TH,{userData:e}):x("div",{className:"flex flex-col justify-center h-[70vh] text-center items-center",children:[h("div",{className:"font-bold text-[21px] mb-[20px]",children:"Not Authorised"}),h(wn,{to:"/login",className:"text-blue-500 font-bold",children:"Go back"})]})};function FIe(){return h("div",{children:x(WQ,{children:[h(Dye,{}),x($Q,{children:[h(Kn,{path:"/login",element:h(zEe,{})}),h(Kn,{path:"/signup",element:h(vM,{})}),h(Kn,{path:"/signup/:referrerID",element:h(vM,{})}),h(Kn,{path:"/",element:h(yM,{})}),h(Kn,{path:"/live",element:h(yM,{})}),h(Kn,{path:"/:time/table/:number",element:h(PIe,{})}),h(Kn,{path:"/table/:number/:error",element:h(YEe,{})}),h(Kn,{path:"/myAccount",element:h(TH,{userData:null})}),h(Kn,{path:"/termsConditions",element:h(ESe,{})}),h(Kn,{path:"/report",element:h(zSe,{})}),h(Kn,{path:"/deposit",element:h(dxe,{})}),h(Kn,{path:"/rewards",element:h(UEe,{})}),h(Kn,{path:"/withdraw",element:h(A_e,{})}),h(Kn,{path:"/admin/allUsers",element:h(ySe,{})}),h(Kn,{path:"/admin/activeUsers",element:h(gSe,{})}),h(Kn,{path:"/admin/transactions",element:h(wSe,{})}),h(Kn,{path:"/admin/withdrawRequests",element:h(bSe,{})}),h(Kn,{path:"/admin/verfications",element:h(_Se,{})}),h(Kn,{path:"/admin/settings",element:h(LIe,{})}),h(Kn,{path:"/admin/termsSet",element:h(MSe,{})}),h(Kn,{path:"/admin/reportedIssues",element:h(HSe,{})}),h(Kn,{path:"/admin/user/:userId",element:h(MIe,{})}),h(Kn,{path:"*",element:h(hxe,{})})]}),h(ise,{})]})})}const BIe="My Account",$Ie="Deposit",UIe="Go Live",VIe="Rewards",jIe="Withdraw",zIe="Choose Table",HIe="Profile",WIe="Username",GIe="Email",qIe="Phone",KIe="Documents",QIe="Proof of Identity",YIe="Proof of Address",XIe="Upload",JIe="Balance",ZIe="Account Balance",eNe="Bonus Balance",tNe="History",nNe="Transactions",rNe="Deposits",iNe="Withdraws",sNe="Games",oNe="Played",aNe="Wins",lNe="Losses",cNe="Draw",uNe="Referrals",dNe="Registrada",hNe="Verified",fNe="Bonus Earnings",pNe="Reward",mNe="Complete",gNe="In complete",vNe={myAccount:BIe,Deposit:$Ie,GoLive:UIe,Rewards:VIe,Withdraw:jIe,ChooseTable:zIe,Profile:HIe,Username:WIe,Email:GIe,Phone:qIe,Documents:KIe,ProofofIdentity:QIe,ProofofAddress:YIe,Upload:XIe,Balance:JIe,AccountBalance:ZIe,BonusBalance:eNe,History:tNe,Transactions:nNe,Deposits:rNe,Withdraws:iNe,Games:sNe,Played:oNe,Wins:aNe,Losses:lNe,Draw:cNe,Referrals:uNe,Registered:dNe,Verified:hNe,BonusEarnings:fNe,Reward:pNe,Complete:mNe,Incomplete:gNe},yNe="Mi Cuenta",wNe="Depsito",_Ne="Vivir",bNe="Recompensas",xNe="Retirar",ENe="Elegir Tabla",SNe="Perfil",TNe="Nombre de usuario",CNe="Email",INe="Telfono",NNe="Documentos",RNe="Identidad",ANe="Direccin",kNe="Subir",PNe="Balance",DNe="Saldo de la cuenta",LNe="Saldo de bonificacin",ONe="Historia",MNe="Actas",FNe="Depsitos",BNe="Retiros",$Ne="Juegos",UNe="Jugada",VNe="Victorias",jNe="Prdidas",zNe="Empate",HNe="Referencias",WNe="Registrada",GNe="Verificada",qNe="Ganancias de bonificacin",KNe="Premio",QNe="reclamado",YNe="no reclamado",XNe="Completo",JNe="Incompleto",ZNe={myAccount:yNe,Deposit:wNe,GoLive:_Ne,Rewards:bNe,Withdraw:xNe,ChooseTable:ENe,Profile:SNe,Username:TNe,Email:CNe,Phone:INe,Documents:NNe,ProofofIdentity:RNe,ProofofAddress:ANe,Upload:kNe,Balance:PNe,AccountBalance:DNe,BonusBalance:LNe,History:ONe,Transactions:MNe,Deposits:FNe,Withdraws:BNe,Games:$Ne,Played:UNe,Wins:VNe,Losses:jNe,Draw:zNe,Referrals:HNe,Registered:WNe,Verified:GNe,BonusEarnings:qNe,Reward:KNe,claimed:QNe,unclaimed:YNe,Complete:XNe,Incomplete:JNe},eRe="Mi Cuenta",tRe="Depsito",nRe="Vivir",rRe="Recompensas",iRe="Retirar",sRe="Elegir Tabla",oRe="Perfil",aRe="Nombre de usuario",lRe="Email",cRe="Telfono",uRe="Documentos",dRe="Identidad",hRe="Direccin",fRe="Subir",pRe="Balance",mRe="Saldo de la cuenta",gRe="Saldo de bonificacin",vRe="Historia",yRe="Actas",wRe="Depsitos",_Re="Retiros",bRe="Juegos",xRe="Jugada",ERe="Victorias",SRe="Prdidas",TRe="Empate",CRe="Referencias",IRe="Registrada",NRe="Verificada",RRe="Ganancias de bonificacin",ARe="Premio",kRe="Completo",PRe="Incompleto",DRe={myAccount:eRe,Deposit:tRe,GoLive:nRe,Rewards:rRe,Withdraw:iRe,ChooseTable:sRe,Profile:oRe,Username:aRe,Email:lRe,Phone:cRe,Documents:uRe,ProofofIdentity:dRe,ProofofAddress:hRe,Upload:fRe,Balance:pRe,AccountBalance:mRe,BonusBalance:gRe,History:vRe,Transactions:yRe,Deposits:wRe,Withdraws:_Re,Games:bRe,Played:xRe,Wins:ERe,Losses:SRe,Draw:TRe,Referrals:CRe,Registered:IRe,Verified:NRe,BonusEarnings:RRe,Reward:ARe,Complete:kRe,Incomplete:PRe},LRe="",ORe="",MRe="",FRe="",BRe="",$Re=" ",URe=" ",VRe=" ",jRe=" ",zRe="",HRe="",WRe="",GRe="",qRe="",KRe="",QRe=" ",YRe=" ",XRe="",JRe="",ZRe="",e2e="",t2e="",n2e="",r2e=" ",i2e=" ",s2e="",o2e="",a2e="",l2e=" ",c2e=" ",u2e="",d2e="",h2e=" ",f2e="",p2e=" ",m2e={myAccount:LRe,Deposit:ORe,GoLive:MRe,Rewards:FRe,Withdraw:BRe,ChooseTable:$Re,Profile:URe,Username:VRe,Email:jRe,Phone:zRe,Documents:HRe,ProofofIdentity:WRe,ProofofAddress:GRe,Upload:qRe,Balance:KRe,AccountBalance:QRe,BonusBalance:YRe,History:XRe,Transactions:JRe,Deposits:ZRe,Withdraws:e2e,Games:t2e,Played:n2e,Wins:r2e,Losses:i2e,Draw:s2e,Referrals:o2e,Registered:a2e,Verified:l2e,BonusEarnings:c2e,Reward:u2e,claimed:d2e,unclaimed:h2e,Complete:f2e,Incomplete:p2e},g2e="",v2e="",y2e="",w2e="",_2e="",b2e="",x2e="",E2e="",S2e="",T2e="",C2e="",I2e="",N2e="",R2e="",A2e="",k2e="",P2e="",D2e="",L2e="",O2e="",M2e="",F2e="",B2e="",$2e="",U2e="",V2e="",j2e="",z2e="",H2e="",W2e="",G2e="",q2e="",K2e="",Q2e="",Y2e="",X2e={myAccount:g2e,Deposit:v2e,GoLive:y2e,Rewards:w2e,Withdraw:_2e,ChooseTable:b2e,Profile:x2e,Username:E2e,Email:S2e,Phone:T2e,Documents:C2e,ProofofIdentity:I2e,ProofofAddress:N2e,Upload:R2e,Balance:A2e,AccountBalance:k2e,BonusBalance:P2e,History:D2e,Transactions:L2e,Deposits:O2e,Withdraws:M2e,Games:F2e,Played:B2e,Wins:$2e,Losses:U2e,Draw:V2e,Referrals:j2e,Registered:z2e,Verified:H2e,BonusEarnings:W2e,Reward:G2e,claimed:q2e,unclaimed:K2e,Complete:Q2e,Incomplete:Y2e},J2e="",Z2e="",eAe="",tAe="",nAe="",rAe=" ",iAe="",sAe="",oAe="",aAe="",lAe="",cAe="",uAe="",dAe="",hAe="",fAe=" ",pAe="",mAe="",gAe="",vAe="",yAe="",wAe="",_Ae="",bAe="",xAe="",EAe="",SAe="",TAe="",CAe="",IAe="",NAe="",RAe="",AAe="",kAe="",PAe="",DAe={myAccount:J2e,Deposit:Z2e,GoLive:eAe,Rewards:tAe,Withdraw:nAe,ChooseTable:rAe,Profile:iAe,Username:sAe,Email:oAe,Phone:aAe,Documents:lAe,ProofofIdentity:cAe,ProofofAddress:uAe,Upload:dAe,Balance:hAe,AccountBalance:fAe,BonusBalance:pAe,History:mAe,Transactions:gAe,Deposits:vAe,Withdraws:yAe,Games:wAe,Played:_Ae,Wins:bAe,Losses:xAe,Draw:EAe,Referrals:SAe,Registered:TAe,Verified:CAe,BonusEarnings:IAe,Reward:NAe,claimed:RAe,unclaimed:AAe,Complete:kAe,Incomplete:PAe},LAe=" ",OAe="",MAe="",FAe="",BAe="",$Ae=" ",UAe="",VAe=" ",jAe="",zAe="",HAe="",WAe="  ",GAe="  ",qAe="",KAe="",QAe="  ",YAe=" ",XAe="",JAe="",ZAe="",eke="  ",tke="",nke="",rke="",ike=" ",ske="",oke="",ake=" ",lke="",cke=" ",uke="",dke=" ",hke="",fke="",pke="",mke={myAccount:LAe,Deposit:OAe,GoLive:MAe,Rewards:FAe,Withdraw:BAe,ChooseTable:$Ae,Profile:UAe,Username:VAe,Email:jAe,Phone:zAe,Documents:HAe,ProofofIdentity:WAe,ProofofAddress:GAe,Upload:qAe,Balance:KAe,AccountBalance:QAe,BonusBalance:YAe,History:XAe,Transactions:JAe,Deposits:ZAe,Withdraws:eke,Games:tke,Played:nke,Wins:rke,Losses:ike,Draw:ske,Referrals:oke,Registered:ake,Verified:lke,BonusEarnings:cke,Reward:uke,claimed:dke,unclaimed:hke,Complete:fke,Incomplete:pke},gke="Hesabm",vke="Depozito",yke="Canl",wke="dller",_ke="Geri ekilmek",bke="Tablo Se",xke="Profil",Eke="Kullanc ad",Ske="E-posta",Tke="Telefon",Cke="Telefon",Ike="Kimlik kant",Nke="Adres Kant",Rke="Yklemek",Ake="Bakiyesi",kke="Hesap bakiyesi",Pke="Bonus Bakiyesi",Dke="Tarih",Lke="lemler",Oke="Mevduat",Mke="para ekme",Fke="Oyunlar",Bke="Oynad",$ke="Kazanr",Uke="Kayplar",Vke="Beraberlii",jke="Ynlendirmeler",zke="Kaytl",Hke="Doruland",Wke="Bonus Kazanlar",Gke="dl",qke="talep edildi",Kke="sahipsiz",Qke="tamamlamak",Yke="tamamlanmam",Xke={myAccount:gke,Deposit:vke,GoLive:yke,Rewards:wke,Withdraw:_ke,ChooseTable:bke,Profile:xke,Username:Eke,Email:Ske,Phone:Tke,Documents:Cke,ProofofIdentity:Ike,ProofofAddress:Nke,Upload:Rke,Balance:Ake,AccountBalance:kke,BonusBalance:Pke,History:Dke,Transactions:Lke,Deposits:Oke,Withdraws:Mke,Games:Fke,Played:Bke,Wins:$ke,Losses:Uke,Draw:Vke,Referrals:jke,Registered:zke,Verified:Hke,BonusEarnings:Wke,Reward:Gke,claimed:qke,unclaimed:Kke,Complete:Qke,Incomplete:Yke},Jke={en:vNe,fr:DRe,es:ZNe,ar:m2e,zh:X2e,th:DAe,hi:mke,tr:Xke},$M=JSON.parse(localStorage.getItem("flag"))||"en";SS.createRoot(document.getElementById("root")).render(h(dJ,{locale:$M,messages:Jke[$M],children:h(nse,{children:h(FIe,{})})}));
